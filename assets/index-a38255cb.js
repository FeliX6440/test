function mb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nw={exports:{}},Kc={},rw={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),gb=Symbol.for("react.portal"),vb=Symbol.for("react.fragment"),yb=Symbol.for("react.strict_mode"),wb=Symbol.for("react.profiler"),_b=Symbol.for("react.provider"),Eb=Symbol.for("react.context"),Sb=Symbol.for("react.forward_ref"),Tb=Symbol.for("react.suspense"),Ib=Symbol.for("react.memo"),bb=Symbol.for("react.lazy"),Mv=Symbol.iterator;function Cb(t){return t===null||typeof t!="object"?null:(t=Mv&&t[Mv]||t["@@iterator"],typeof t=="function"?t:null)}var iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ow=Object.assign,sw={};function rs(t,e,n){this.props=t,this.context=e,this.refs=sw,this.updater=n||iw}rs.prototype.isReactComponent={};rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aw(){}aw.prototype=rs.prototype;function am(t,e,n){this.props=t,this.context=e,this.refs=sw,this.updater=n||iw}var um=am.prototype=new aw;um.constructor=am;ow(um,rs.prototype);um.isPureReactComponent=!0;var Lv=Array.isArray,uw=Object.prototype.hasOwnProperty,lm={current:null},lw={key:!0,ref:!0,__self:!0,__source:!0};function cw(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)uw.call(e,r)&&!lw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ka,type:t,key:o,ref:s,props:i,_owner:lm.current}}function Rb(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function Ab(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fv=/\/+/g;function hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ab(""+t.key):e.toString(36)}function il(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ka:case gb:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+hh(s,0):r,Lv(i)?(n="",t!=null&&(n=t.replace(Fv,"$&/")+"/"),il(i,e,n,"",function(l){return l})):i!=null&&(cm(i)&&(i=Rb(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Fv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Lv(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+hh(o,a);s+=il(o,e,n,u,i)}else if(u=Cb(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+hh(o,a++),s+=il(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Iu(t,e,n){if(t==null)return t;var r=[],i=0;return il(t,r,"","",function(o){return e.call(n,o,i++)}),r}function xb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},ol={transition:null},kb={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ol,ReactCurrentOwner:lm};Se.Children={map:Iu,forEach:function(t,e,n){Iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Iu(t,function(){e++}),e},toArray:function(t){return Iu(t,function(e){return e})||[]},only:function(t){if(!cm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=rs;Se.Fragment=vb;Se.Profiler=wb;Se.PureComponent=am;Se.StrictMode=yb;Se.Suspense=Tb;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kb;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ow({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=lm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)uw.call(e,u)&&!lw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Ka,type:t.type,key:i,ref:o,props:r,_owner:s}};Se.createContext=function(t){return t={$$typeof:Eb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_b,_context:t},t.Consumer=t};Se.createElement=cw;Se.createFactory=function(t){var e=cw.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:Sb,render:t}};Se.isValidElement=cm;Se.lazy=function(t){return{$$typeof:bb,_payload:{_status:-1,_result:t},_init:xb}};Se.memo=function(t,e){return{$$typeof:Ib,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=ol.transition;ol.transition={};try{t()}finally{ol.transition=e}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(t,e){return Qt.current.useCallback(t,e)};Se.useContext=function(t){return Qt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Qt.current.useEffect(t,e)};Se.useId=function(){return Qt.current.useId()};Se.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Qt.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};Se.useRef=function(t){return Qt.current.useRef(t)};Se.useState=function(t){return Qt.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return Qt.current.useTransition()};Se.version="18.2.0";rw.exports=Se;var b=rw.exports;const vr=tw(b),wf=mb({__proto__:null,default:vr},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=b,Db=Symbol.for("react.element"),Ob=Symbol.for("react.fragment"),Nb=Object.prototype.hasOwnProperty,Mb=Pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lb={key:!0,ref:!0,__self:!0,__source:!0};function dw(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Nb.call(e,r)&&!Lb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Db,type:t,key:o,ref:s,props:i,_owner:Mb.current}}Kc.Fragment=Ob;Kc.jsx=dw;Kc.jsxs=dw;nw.exports=Kc;var E=nw.exports,_f={},hw={exports:{}},vn={},fw={exports:{}},pw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,oe){var S=Q.length;Q.push(oe);e:for(;0<S;){var h=S-1>>>1,I=Q[h];if(0<i(I,oe))Q[h]=oe,Q[S]=I,S=h;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],S=Q.pop();if(S!==oe){Q[0]=S;e:for(var h=0,I=Q.length,O=I>>>1;h<O;){var N=2*(h+1)-1,M=Q[N],V=N+1,A=Q[V];if(0>i(M,S))V<I&&0>i(A,M)?(Q[h]=A,Q[V]=S,h=V):(Q[h]=M,Q[N]=S,h=N);else if(V<I&&0>i(A,S))Q[h]=A,Q[V]=S,h=V;else break e}}return oe}function i(Q,oe){var S=Q.sortIndex-oe.sortIndex;return S!==0?S:Q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],l=[],c=1,d=null,f=3,m=!1,y=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(Q){for(var oe=n(l);oe!==null;){if(oe.callback===null)r(l);else if(oe.startTime<=Q)r(l),oe.sortIndex=oe.expirationTime,e(u,oe);else break;oe=n(l)}}function _(Q){if(w=!1,v(Q),!y)if(n(u)!==null)y=!0,Je(x);else{var oe=n(l);oe!==null&&Ze(_,oe.startTime-Q)}}function x(Q,oe){y=!1,w&&(w=!1,p(F),F=-1),m=!0;var S=f;try{for(v(oe),d=n(u);d!==null&&(!(d.expirationTime>oe)||Q&&!te());){var h=d.callback;if(typeof h=="function"){d.callback=null,f=d.priorityLevel;var I=h(d.expirationTime<=oe);oe=t.unstable_now(),typeof I=="function"?d.callback=I:d===n(u)&&r(u),v(oe)}else r(u);d=n(u)}if(d!==null)var O=!0;else{var N=n(l);N!==null&&Ze(_,N.startTime-oe),O=!1}return O}finally{d=null,f=S,m=!1}}var C=!1,k=null,F=-1,L=5,H=-1;function te(){return!(t.unstable_now()-H<L)}function fe(){if(k!==null){var Q=t.unstable_now();H=Q;var oe=!0;try{oe=k(!0,Q)}finally{oe?be():(C=!1,k=null)}}else C=!1}var be;if(typeof g=="function")be=function(){g(fe)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Te=pe.port2;pe.port1.onmessage=fe,be=function(){Te.postMessage(null)}}else be=function(){T(fe,0)};function Je(Q){k=Q,C||(C=!0,be())}function Ze(Q,oe){F=T(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Je(x))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(f){case 1:case 2:case 3:var oe=3;break;default:oe=f}var S=f;f=oe;try{return Q()}finally{f=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var S=f;f=Q;try{return oe()}finally{f=S}},t.unstable_scheduleCallback=function(Q,oe,S){var h=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?h+S:h):S=h,Q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=S+I,Q={id:c++,callback:oe,priorityLevel:Q,startTime:S,expirationTime:I,sortIndex:-1},S>h?(Q.sortIndex=S,e(l,Q),n(u)===null&&Q===n(l)&&(w?(p(F),F=-1):w=!0,Ze(_,S-h))):(Q.sortIndex=I,e(u,Q),y||m||(y=!0,Je(x))),Q},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(Q){var oe=f;return function(){var S=f;f=oe;try{return Q.apply(this,arguments)}finally{f=S}}}})(pw);fw.exports=pw;var Fb=fw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=b,mn=Fb;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gw=new Set,oa={};function Ji(t,e){Vo(t,e),Vo(t+"Capture",e)}function Vo(t,e){for(oa[t]=e,t=0;t<e.length;t++)gw.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=Object.prototype.hasOwnProperty,Vb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vv={},Uv={};function Ub(t){return Ef.call(Uv,t)?!0:Ef.call(Vv,t)?!1:Vb.test(t)?Uv[t]=!0:(Vv[t]=!0,!1)}function jb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $b(t,e,n,r){if(e===null||typeof e>"u"||jb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dm=/[\-:]([a-z])/g;function hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dm,hm);bt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dm,hm);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dm,hm);bt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fm(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($b(e,n,i,r)&&(n=null),r||i===null?Ub(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=mw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),co=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),yw=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),ww=Symbol.for("react.offscreen"),jv=Symbol.iterator;function ws(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,fh;function Ps(t){if(fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fh=e&&e[1]||""}return`
`+fh+t}var ph=!1;function mh(t,e){if(!t||ph)return"";ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ps(t):""}function Bb(t){switch(t.tag){case 5:return Ps(t.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return t=mh(t.type,!1),t;case 11:return t=mh(t.type.render,!1),t;case 1:return t=mh(t.type,!0),t;default:return""}}function bf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case co:return"Portal";case Sf:return"Profiler";case pm:return"StrictMode";case Tf:return"Suspense";case If:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yw:return(t.displayName||"Context")+".Consumer";case vw:return(t._context.displayName||"Context")+".Provider";case mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gm:return e=t.displayName||null,e!==null?e:bf(t.type)||"Memo";case Vr:e=t._payload,t=t._init;try{return bf(t(e))}catch{}}return null}function zb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bf(e);case 8:return e===pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _w(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hb(t){var e=_w(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cu(t){t._valueTracker||(t._valueTracker=Hb(t))}function Ew(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_w(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cf(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $v(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sw(t,e){e=e.checked,e!=null&&fm(t,"checked",e,!1)}function Rf(t,e){Sw(t,e);var n=ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Af(t,e.type,n):e.hasOwnProperty("defaultValue")&&Af(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Af(t,e,n){(e!=="number"||xl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ds=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ds(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ci(n)}}function Tw(t,e){var n=ci(e.value),r=ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Iw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Iw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,bw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wb=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(t){Wb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hs[e]=Hs[t]})});function Cw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hs.hasOwnProperty(t)&&Hs[t]?(""+e).trim():e+"px"}function Rw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qb=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(t,e){if(e){if(qb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Df(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nf=null,Co=null,Ro=null;function Wv(t){if(t=Xa(t)){if(typeof Nf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Jc(e),Nf(t.stateNode,t.type,e))}}function Aw(t){Co?Ro?Ro.push(t):Ro=[t]:Co=t}function xw(){if(Co){var t=Co,e=Ro;if(Ro=Co=null,Wv(t),e)for(t=0;t<e.length;t++)Wv(e[t])}}function kw(t,e){return t(e)}function Pw(){}var gh=!1;function Dw(t,e,n){if(gh)return t(e,n);gh=!0;try{return kw(t,e,n)}finally{gh=!1,(Co!==null||Ro!==null)&&(Pw(),xw())}}function aa(t,e){var n=t.stateNode;if(n===null)return null;var r=Jc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Mf=!1;if(Er)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Mf=!1}function Kb(t,e,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Ws=!1,kl=null,Pl=!1,Lf=null,Gb={onError:function(t){Ws=!0,kl=t}};function Qb(t,e,n,r,i,o,s,a,u){Ws=!1,kl=null,Kb.apply(Gb,arguments)}function Xb(t,e,n,r,i,o,s,a,u){if(Qb.apply(this,arguments),Ws){if(Ws){var l=kl;Ws=!1,kl=null}else throw Error(B(198));Pl||(Pl=!0,Lf=l)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ow(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qv(t){if(Zi(t)!==t)throw Error(B(188))}function Yb(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qv(i),t;if(o===r)return qv(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Nw(t){return t=Yb(t),t!==null?Mw(t):null}function Mw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mw(t);if(e!==null)return e;t=t.sibling}return null}var Lw=mn.unstable_scheduleCallback,Kv=mn.unstable_cancelCallback,Jb=mn.unstable_shouldYield,Zb=mn.unstable_requestPaint,Ye=mn.unstable_now,eC=mn.unstable_getCurrentPriorityLevel,ym=mn.unstable_ImmediatePriority,Fw=mn.unstable_UserBlockingPriority,Dl=mn.unstable_NormalPriority,tC=mn.unstable_LowPriority,Vw=mn.unstable_IdlePriority,Gc=null,Zn=null;function nC(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Gc,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:oC,rC=Math.log,iC=Math.LN2;function oC(t){return t>>>=0,t===0?32:31-(rC(t)/iC|0)|0}var Au=64,xu=4194304;function Os(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ol(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Os(a):(o&=s,o!==0&&(r=Os(o)))}else s=n&~i,s!==0?r=Os(s):o!==0&&(r=Os(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),i=1<<n,r|=t[n],e&=~i;return r}function sC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Nn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=sC(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function Ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uw(){var t=Au;return Au<<=1,!(Au&4194240)&&(Au=64),t}function vh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function uC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function wm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function jw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $w,_m,Bw,zw,Hw,Vf=!1,ku=[],Yr=null,Jr=null,Zr=null,ua=new Map,la=new Map,$r=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gv(t,e){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function Es(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Xa(e),e!==null&&_m(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cC(t,e,n,r,i){switch(e){case"focusin":return Yr=Es(Yr,t,e,n,r,i),!0;case"dragenter":return Jr=Es(Jr,t,e,n,r,i),!0;case"mouseover":return Zr=Es(Zr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ua.set(o,Es(ua.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,la.set(o,Es(la.get(o)||null,t,e,n,r,i)),!0}return!1}function Ww(t){var e=Ai(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=Ow(n),e!==null){t.blockedOn=e,Hw(t.priority,function(){Bw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Of=r,n.target.dispatchEvent(r),Of=null}else return e=Xa(n),e!==null&&_m(e),t.blockedOn=n,!1;e.shift()}return!0}function Qv(t,e,n){sl(t)&&n.delete(e)}function dC(){Vf=!1,Yr!==null&&sl(Yr)&&(Yr=null),Jr!==null&&sl(Jr)&&(Jr=null),Zr!==null&&sl(Zr)&&(Zr=null),ua.forEach(Qv),la.forEach(Qv)}function Ss(t,e){t.blockedOn===e&&(t.blockedOn=null,Vf||(Vf=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,dC)))}function ca(t){function e(i){return Ss(i,t)}if(0<ku.length){Ss(ku[0],t);for(var n=1;n<ku.length;n++){var r=ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yr!==null&&Ss(Yr,t),Jr!==null&&Ss(Jr,t),Zr!==null&&Ss(Zr,t),ua.forEach(e),la.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)Ww(n),n.blockedOn===null&&$r.shift()}var Ao=kr.ReactCurrentBatchConfig,Nl=!0;function hC(t,e,n,r){var i=Oe,o=Ao.transition;Ao.transition=null;try{Oe=1,Em(t,e,n,r)}finally{Oe=i,Ao.transition=o}}function fC(t,e,n,r){var i=Oe,o=Ao.transition;Ao.transition=null;try{Oe=4,Em(t,e,n,r)}finally{Oe=i,Ao.transition=o}}function Em(t,e,n,r){if(Nl){var i=Uf(t,e,n,r);if(i===null)Rh(t,e,r,Ml,n),Gv(t,r);else if(cC(i,t,e,n,r))r.stopPropagation();else if(Gv(t,r),e&4&&-1<lC.indexOf(t)){for(;i!==null;){var o=Xa(i);if(o!==null&&$w(o),o=Uf(t,e,n,r),o===null&&Rh(t,e,r,Ml,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Rh(t,e,r,null,n)}}var Ml=null;function Uf(t,e,n,r){if(Ml=null,t=vm(r),t=Ai(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ow(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ml=t,null}function qw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eC()){case ym:return 1;case Fw:return 4;case Dl:case tC:return 16;case Vw:return 536870912;default:return 16}default:return 16}}var Kr=null,Sm=null,al=null;function Kw(){if(al)return al;var t,e=Sm,n=e.length,r,i="value"in Kr?Kr.value:Kr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return al=i.slice(t,1<r?1-r:void 0)}function ul(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pu(){return!0}function Xv(){return!1}function yn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pu:Xv,this.isPropagationStopped=Xv,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),e}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=yn(is),Qa=We({},is,{view:0,detail:0}),pC=yn(Qa),yh,wh,Ts,Qc=We({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(yh=t.screenX-Ts.screenX,wh=t.screenY-Ts.screenY):wh=yh=0,Ts=t),yh)},movementY:function(t){return"movementY"in t?t.movementY:wh}}),Yv=yn(Qc),mC=We({},Qc,{dataTransfer:0}),gC=yn(mC),vC=We({},Qa,{relatedTarget:0}),_h=yn(vC),yC=We({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),wC=yn(yC),_C=We({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EC=yn(_C),SC=We({},is,{data:0}),Jv=yn(SC),TC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bC[t])?!!e[t]:!1}function Im(){return CC}var RC=We({},Qa,{key:function(t){if(t.key){var e=TC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(t){return t.type==="keypress"?ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AC=yn(RC),xC=We({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zv=yn(xC),kC=We({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),PC=yn(kC),DC=We({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),OC=yn(DC),NC=We({},Qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MC=yn(NC),LC=[9,13,27,32],bm=Er&&"CompositionEvent"in window,qs=null;Er&&"documentMode"in document&&(qs=document.documentMode);var FC=Er&&"TextEvent"in window&&!qs,Gw=Er&&(!bm||qs&&8<qs&&11>=qs),e0=String.fromCharCode(32),t0=!1;function Qw(t,e){switch(t){case"keyup":return LC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function VC(t,e){switch(t){case"compositionend":return Xw(e);case"keypress":return e.which!==32?null:(t0=!0,e0);case"textInput":return t=e.data,t===e0&&t0?null:t;default:return null}}function UC(t,e){if(fo)return t==="compositionend"||!bm&&Qw(t,e)?(t=Kw(),al=Sm=Kr=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gw&&e.locale!=="ko"?null:e.data;default:return null}}var jC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jC[t.type]:e==="textarea"}function Yw(t,e,n,r){Aw(r),e=Ll(e,"onChange"),0<e.length&&(n=new Tm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ks=null,da=null;function $C(t){u_(t,0)}function Xc(t){var e=go(t);if(Ew(e))return t}function BC(t,e){if(t==="change")return e}var Jw=!1;if(Er){var Eh;if(Er){var Sh="oninput"in document;if(!Sh){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),Sh=typeof r0.oninput=="function"}Eh=Sh}else Eh=!1;Jw=Eh&&(!document.documentMode||9<document.documentMode)}function i0(){Ks&&(Ks.detachEvent("onpropertychange",Zw),da=Ks=null)}function Zw(t){if(t.propertyName==="value"&&Xc(da)){var e=[];Yw(e,da,t,vm(t)),Dw($C,e)}}function zC(t,e,n){t==="focusin"?(i0(),Ks=e,da=n,Ks.attachEvent("onpropertychange",Zw)):t==="focusout"&&i0()}function HC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(da)}function WC(t,e){if(t==="click")return Xc(e)}function qC(t,e){if(t==="input"||t==="change")return Xc(e)}function KC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vn=typeof Object.is=="function"?Object.is:KC;function ha(t,e){if(Vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ef.call(e,i)||!Vn(t[i],e[i]))return!1}return!0}function o0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s0(t,e){var n=o0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o0(n)}}function e_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function t_(){for(var t=window,e=xl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xl(t.document)}return e}function Cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GC(t){var e=t_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&e_(n.ownerDocument.documentElement,n)){if(r!==null&&Cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=s0(n,o);var s=s0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QC=Er&&"documentMode"in document&&11>=document.documentMode,po=null,jf=null,Gs=null,$f=!1;function a0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$f||po==null||po!==xl(r)||(r=po,"selectionStart"in r&&Cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gs&&ha(Gs,r)||(Gs=r,r=Ll(jf,"onSelect"),0<r.length&&(e=new Tm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=po)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mo={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},Th={},n_={};Er&&(n_=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Yc(t){if(Th[t])return Th[t];if(!mo[t])return t;var e=mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in n_)return Th[t]=e[n];return t}var r_=Yc("animationend"),i_=Yc("animationiteration"),o_=Yc("animationstart"),s_=Yc("transitionend"),a_=new Map,u0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(t,e){a_.set(t,e),Ji(e,[t])}for(var Ih=0;Ih<u0.length;Ih++){var bh=u0[Ih],XC=bh.toLowerCase(),YC=bh[0].toUpperCase()+bh.slice(1);mi(XC,"on"+YC)}mi(r_,"onAnimationEnd");mi(i_,"onAnimationIteration");mi(o_,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(s_,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function l0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Xb(r,e,void 0,t),t.currentTarget=null}function u_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;l0(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;l0(i,a,l),o=u}}}if(Pl)throw t=Lf,Pl=!1,Lf=null,t}function Fe(t,e){var n=e[qf];n===void 0&&(n=e[qf]=new Set);var r=t+"__bubble";n.has(r)||(l_(e,t,2,!1),n.add(r))}function Ch(t,e,n){var r=0;e&&(r|=4),l_(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function fa(t){if(!t[Ou]){t[Ou]=!0,gw.forEach(function(n){n!=="selectionchange"&&(JC.has(n)||Ch(n,!1,t),Ch(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ou]||(e[Ou]=!0,Ch("selectionchange",!1,e))}}function l_(t,e,n,r){switch(qw(e)){case 1:var i=hC;break;case 4:i=fC;break;default:i=Em}n=i.bind(null,e,n,t),i=void 0,!Mf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ai(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Dw(function(){var l=o,c=vm(n),d=[];e:{var f=a_.get(t);if(f!==void 0){var m=Tm,y=t;switch(t){case"keypress":if(ul(n)===0)break e;case"keydown":case"keyup":m=AC;break;case"focusin":y="focus",m=_h;break;case"focusout":y="blur",m=_h;break;case"beforeblur":case"afterblur":m=_h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PC;break;case r_:case i_:case o_:m=wC;break;case s_:m=OC;break;case"scroll":m=pC;break;case"wheel":m=MC;break;case"copy":case"cut":case"paste":m=EC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zv}var w=(e&4)!==0,T=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var g=l,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,p!==null&&(_=aa(g,p),_!=null&&w.push(pa(g,_,v)))),T)break;g=g.return}0<w.length&&(f=new m(f,y,null,n,c),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Of&&(y=n.relatedTarget||n.fromElement)&&(Ai(y)||y[Sr]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=l,y=y?Ai(y):null,y!==null&&(T=Zi(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=l),m!==y)){if(w=Yv,_="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=Zv,_="onPointerLeave",p="onPointerEnter",g="pointer"),T=m==null?f:go(m),v=y==null?f:go(y),f=new w(_,g+"leave",m,n,c),f.target=T,f.relatedTarget=v,_=null,Ai(c)===l&&(w=new w(p,g+"enter",y,n,c),w.target=v,w.relatedTarget=T,_=w),T=_,m&&y)t:{for(w=m,p=y,g=0,v=w;v;v=io(v))g++;for(v=0,_=p;_;_=io(_))v++;for(;0<g-v;)w=io(w),g--;for(;0<v-g;)p=io(p),v--;for(;g--;){if(w===p||p!==null&&w===p.alternate)break t;w=io(w),p=io(p)}w=null}else w=null;m!==null&&c0(d,f,m,w,!1),y!==null&&T!==null&&c0(d,T,y,w,!0)}}e:{if(f=l?go(l):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=BC;else if(n0(f))if(Jw)x=qC;else{x=HC;var C=zC}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=WC);if(x&&(x=x(t,l))){Yw(d,x,n,c);break e}C&&C(t,f,l),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Af(f,"number",f.value)}switch(C=l?go(l):window,t){case"focusin":(n0(C)||C.contentEditable==="true")&&(po=C,jf=l,Gs=null);break;case"focusout":Gs=jf=po=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,a0(d,n,c);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":a0(d,n,c)}var k;if(bm)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else fo?Qw(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Gw&&n.locale!=="ko"&&(fo||F!=="onCompositionStart"?F==="onCompositionEnd"&&fo&&(k=Kw()):(Kr=c,Sm="value"in Kr?Kr.value:Kr.textContent,fo=!0)),C=Ll(l,F),0<C.length&&(F=new Jv(F,t,null,n,c),d.push({event:F,listeners:C}),k?F.data=k:(k=Xw(n),k!==null&&(F.data=k)))),(k=FC?VC(t,n):UC(t,n))&&(l=Ll(l,"onBeforeInput"),0<l.length&&(c=new Jv("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=k))}u_(d,e)})}function pa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ll(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=aa(t,n),o!=null&&r.unshift(pa(t,o,i)),o=aa(t,e),o!=null&&r.push(pa(t,o,i))),t=t.return}return r}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=aa(n,o),u!=null&&s.unshift(pa(n,u,a))):i||(u=aa(n,o),u!=null&&s.push(pa(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ZC=/\r\n?/g,eR=/\u0000|\uFFFD/g;function d0(t){return(typeof t=="string"?t:""+t).replace(ZC,`
`).replace(eR,"")}function Nu(t,e,n){if(e=d0(e),d0(t)!==e&&n)throw Error(B(425))}function Fl(){}var Bf=null,zf=null;function Hf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,tR=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,nR=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(rR)}:Wf;function rR(t){setTimeout(function(){throw t})}function Ah(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ca(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ca(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function f0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var os=Math.random().toString(36).slice(2),Gn="__reactFiber$"+os,ma="__reactProps$"+os,Sr="__reactContainer$"+os,qf="__reactEvents$"+os,iR="__reactListeners$"+os,oR="__reactHandles$"+os;function Ai(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=f0(t);t!==null;){if(n=t[Gn])return n;t=f0(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){return t=t[Gn]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Jc(t){return t[ma]||null}var Kf=[],vo=-1;function gi(t){return{current:t}}function Ue(t){0>vo||(t.current=Kf[vo],Kf[vo]=null,vo--)}function Le(t,e){vo++,Kf[vo]=t.current,t.current=e}var di={},Ut=gi(di),rn=gi(!1),Ui=di;function Uo(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function Vl(){Ue(rn),Ue(Ut)}function p0(t,e,n){if(Ut.current!==di)throw Error(B(168));Le(Ut,e),Le(rn,n)}function c_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,zb(t)||"Unknown",i));return We({},n,r)}function Ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Ui=Ut.current,Le(Ut,t),Le(rn,rn.current),!0}function m0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=c_(t,e,Ui),r.__reactInternalMemoizedMergedChildContext=t,Ue(rn),Ue(Ut),Le(Ut,t)):Ue(rn),Le(rn,n)}var dr=null,Zc=!1,xh=!1;function d_(t){dr===null?dr=[t]:dr.push(t)}function sR(t){Zc=!0,d_(t)}function vi(){if(!xh&&dr!==null){xh=!0;var t=0,e=Oe;try{var n=dr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Zc=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),Lw(ym,vi),i}finally{Oe=e,xh=!1}}return null}var yo=[],wo=0,jl=null,$l=0,Tn=[],In=0,ji=null,hr=1,fr="";function Ii(t,e){yo[wo++]=$l,yo[wo++]=jl,jl=t,$l=e}function h_(t,e,n){Tn[In++]=hr,Tn[In++]=fr,Tn[In++]=ji,ji=t;var r=hr;t=fr;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var o=32-Nn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,hr=1<<32-Nn(e)+i|n<<i|r,fr=o+t}else hr=1<<o|n<<i|r,fr=t}function Rm(t){t.return!==null&&(Ii(t,1),h_(t,1,0))}function Am(t){for(;t===jl;)jl=yo[--wo],yo[wo]=null,$l=yo[--wo],yo[wo]=null;for(;t===ji;)ji=Tn[--In],Tn[In]=null,fr=Tn[--In],Tn[In]=null,hr=Tn[--In],Tn[In]=null}var fn=null,dn=null,$e=!1,On=null;function f_(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function g0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,dn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ji!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,dn=null,!0):!1;default:return!1}}function Gf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qf(t){if($e){var e=dn;if(e){var n=e;if(!g0(t,e)){if(Gf(t))throw Error(B(418));e=ei(n.nextSibling);var r=fn;e&&g0(t,e)?f_(r,n):(t.flags=t.flags&-4097|2,$e=!1,fn=t)}}else{if(Gf(t))throw Error(B(418));t.flags=t.flags&-4097|2,$e=!1,fn=t}}}function v0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Mu(t){if(t!==fn)return!1;if(!$e)return v0(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hf(t.type,t.memoizedProps)),e&&(e=dn)){if(Gf(t))throw p_(),Error(B(418));for(;e;)f_(t,e),e=ei(e.nextSibling)}if(v0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=fn?ei(t.stateNode.nextSibling):null;return!0}function p_(){for(var t=dn;t;)t=ei(t.nextSibling)}function jo(){dn=fn=null,$e=!1}function xm(t){On===null?On=[t]:On.push(t)}var aR=kr.ReactCurrentBatchConfig;function Pn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bl=gi(null),zl=null,_o=null,km=null;function Pm(){km=_o=zl=null}function Dm(t){var e=Bl.current;Ue(Bl),t._currentValue=e}function Xf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){zl=t,km=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(km!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if(zl===null)throw Error(B(308));_o=t,zl.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var xi=null;function Om(t){xi===null?xi=[t]:xi.push(t)}function m_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Om(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function Nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Om(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tr(t,n)}function ll(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}function y0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hl(t,e,n,r){var i=t.updateQueue;Ur=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(o!==null){var d=i.baseState;s=0,c=l=u=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=We({},d,f);break e;case 2:Ur=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=m,u=d):c=c.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Bi|=s,t.lanes=s,t.memoizedState=d}}function w0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var v_=new mw.Component().refs;function Yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ed={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=ri(t),o=yr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ti(t,o,i),e!==null&&(Mn(e,t,i,r),ll(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=ri(t),o=yr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ti(t,o,i),e!==null&&(Mn(e,t,i,r),ll(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=ri(t),i=yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(Mn(e,t,r,n),ll(e,t,r))}};function _0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ha(n,r)||!ha(i,o):!0}function y_(t,e,n){var r=!1,i=di,o=e.contextType;return typeof o=="object"&&o!==null?o=An(o):(i=on(e)?Ui:Ut.current,r=e.contextTypes,o=(r=r!=null)?Uo(t,i):di),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function E0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ed.enqueueReplaceState(e,e.state,null)}function Jf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=v_,Nm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=An(o):(o=on(e)?Ui:Ut.current,i.context=Uo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ed.enqueueReplaceState(i,i.state,null),Hl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===v_&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Lu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S0(t){var e=t._init;return e(t._payload)}function w_(t){function e(p,g){if(t){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=ii(p,g),p.index=0,p.sibling=null,p}function o(p,g,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,v,_){return g===null||g.tag!==6?(g=Lh(v,p.mode,_),g.return=p,g):(g=i(g,v),g.return=p,g)}function u(p,g,v,_){var x=v.type;return x===ho?c(p,g,v.props.children,_,v.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vr&&S0(x)===g.type)?(_=i(g,v.props),_.ref=Is(p,g,v),_.return=p,_):(_=ml(v.type,v.key,v.props,null,p.mode,_),_.ref=Is(p,g,v),_.return=p,_)}function l(p,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Fh(v,p.mode,_),g.return=p,g):(g=i(g,v.children||[]),g.return=p,g)}function c(p,g,v,_,x){return g===null||g.tag!==7?(g=Mi(v,p.mode,_,x),g.return=p,g):(g=i(g,v),g.return=p,g)}function d(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Lh(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bu:return v=ml(g.type,g.key,g.props,null,p.mode,v),v.ref=Is(p,null,g),v.return=p,v;case co:return g=Fh(g,p.mode,v),g.return=p,g;case Vr:var _=g._init;return d(p,_(g._payload),v)}if(Ds(g)||ws(g))return g=Mi(g,p.mode,v,null),g.return=p,g;Lu(p,g)}return null}function f(p,g,v,_){var x=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(p,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bu:return v.key===x?u(p,g,v,_):null;case co:return v.key===x?l(p,g,v,_):null;case Vr:return x=v._init,f(p,g,x(v._payload),_)}if(Ds(v)||ws(v))return x!==null?null:c(p,g,v,_,null);Lu(p,v)}return null}function m(p,g,v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(v)||null,a(g,p,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bu:return p=p.get(_.key===null?v:_.key)||null,u(g,p,_,x);case co:return p=p.get(_.key===null?v:_.key)||null,l(g,p,_,x);case Vr:var C=_._init;return m(p,g,v,C(_._payload),x)}if(Ds(_)||ws(_))return p=p.get(v)||null,c(g,p,_,x,null);Lu(g,_)}return null}function y(p,g,v,_){for(var x=null,C=null,k=g,F=g=0,L=null;k!==null&&F<v.length;F++){k.index>F?(L=k,k=null):L=k.sibling;var H=f(p,k,v[F],_);if(H===null){k===null&&(k=L);break}t&&k&&H.alternate===null&&e(p,k),g=o(H,g,F),C===null?x=H:C.sibling=H,C=H,k=L}if(F===v.length)return n(p,k),$e&&Ii(p,F),x;if(k===null){for(;F<v.length;F++)k=d(p,v[F],_),k!==null&&(g=o(k,g,F),C===null?x=k:C.sibling=k,C=k);return $e&&Ii(p,F),x}for(k=r(p,k);F<v.length;F++)L=m(k,p,F,v[F],_),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?F:L.key),g=o(L,g,F),C===null?x=L:C.sibling=L,C=L);return t&&k.forEach(function(te){return e(p,te)}),$e&&Ii(p,F),x}function w(p,g,v,_){var x=ws(v);if(typeof x!="function")throw Error(B(150));if(v=x.call(v),v==null)throw Error(B(151));for(var C=x=null,k=g,F=g=0,L=null,H=v.next();k!==null&&!H.done;F++,H=v.next()){k.index>F?(L=k,k=null):L=k.sibling;var te=f(p,k,H.value,_);if(te===null){k===null&&(k=L);break}t&&k&&te.alternate===null&&e(p,k),g=o(te,g,F),C===null?x=te:C.sibling=te,C=te,k=L}if(H.done)return n(p,k),$e&&Ii(p,F),x;if(k===null){for(;!H.done;F++,H=v.next())H=d(p,H.value,_),H!==null&&(g=o(H,g,F),C===null?x=H:C.sibling=H,C=H);return $e&&Ii(p,F),x}for(k=r(p,k);!H.done;F++,H=v.next())H=m(k,p,F,H.value,_),H!==null&&(t&&H.alternate!==null&&k.delete(H.key===null?F:H.key),g=o(H,g,F),C===null?x=H:C.sibling=H,C=H);return t&&k.forEach(function(fe){return e(p,fe)}),$e&&Ii(p,F),x}function T(p,g,v,_){if(typeof v=="object"&&v!==null&&v.type===ho&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bu:e:{for(var x=v.key,C=g;C!==null;){if(C.key===x){if(x=v.type,x===ho){if(C.tag===7){n(p,C.sibling),g=i(C,v.props.children),g.return=p,p=g;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vr&&S0(x)===C.type){n(p,C.sibling),g=i(C,v.props),g.ref=Is(p,C,v),g.return=p,p=g;break e}n(p,C);break}else e(p,C);C=C.sibling}v.type===ho?(g=Mi(v.props.children,p.mode,_,v.key),g.return=p,p=g):(_=ml(v.type,v.key,v.props,null,p.mode,_),_.ref=Is(p,g,v),_.return=p,p=_)}return s(p);case co:e:{for(C=v.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(p,g.sibling),g=i(g,v.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Fh(v,p.mode,_),g.return=p,p=g}return s(p);case Vr:return C=v._init,T(p,g,C(v._payload),_)}if(Ds(v))return y(p,g,v,_);if(ws(v))return w(p,g,v,_);Lu(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,v),g.return=p,p=g):(n(p,g),g=Lh(v,p.mode,_),g.return=p,p=g),s(p)):n(p,g)}return T}var $o=w_(!0),__=w_(!1),Ya={},er=gi(Ya),ga=gi(Ya),va=gi(Ya);function ki(t){if(t===Ya)throw Error(B(174));return t}function Mm(t,e){switch(Le(va,e),Le(ga,t),Le(er,Ya),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kf(e,t)}Ue(er),Le(er,e)}function Bo(){Ue(er),Ue(ga),Ue(va)}function E_(t){ki(va.current);var e=ki(er.current),n=kf(e,t.type);e!==n&&(Le(ga,t),Le(er,n))}function Lm(t){ga.current===t&&(Ue(er),Ue(ga))}var ze=gi(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kh=[];function Fm(){for(var t=0;t<kh.length;t++)kh[t]._workInProgressVersionPrimary=null;kh.length=0}var cl=kr.ReactCurrentDispatcher,Ph=kr.ReactCurrentBatchConfig,$i=0,He=null,ot=null,ft=null,ql=!1,Qs=!1,ya=0,uR=0;function At(){throw Error(B(321))}function Vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vn(t[n],e[n]))return!1;return!0}function Um(t,e,n,r,i,o){if($i=o,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cl.current=t===null||t.memoizedState===null?hR:fR,t=n(r,i),Qs){o=0;do{if(Qs=!1,ya=0,25<=o)throw Error(B(301));o+=1,ft=ot=null,e.updateQueue=null,cl.current=pR,t=n(r,i)}while(Qs)}if(cl.current=Kl,e=ot!==null&&ot.next!==null,$i=0,ft=ot=He=null,ql=!1,e)throw Error(B(300));return t}function jm(){var t=ya!==0;return ya=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?He.memoizedState=ft=t:ft=ft.next=t,ft}function xn(){if(ot===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ft===null?He.memoizedState:ft.next;if(e!==null)ft=e,ot=t;else{if(t===null)throw Error(B(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ft===null?He.memoizedState=ft=t:ft=ft.next=t}return ft}function wa(t,e){return typeof e=="function"?e(t):e}function Dh(t){var e=xn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var c=l.lane;if(($i&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,s=r):u=u.next=d,He.lanes|=c,Bi|=c}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,Vn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,He.lanes|=o,Bi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oh(t){var e=xn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Vn(o,e.memoizedState)||(nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function S_(){}function T_(t,e){var n=He,r=xn(),i=e(),o=!Vn(r.memoizedState,i);if(o&&(r.memoizedState=i,nn=!0),r=r.queue,$m(C_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,_a(9,b_.bind(null,n,r,i,e),void 0,null),pt===null)throw Error(B(349));$i&30||I_(n,e,i)}return i}function I_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b_(t,e,n,r){e.value=n,e.getSnapshot=r,R_(e)&&A_(t)}function C_(t,e,n){return n(function(){R_(e)&&A_(t)})}function R_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vn(t,n)}catch{return!0}}function A_(t){var e=Tr(t,1);e!==null&&Mn(e,t,1,-1)}function T0(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:t},e.queue=t,t=t.dispatch=dR.bind(null,He,t),[e.memoizedState,t]}function _a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function x_(){return xn().memoizedState}function dl(t,e,n,r){var i=Wn();He.flags|=t,i.memoizedState=_a(1|e,n,void 0,r===void 0?null:r)}function td(t,e,n,r){var i=xn();r=r===void 0?null:r;var o=void 0;if(ot!==null){var s=ot.memoizedState;if(o=s.destroy,r!==null&&Vm(r,s.deps)){i.memoizedState=_a(e,n,o,r);return}}He.flags|=t,i.memoizedState=_a(1|e,n,o,r)}function I0(t,e){return dl(8390656,8,t,e)}function $m(t,e){return td(2048,8,t,e)}function k_(t,e){return td(4,2,t,e)}function P_(t,e){return td(4,4,t,e)}function D_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O_(t,e,n){return n=n!=null?n.concat([t]):null,td(4,4,D_.bind(null,e,t),n)}function Bm(){}function N_(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function M_(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L_(t,e,n){return $i&21?(Vn(n,e)||(n=Uw(),He.lanes|=n,Bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function lR(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=Ph.transition;Ph.transition={};try{t(!1),e()}finally{Oe=n,Ph.transition=r}}function F_(){return xn().memoizedState}function cR(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},V_(t))U_(e,n);else if(n=m_(t,e,n,r),n!==null){var i=Kt();Mn(n,t,r,i),j_(n,e,r)}}function dR(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(V_(t))U_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Vn(a,s)){var u=e.interleaved;u===null?(i.next=i,Om(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=m_(t,e,i,r),n!==null&&(i=Kt(),Mn(n,t,r,i),j_(n,e,r))}}function V_(t){var e=t.alternate;return t===He||e!==null&&e===He}function U_(t,e){Qs=ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}var Kl={readContext:An,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},hR={readContext:An,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:I0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dl(4194308,4,D_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dl(4194308,4,t,e)},useInsertionEffect:function(t,e){return dl(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cR.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:T0,useDebugValue:Bm,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=T0(!1),e=t[0];return t=lR.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=Wn();if($e){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),pt===null)throw Error(B(349));$i&30||I_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,I0(C_.bind(null,r,o,t),[t]),r.flags|=2048,_a(9,b_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Wn(),e=pt.identifierPrefix;if($e){var n=fr,r=hr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ya++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fR={readContext:An,useCallback:N_,useContext:An,useEffect:$m,useImperativeHandle:O_,useInsertionEffect:k_,useLayoutEffect:P_,useMemo:M_,useReducer:Dh,useRef:x_,useState:function(){return Dh(wa)},useDebugValue:Bm,useDeferredValue:function(t){var e=xn();return L_(e,ot.memoizedState,t)},useTransition:function(){var t=Dh(wa)[0],e=xn().memoizedState;return[t,e]},useMutableSource:S_,useSyncExternalStore:T_,useId:F_,unstable_isNewReconciler:!1},pR={readContext:An,useCallback:N_,useContext:An,useEffect:$m,useImperativeHandle:O_,useInsertionEffect:k_,useLayoutEffect:P_,useMemo:M_,useReducer:Oh,useRef:x_,useState:function(){return Oh(wa)},useDebugValue:Bm,useDeferredValue:function(t){var e=xn();return ot===null?e.memoizedState=t:L_(e,ot.memoizedState,t)},useTransition:function(){var t=Oh(wa)[0],e=xn().memoizedState;return[t,e]},useMutableSource:S_,useSyncExternalStore:T_,useId:F_,unstable_isNewReconciler:!1};function zo(t,e){try{var n="",r=e;do n+=Bb(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Nh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mR=typeof WeakMap=="function"?WeakMap:Map;function $_(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ql||(Ql=!0,lp=r),Zf(t,e)},n}function B_(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zf(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function b0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xR.bind(null,t,e,n),e.then(t,t))}function C0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var gR=kr.ReactCurrentOwner,nn=!1;function Wt(t,e,n,r){e.child=t===null?__(e,null,n,r):$o(e,t.child,n,r)}function A0(t,e,n,r,i){n=n.render;var o=e.ref;return xo(e,i),r=Um(t,e,n,r,o,i),n=jm(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):($e&&n&&Rm(e),e.flags|=1,Wt(t,e,r,i),e.child)}function x0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Xm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,z_(t,e,o,r,i)):(t=ml(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(s,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=ii(o,r),t.ref=e.ref,t.return=e,e.child=t}function z_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ha(o,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return ep(t,e,n,r,i)}function H_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(So,cn),cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(So,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(So,cn),cn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Le(So,cn),cn|=r;return Wt(t,e,i,n),e.child}function W_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ep(t,e,n,r,i){var o=on(n)?Ui:Ut.current;return o=Uo(e,o),xo(e,i),n=Um(t,e,n,r,o,i),r=jm(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):($e&&r&&Rm(e),e.flags|=1,Wt(t,e,n,i),e.child)}function k0(t,e,n,r,i){if(on(n)){var o=!0;Ul(e)}else o=!1;if(xo(e,i),e.stateNode===null)hl(t,e),y_(e,n,r),Jf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=An(l):(l=on(n)?Ui:Ut.current,l=Uo(e,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&E0(e,s,r,l),Ur=!1;var f=e.memoizedState;s.state=f,Hl(e,r,s,i),u=e.memoizedState,a!==r||f!==u||rn.current||Ur?(typeof c=="function"&&(Yf(e,n,c,r),u=e.memoizedState),(a=Ur||_0(e,n,a,r,f,u,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,g_(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Pn(e.type,a),s.props=l,d=e.pendingProps,f=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=An(u):(u=on(n)?Ui:Ut.current,u=Uo(e,u));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==u)&&E0(e,s,r,u),Ur=!1,f=e.memoizedState,s.state=f,Hl(e,r,s,i);var y=e.memoizedState;a!==d||f!==y||rn.current||Ur?(typeof m=="function"&&(Yf(e,n,m,r),y=e.memoizedState),(l=Ur||_0(e,n,l,r,f,y,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tp(t,e,n,r,o,i)}function tp(t,e,n,r,i,o){W_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&m0(e,n,!1),Ir(t,e,o);r=e.stateNode,gR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$o(e,t.child,null,o),e.child=$o(e,null,a,o)):Wt(t,e,a,o),e.memoizedState=r.state,i&&m0(e,n,!0),e.child}function q_(t){var e=t.stateNode;e.pendingContext?p0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p0(t,e.context,!1),Mm(t,e.containerInfo)}function P0(t,e,n,r,i){return jo(),xm(i),e.flags|=256,Wt(t,e,n,r),e.child}var np={dehydrated:null,treeContext:null,retryLane:0};function rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function K_(t,e,n){var r=e.pendingProps,i=ze.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(ze,i&1),t===null)return Qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=id(s,r,0,null),t=Mi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=rp(n),e.memoizedState=np,t):zm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ii(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ii(a,o):(o=Mi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?rp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=np,r}return o=t.child,t=o.sibling,r=ii(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zm(t,e){return e=id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&xm(r),$o(e,t.child,null,n),t=zm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Nh(Error(B(422))),Fu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=id({mode:"visible",children:r.children},i,0,null),o=Mi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$o(e,t.child,null,s),e.child.memoizedState=rp(s),e.memoizedState=np,o);if(!(e.mode&1))return Fu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=Nh(o,r,void 0),Fu(t,e,s,r)}if(a=(s&t.childLanes)!==0,nn||a){if(r=pt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tr(t,i),Mn(r,t,i,-1))}return Qm(),r=Nh(Error(B(421))),Fu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,dn=ei(i.nextSibling),fn=e,$e=!0,On=null,t!==null&&(Tn[In++]=hr,Tn[In++]=fr,Tn[In++]=ji,hr=t.id,fr=t.overflow,ji=e),e=zm(e,r.children),e.flags|=4096,e)}function D0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xf(t.return,e,n)}function Mh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function G_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Wt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,n,e);else if(t.tag===19)D0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mh(e,!0,n,null,o);break;case"together":Mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yR(t,e,n){switch(e.tag){case 3:q_(e),jo();break;case 5:E_(e);break;case 1:on(e.type)&&Ul(e);break;case 4:Mm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(Bl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?K_(t,e,n):(Le(ze,ze.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);Le(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return G_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,H_(t,e,n)}return Ir(t,e,n)}var Q_,ip,X_,Y_;Q_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ip=function(){};X_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ki(er.current);var o=null;switch(n){case"input":i=Cf(t,i),r=Cf(t,r),o=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),o=[];break;case"textarea":i=xf(t,i),r=xf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fl)}Pf(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(oa.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(oa.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Fe("scroll",t),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};Y_=function(t,e,n,r){n!==r&&(e.flags|=4)};function bs(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wR(t,e,n){var r=e.pendingProps;switch(Am(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return on(e.type)&&Vl(),xt(e),null;case 3:return r=e.stateNode,Bo(),Ue(rn),Ue(Ut),Fm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(hp(On),On=null))),ip(t,e),xt(e),null;case 5:Lm(e);var i=ki(va.current);if(n=e.type,t!==null&&e.stateNode!=null)X_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return xt(e),null}if(t=ki(er.current),Mu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Gn]=e,r[ma]=o,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Ns.length;i++)Fe(Ns[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":$v(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":zv(r,o),Fe("invalid",r)}Pf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",""+a]):oa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Cu(r),Bv(r,o,!0);break;case"textarea":Cu(r),Hv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Iw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Gn]=e,t[ma]=r,Q_(t,e,!1,!1),e.stateNode=t;e:{switch(s=Df(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ns.length;i++)Fe(Ns[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":$v(t,r),i=Cf(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":zv(t,r),i=xf(t,r),Fe("invalid",t);break;default:i=r}Pf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?Rw(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&bw(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&sa(t,u):typeof u=="number"&&sa(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(oa.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Fe("scroll",t):u!=null&&fm(t,o,u,s))}switch(n){case"input":Cu(t),Bv(t,r,!1);break;case"textarea":Cu(t),Hv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ci(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?bo(t,!!r.multiple,o,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)Y_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ki(va.current),ki(er.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(o=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Nu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return xt(e),null;case 13:if(Ue(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&dn!==null&&e.mode&1&&!(e.flags&128))p_(),jo(),e.flags|=98560,o=!1;else if(o=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Gn]=e}else jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),o=!1}else On!==null&&(hp(On),On=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?at===0&&(at=3):Qm())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Bo(),ip(t,e),t===null&&fa(e.stateNode.containerInfo),xt(e),null;case 10:return Dm(e.type._context),xt(e),null;case 17:return on(e.type)&&Vl(),xt(e),null;case 19:if(Ue(ze),o=e.memoizedState,o===null)return xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)bs(o,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wl(t),s!==null){for(e.flags|=128,bs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(ze,ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ye()>Ho&&(e.flags|=128,r=!0,bs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!$e)return xt(e),null}else 2*Ye()-o.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,bs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,n=ze.current,Le(ze,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return Gm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function _R(t,e){switch(Am(e),e.tag){case 1:return on(e.type)&&Vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bo(),Ue(rn),Ue(Ut),Fm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lm(e),null;case 13:if(Ue(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(ze),null;case 4:return Bo(),null;case 10:return Dm(e.type._context),null;case 22:case 23:return Gm(),null;case 24:return null;default:return null}}var Vu=!1,Ot=!1,ER=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function op(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var O0=!1;function SR(t,e){if(Bf=Nl,t=t_(),Cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(u=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++l===i&&(a=s),f===o&&++c===r&&(u=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},Nl=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,T=y.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:Pn(e.type,w),T);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){Ke(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return y=O0,O0=!1,y}function Xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&op(e,n,o)}i=i.next}while(i!==r)}}function nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J_(t){var e=t.alternate;e!==null&&(t.alternate=null,J_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[ma],delete e[qf],delete e[iR],delete e[oR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Z_(t){return t.tag===5||t.tag===3||t.tag===4}function N0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fl));else if(r!==4&&(t=t.child,t!==null))for(ap(t,e,n),t=t.sibling;t!==null;)ap(t,e,n),t=t.sibling}function up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}var wt=null,Dn=!1;function Mr(t,e,n){for(n=n.child;n!==null;)eE(t,e,n),n=n.sibling}function eE(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Gc,n)}catch{}switch(n.tag){case 5:Ot||Eo(n,e);case 6:var r=wt,i=Dn;wt=null,Mr(t,e,n),wt=r,Dn=i,wt!==null&&(Dn?(t=wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Dn?(t=wt,n=n.stateNode,t.nodeType===8?Ah(t.parentNode,n):t.nodeType===1&&Ah(t,n),ca(t)):Ah(wt,n.stateNode));break;case 4:r=wt,i=Dn,wt=n.stateNode.containerInfo,Dn=!0,Mr(t,e,n),wt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&op(n,e,s),i=i.next}while(i!==r)}Mr(t,e,n);break;case 1:if(!Ot&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Mr(t,e,n);break;case 21:Mr(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Mr(t,e,n),Ot=r):Mr(t,e,n);break;default:Mr(t,e,n)}}function M0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ER),e.forEach(function(r){var i=PR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,Dn=!1;break e;case 3:wt=a.stateNode.containerInfo,Dn=!0;break e;case 4:wt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(wt===null)throw Error(B(160));eE(o,s,i),wt=null,Dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ke(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tE(e,t),e=e.sibling}function tE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Hn(t),r&4){try{Xs(3,t,t.return),nd(3,t)}catch(w){Ke(t,t.return,w)}try{Xs(5,t,t.return)}catch(w){Ke(t,t.return,w)}}break;case 1:kn(e,t),Hn(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if(kn(e,t),Hn(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var i=t.stateNode;try{sa(i,"")}catch(w){Ke(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Sw(i,o),Df(a,s);var l=Df(a,o);for(s=0;s<u.length;s+=2){var c=u[s],d=u[s+1];c==="style"?Rw(i,d):c==="dangerouslySetInnerHTML"?bw(i,d):c==="children"?sa(i,d):fm(i,c,d,l)}switch(a){case"input":Rf(i,o);break;case"textarea":Tw(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?bo(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?bo(i,!!o.multiple,o.defaultValue,!0):bo(i,!!o.multiple,o.multiple?[]:"",!1))}i[ma]=o}catch(w){Ke(t,t.return,w)}}break;case 6:if(kn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){Ke(t,t.return,w)}}break;case 3:if(kn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(e.containerInfo)}catch(w){Ke(t,t.return,w)}break;case 4:kn(e,t),Hn(t);break;case 13:kn(e,t),Hn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qm=Ye())),r&4&&M0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(l=Ot)||c,kn(e,t),Ot=l):kn(e,t),Hn(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(ne=t,c=t.child;c!==null;){for(d=ne=c;ne!==null;){switch(f=ne,m=f.child,f.tag){case 0:case 11:case 14:case 15:Xs(4,f,f.return);break;case 1:Eo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Ke(r,n,w)}}break;case 5:Eo(f,f.return);break;case 22:if(f.memoizedState!==null){F0(d);continue}}m!==null?(m.return=f,ne=m):F0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,u=d.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Cw("display",s))}catch(w){Ke(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(w){Ke(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kn(e,t),Hn(t),r&4&&M0(t);break;case 21:break;default:kn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Z_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sa(i,""),r.flags&=-33);var o=N0(t);up(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=N0(t);ap(t,a,s);break;default:throw Error(B(161))}}catch(u){Ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TR(t,e,n){ne=t,nE(t)}function nE(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Vu;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ot;a=Vu;var l=Ot;if(Vu=s,(Ot=u)&&!l)for(ne=i;ne!==null;)s=ne,u=s.child,s.tag===22&&s.memoizedState!==null?V0(i):u!==null?(u.return=s,ne=u):V0(i);for(;o!==null;)ne=o,nE(o),o=o.sibling;ne=i,Vu=a,Ot=l}L0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):L0(t)}}function L0(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&w0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w0(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ca(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ot||e.flags&512&&sp(e)}catch(f){Ke(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function F0(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function V0(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nd(4,e)}catch(u){Ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ke(e,i,u)}}var o=e.return;try{sp(e)}catch(u){Ke(e,o,u)}break;case 5:var s=e.return;try{sp(e)}catch(u){Ke(e,s,u)}}}catch(u){Ke(e,e.return,u)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var IR=Math.ceil,Gl=kr.ReactCurrentDispatcher,Hm=kr.ReactCurrentOwner,Rn=kr.ReactCurrentBatchConfig,Re=0,pt=null,rt=null,Tt=0,cn=0,So=gi(0),at=0,Ea=null,Bi=0,rd=0,Wm=0,Ys=null,en=null,qm=0,Ho=1/0,cr=null,Ql=!1,lp=null,ni=null,Uu=!1,Gr=null,Xl=0,Js=0,cp=null,fl=-1,pl=0;function Kt(){return Re&6?Ye():fl!==-1?fl:fl=Ye()}function ri(t){return t.mode&1?Re&2&&Tt!==0?Tt&-Tt:aR.transition!==null?(pl===0&&(pl=Uw()),pl):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:qw(t.type)),t):1}function Mn(t,e,n,r){if(50<Js)throw Js=0,cp=null,Error(B(185));Ga(t,n,r),(!(Re&2)||t!==pt)&&(t===pt&&(!(Re&2)&&(rd|=n),at===4&&Br(t,Tt)),sn(t,r),n===1&&Re===0&&!(e.mode&1)&&(Ho=Ye()+500,Zc&&vi()))}function sn(t,e){var n=t.callbackNode;aC(t,e);var r=Ol(t,t===pt?Tt:0);if(r===0)n!==null&&Kv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kv(n),e===1)t.tag===0?sR(U0.bind(null,t)):d_(U0.bind(null,t)),nR(function(){!(Re&6)&&vi()}),n=null;else{switch(jw(r)){case 1:n=ym;break;case 4:n=Fw;break;case 16:n=Dl;break;case 536870912:n=Vw;break;default:n=Dl}n=cE(n,rE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rE(t,e){if(fl=-1,pl=0,Re&6)throw Error(B(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var r=Ol(t,t===pt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yl(t,r);else{e=r;var i=Re;Re|=2;var o=oE();(pt!==t||Tt!==e)&&(cr=null,Ho=Ye()+500,Ni(t,e));do try{RR();break}catch(a){iE(t,a)}while(1);Pm(),Gl.current=o,Re=i,rt!==null?e=0:(pt=null,Tt=0,e=at)}if(e!==0){if(e===2&&(i=Ff(t),i!==0&&(r=i,e=dp(t,i))),e===1)throw n=Ea,Ni(t,0),Br(t,r),sn(t,Ye()),n;if(e===6)Br(t,r);else{if(i=t.current.alternate,!(r&30)&&!bR(i)&&(e=Yl(t,r),e===2&&(o=Ff(t),o!==0&&(r=o,e=dp(t,o))),e===1))throw n=Ea,Ni(t,0),Br(t,r),sn(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:bi(t,en,cr);break;case 3:if(Br(t,r),(r&130023424)===r&&(e=qm+500-Ye(),10<e)){if(Ol(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wf(bi.bind(null,t,en,cr),e);break}bi(t,en,cr);break;case 4:if(Br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Nn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IR(r/1960))-r,10<r){t.timeoutHandle=Wf(bi.bind(null,t,en,cr),r);break}bi(t,en,cr);break;case 5:bi(t,en,cr);break;default:throw Error(B(329))}}}return sn(t,Ye()),t.callbackNode===n?rE.bind(null,t):null}function dp(t,e){var n=Ys;return t.current.memoizedState.isDehydrated&&(Ni(t,e).flags|=256),t=Yl(t,e),t!==2&&(e=en,en=n,e!==null&&hp(e)),t}function hp(t){en===null?en=t:en.push.apply(en,t)}function bR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~Wm,e&=~rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function U0(t){if(Re&6)throw Error(B(327));ko();var e=Ol(t,0);if(!(e&1))return sn(t,Ye()),null;var n=Yl(t,e);if(t.tag!==0&&n===2){var r=Ff(t);r!==0&&(e=r,n=dp(t,r))}if(n===1)throw n=Ea,Ni(t,0),Br(t,e),sn(t,Ye()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bi(t,en,cr),sn(t,Ye()),null}function Km(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(Ho=Ye()+500,Zc&&vi())}}function zi(t){Gr!==null&&Gr.tag===0&&!(Re&6)&&ko();var e=Re;Re|=1;var n=Rn.transition,r=Oe;try{if(Rn.transition=null,Oe=1,t)return t()}finally{Oe=r,Rn.transition=n,Re=e,!(Re&6)&&vi()}}function Gm(){cn=So.current,Ue(So)}function Ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tR(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(Am(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vl();break;case 3:Bo(),Ue(rn),Ue(Ut),Fm();break;case 5:Lm(r);break;case 4:Bo();break;case 13:Ue(ze);break;case 19:Ue(ze);break;case 10:Dm(r.type._context);break;case 22:case 23:Gm()}n=n.return}if(pt=t,rt=t=ii(t.current,null),Tt=cn=e,at=0,Ea=null,Wm=rd=Bi=0,en=Ys=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}xi=null}return t}function iE(t,e){do{var n=rt;try{if(Pm(),cl.current=Kl,ql){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ql=!1}if($i=0,ft=ot=He=null,Qs=!1,ya=0,Hm.current=null,n===null||n.return===null){at=1,Ea=e,rt=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Tt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=C0(s);if(m!==null){m.flags&=-257,R0(m,s,a,o,e),m.mode&1&&b0(o,l,e),e=m,u=l;var y=e.updateQueue;if(y===null){var w=new Set;w.add(u),e.updateQueue=w}else y.add(u);break e}else{if(!(e&1)){b0(o,l,e),Qm();break e}u=Error(B(426))}}else if($e&&a.mode&1){var T=C0(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),R0(T,s,a,o,e),xm(zo(u,a));break e}}o=u=zo(u,a),at!==4&&(at=2),Ys===null?Ys=[o]:Ys.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=$_(o,u,e);y0(o,p);break e;case 1:a=u;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ni===null||!ni.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=B_(o,a,e);y0(o,_);break e}}o=o.return}while(o!==null)}aE(n)}catch(x){e=x,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function oE(){var t=Gl.current;return Gl.current=Kl,t===null?Kl:t}function Qm(){(at===0||at===3||at===2)&&(at=4),pt===null||!(Bi&268435455)&&!(rd&268435455)||Br(pt,Tt)}function Yl(t,e){var n=Re;Re|=2;var r=oE();(pt!==t||Tt!==e)&&(cr=null,Ni(t,e));do try{CR();break}catch(i){iE(t,i)}while(1);if(Pm(),Re=n,Gl.current=r,rt!==null)throw Error(B(261));return pt=null,Tt=0,at}function CR(){for(;rt!==null;)sE(rt)}function RR(){for(;rt!==null&&!Jb();)sE(rt)}function sE(t){var e=lE(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?aE(t):rt=e,Hm.current=null}function aE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_R(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,rt=null;return}}else if(n=wR(n,e,cn),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);at===0&&(at=5)}function bi(t,e,n){var r=Oe,i=Rn.transition;try{Rn.transition=null,Oe=1,AR(t,e,n,r)}finally{Rn.transition=i,Oe=r}return null}function AR(t,e,n,r){do ko();while(Gr!==null);if(Re&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(uC(t,o),t===pt&&(rt=pt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uu||(Uu=!0,cE(Dl,function(){return ko(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rn.transition,Rn.transition=null;var s=Oe;Oe=1;var a=Re;Re|=4,Hm.current=null,SR(t,n),tE(n,t),GC(zf),Nl=!!Bf,zf=Bf=null,t.current=n,TR(n),Zb(),Re=a,Oe=s,Rn.transition=o}else t.current=n;if(Uu&&(Uu=!1,Gr=t,Xl=i),o=t.pendingLanes,o===0&&(ni=null),nC(n.stateNode),sn(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,t=lp,lp=null,t;return Xl&1&&t.tag!==0&&ko(),o=t.pendingLanes,o&1?t===cp?Js++:(Js=0,cp=t):Js=0,vi(),null}function ko(){if(Gr!==null){var t=jw(Xl),e=Rn.transition,n=Oe;try{if(Rn.transition=null,Oe=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,Xl=0,Re&6)throw Error(B(331));var i=Re;for(Re|=4,ne=t.current;ne!==null;){var o=ne,s=o.child;if(ne.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(ne=l;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:Xs(8,c,o)}var d=c.child;if(d!==null)d.return=c,ne=d;else for(;ne!==null;){c=ne;var f=c.sibling,m=c.return;if(J_(c),c===l){ne=null;break}if(f!==null){f.return=m,ne=f;break}ne=m}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}ne=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ne=s;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xs(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ne=p;break e}ne=o.return}}var g=t.current;for(ne=g;ne!==null;){s=ne;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,ne=v;else e:for(s=g;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nd(9,a)}}catch(x){Ke(a,a.return,x)}if(a===s){ne=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ne=_;break e}ne=a.return}}if(Re=i,vi(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Gc,t)}catch{}r=!0}return r}finally{Oe=n,Rn.transition=e}}return!1}function j0(t,e,n){e=zo(n,e),e=$_(t,e,1),t=ti(t,e,1),e=Kt(),t!==null&&(Ga(t,1,e),sn(t,e))}function Ke(t,e,n){if(t.tag===3)j0(t,t,n);else for(;e!==null;){if(e.tag===3){j0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=zo(n,t),t=B_(e,t,1),e=ti(e,t,1),t=Kt(),e!==null&&(Ga(e,1,t),sn(e,t));break}}e=e.return}}function xR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(Tt&n)===n&&(at===4||at===3&&(Tt&130023424)===Tt&&500>Ye()-qm?Ni(t,0):Wm|=n),sn(t,e)}function uE(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var n=Kt();t=Tr(t,e),t!==null&&(Ga(t,e,n),sn(t,n))}function kR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uE(t,n)}function PR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),uE(t,n)}var lE;lE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,yR(t,e,n);nn=!!(t.flags&131072)}else nn=!1,$e&&e.flags&1048576&&h_(e,$l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hl(t,e),t=e.pendingProps;var i=Uo(e,Ut.current);xo(e,n),i=Um(null,e,r,t,i,n);var o=jm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(o=!0,Ul(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nm(e),i.updater=ed,e.stateNode=i,i._reactInternals=e,Jf(e,r,t,n),e=tp(null,e,r,!0,o,n)):(e.tag=0,$e&&o&&Rm(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OR(r),t=Pn(r,t),i){case 0:e=ep(null,e,r,t,n);break e;case 1:e=k0(null,e,r,t,n);break e;case 11:e=A0(null,e,r,t,n);break e;case 14:e=x0(null,e,r,Pn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),ep(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),k0(t,e,r,i,n);case 3:e:{if(q_(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,g_(t,e),Hl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zo(Error(B(423)),e),e=P0(t,e,r,n,i);break e}else if(r!==i){i=zo(Error(B(424)),e),e=P0(t,e,r,n,i);break e}else for(dn=ei(e.stateNode.containerInfo.firstChild),fn=e,$e=!0,On=null,n=__(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===i){e=Ir(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return E_(e),t===null&&Qf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Hf(r,i)?s=null:o!==null&&Hf(r,o)&&(e.flags|=32),W_(t,e),Wt(t,e,s,n),e.child;case 6:return t===null&&Qf(e),null;case 13:return K_(t,e,n);case 4:return Mm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$o(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),A0(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Le(Bl,r._currentValue),r._currentValue=s,o!==null)if(Vn(o.value,s)){if(o.children===i.children&&!rn.current){e=Ir(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=yr(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Xf(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Xf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xo(e,n),i=An(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=Pn(r,e.pendingProps),i=Pn(r.type,i),x0(t,e,r,i,n);case 15:return z_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),hl(t,e),e.tag=1,on(r)?(t=!0,Ul(e)):t=!1,xo(e,n),y_(e,r,i),Jf(e,r,i,n),tp(null,e,r,!0,t,n);case 19:return G_(t,e,n);case 22:return H_(t,e,n)}throw Error(B(156,e.tag))};function cE(t,e){return Lw(t,e)}function DR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new DR(t,e,n,r)}function Xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OR(t){if(typeof t=="function")return Xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mm)return 11;if(t===gm)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ml(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Xm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ho:return Mi(n.children,i,o,e);case pm:s=8,i|=8;break;case Sf:return t=Cn(12,n,e,i|2),t.elementType=Sf,t.lanes=o,t;case Tf:return t=Cn(13,n,e,i),t.elementType=Tf,t.lanes=o,t;case If:return t=Cn(19,n,e,i),t.elementType=If,t.lanes=o,t;case ww:return id(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vw:s=10;break e;case yw:s=9;break e;case mm:s=11;break e;case gm:s=14;break e;case Vr:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Cn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Mi(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function id(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=ww,t.lanes=n,t.stateNode={isHidden:!1},t}function Lh(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function Fh(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vh(0),this.expirationTimes=vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ym(t,e,n,r,i,o,s,a,u){return t=new NR(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Cn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(o),t}function MR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dE(t){if(!t)return di;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(on(n))return c_(t,n,e)}return e}function hE(t,e,n,r,i,o,s,a,u){return t=Ym(n,r,!0,t,i,o,s,a,u),t.context=dE(null),n=t.current,r=Kt(),i=ri(n),o=yr(r,i),o.callback=e??null,ti(n,o,i),t.current.lanes=i,Ga(t,i,r),sn(t,r),t}function od(t,e,n,r){var i=e.current,o=Kt(),s=ri(i);return n=dE(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,s),t!==null&&(Mn(t,i,s,o),ll(t,i,s)),s}function Jl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jm(t,e){$0(t,e),(t=t.alternate)&&$0(t,e)}function LR(){return null}var fE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zm(t){this._internalRoot=t}sd.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));od(t,e,null,null)};sd.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zi(function(){od(null,t,null,null)}),e[Sr]=null}};function sd(t){this._internalRoot=t}sd.prototype.unstable_scheduleHydration=function(t){if(t){var e=zw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&Ww(t)}};function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B0(){}function FR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Jl(s);o.call(l)}}var s=hE(e,r,t,0,null,!1,!1,"",B0);return t._reactRootContainer=s,t[Sr]=s.current,fa(t.nodeType===8?t.parentNode:t),zi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Jl(u);a.call(l)}}var u=Ym(t,0,!1,null,null,!1,!1,"",B0);return t._reactRootContainer=u,t[Sr]=u.current,fa(t.nodeType===8?t.parentNode:t),zi(function(){od(e,u,n,r)}),u}function ud(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Jl(s);a.call(u)}}od(e,s,t,i)}else s=FR(n,e,t,i,r);return Jl(s)}$w=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Os(e.pendingLanes);n!==0&&(wm(e,n|1),sn(e,Ye()),!(Re&6)&&(Ho=Ye()+500,vi()))}break;case 13:zi(function(){var r=Tr(t,1);if(r!==null){var i=Kt();Mn(r,t,1,i)}}),Jm(t,1)}};_m=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Kt();Mn(e,t,134217728,n)}Jm(t,134217728)}};Bw=function(t){if(t.tag===13){var e=ri(t),n=Tr(t,e);if(n!==null){var r=Kt();Mn(n,t,e,r)}Jm(t,e)}};zw=function(){return Oe};Hw=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Nf=function(t,e,n){switch(e){case"input":if(Rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jc(r);if(!i)throw Error(B(90));Ew(r),Rf(r,i)}}}break;case"textarea":Tw(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};kw=Km;Pw=zi;var VR={usingClientEntryPoint:!1,Events:[Xa,go,Jc,Aw,xw,Km]},Cs={findFiberByHostInstance:Ai,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UR={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nw(t),t===null?null:t.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||LR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Gc=ju.inject(UR),Zn=ju}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VR;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eg(e))throw Error(B(200));return MR(t,e,null,n)};vn.createRoot=function(t,e){if(!eg(t))throw Error(B(299));var n=!1,r="",i=fE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ym(t,1,!1,null,null,n,!1,r,i),t[Sr]=e.current,fa(t.nodeType===8?t.parentNode:t),new Zm(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Nw(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return zi(t)};vn.hydrate=function(t,e,n){if(!ad(e))throw Error(B(200));return ud(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!eg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=fE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=hE(e,null,t,1,n??null,i,!1,o,s),t[Sr]=e.current,fa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sd(e)};vn.render=function(t,e,n){if(!ad(e))throw Error(B(200));return ud(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!ad(t))throw Error(B(40));return t._reactRootContainer?(zi(function(){ud(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};vn.unstable_batchedUpdates=Km;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ad(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return ud(t,e,n,!1,r)};vn.version="18.2.0-next-9e3b772b8-20220608";function pE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pE)}catch(t){console.error(t)}}pE(),hw.exports=vn;var mE=hw.exports,z0=mE;_f.createRoot=z0.createRoot,_f.hydrateRoot=z0.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}var Qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qr||(Qr={}));const H0="popstate";function jR(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return fp("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gE(i)}return BR(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $R(){return Math.random().toString(36).substr(2,8)}function W0(t,e){return{usr:t.state,key:t.key,idx:e}}function fp(t,e,n,r){return n===void 0&&(n=null),Sa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ss(e):e,{state:n,key:e&&e.key||r||$R()})}function gE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ss(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Qr.Pop,u=null,l=c();l==null&&(l=0,s.replaceState(Sa({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Qr.Pop;let T=c(),p=T==null?null:T-l;l=T,u&&u({action:a,location:w.location,delta:p})}function f(T,p){a=Qr.Push;let g=fp(w.location,T,p);n&&n(g,T),l=c()+1;let v=W0(g,l),_=w.createHref(g);try{s.pushState(v,"",_)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(_)}o&&u&&u({action:a,location:w.location,delta:1})}function m(T,p){a=Qr.Replace;let g=fp(w.location,T,p);n&&n(g,T),l=c();let v=W0(g,l),_=w.createHref(g);s.replaceState(v,"",_),o&&u&&u({action:a,location:w.location,delta:0})}function y(T){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof T=="string"?T:gE(T);return it(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let w={get action(){return a},get location(){return t(i,s)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(H0,d),u=T,()=>{i.removeEventListener(H0,d),u=null}},createHref(T){return e(i,T)},createURL:y,encodeLocation(T){let p=y(T);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(T){return s.go(T)}};return w}var q0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(q0||(q0={}));function zR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ss(e):e,i=wE(r.pathname||"/",n);if(i==null)return null;let o=vE(t);HR(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=ZR(o[a],nA(i));return s}function vE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(it(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Li([r,u.relativePath]),c=n.concat(u);o.children&&o.children.length>0&&(it(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),vE(o.children,e,c,l)),!(o.path==null&&!o.index)&&e.push({path:l,score:YR(l,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of yE(o.path))i(o,s,u)}),e}function yE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=yE(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function HR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WR=/^:\w+$/,qR=3,KR=2,GR=1,QR=10,XR=-2,K0=t=>t==="*";function YR(t,e){let n=t.split("/"),r=n.length;return n.some(K0)&&(r+=XR),e&&(r+=KR),n.filter(i=>!K0(i)).reduce((i,o)=>i+(WR.test(o)?qR:o===""?GR:QR),r)}function JR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZR(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],u=s===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=eA({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:Li([i,c.pathname]),pathnameBase:sA(Li([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Li([i,c.pathnameBase]))}return o}function eA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=rA(a[d]||"",c),l},{}),pathname:o,pathnameBase:s,pattern:t}}function tA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nA(t){try{return decodeURI(t)}catch(e){return tg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rA(t,e){try{return decodeURIComponent(t)}catch(n){return tg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function wE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ss(t):t;return{pathname:n?n.startsWith("/")?n:oA(n,e):e,search:aA(r),hash:uA(i)}}function oA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _E(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function EE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ss(t):(i=Sa({},t),it(!i.pathname||!i.pathname.includes("?"),Vh("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Vh("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Vh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let u=iA(i,a),l=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Li=t=>t.join("/").replace(/\/\/+/g,"/"),sA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SE=["post","put","patch","delete"];new Set(SE);const cA=["get",...SE];new Set(cA);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}const ng=b.createContext(null),dA=b.createContext(null),ld=b.createContext(null),cd=b.createContext(null),yi=b.createContext({outlet:null,matches:[],isDataRoute:!1}),TE=b.createContext(null);function Ja(){return b.useContext(cd)!=null}function rg(){return Ja()||it(!1),b.useContext(cd).location}function IE(t){b.useContext(ld).static||b.useLayoutEffect(t)}function ig(){let{isDataRoute:t}=b.useContext(yi);return t?bA():hA()}function hA(){Ja()||it(!1);let t=b.useContext(ng),{basename:e,navigator:n}=b.useContext(ld),{matches:r}=b.useContext(yi),{pathname:i}=rg(),o=JSON.stringify(_E(r).map(u=>u.pathnameBase)),s=b.useRef(!1);return IE(()=>{s.current=!0}),b.useCallback(function(u,l){if(l===void 0&&(l={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let c=EE(u,JSON.parse(o),i,l.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Li([e,c.pathname])),(l.replace?n.replace:n.push)(c,l.state,l)},[e,n,o,i,t])}function fA(){let{matches:t}=b.useContext(yi),e=t[t.length-1];return e?e.params:{}}function pA(t,e){return mA(t,e)}function mA(t,e,n){Ja()||it(!1);let{navigator:r}=b.useContext(ld),{matches:i}=b.useContext(yi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=rg(),l;if(e){var c;let w=typeof e=="string"?ss(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||it(!1),l=w}else l=u;let d=l.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",m=zR(t,{pathname:f}),y=_A(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Li([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Li([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&y?b.createElement(cd.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Qr.Pop}},y):y}function gA(){let t=IA(),e=lA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,o)}const vA=b.createElement(gA,null);class yA extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(yi.Provider,{value:this.props.routeContext},b.createElement(TE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wA(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(ng);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(yi.Provider,{value:e},r)}function _A(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id]));a>=0||it(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,u,l)=>{let c=u.route.id?s==null?void 0:s[u.route.id]:null,d=null;n&&(d=u.route.errorElement||vA);let f=e.concat(o.slice(0,l+1)),m=()=>{let y;return c?y=d:u.route.Component?y=b.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=a,b.createElement(wA,{match:u,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?b.createElement(yA,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var bE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bE||{}),ec=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ec||{});function EA(t){let e=b.useContext(ng);return e||it(!1),e}function SA(t){let e=b.useContext(dA);return e||it(!1),e}function TA(t){let e=b.useContext(yi);return e||it(!1),e}function CE(t){let e=TA(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function IA(){var t;let e=b.useContext(TE),n=SA(ec.UseRouteError),r=CE(ec.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function bA(){let{router:t}=EA(bE.UseNavigateStable),e=CE(ec.UseNavigateStable),n=b.useRef(!1);return IE(()=>{n.current=!0}),b.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zl({fromRouteId:e},o)))},[t,e])}function CA(t){let{to:e,replace:n,state:r,relative:i}=t;Ja()||it(!1);let{matches:o}=b.useContext(yi),{pathname:s}=rg(),a=ig(),u=EE(e,_E(o).map(c=>c.pathnameBase),s,i==="path"),l=JSON.stringify(u);return b.useEffect(()=>a(JSON.parse(l),{replace:n,state:r,relative:i}),[a,l,i,n,r]),null}function Ms(t){it(!1)}function RA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qr.Pop,navigator:o,static:s=!1}=t;Ja()&&it(!1);let a=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=ss(r));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:m="default"}=r,y=b.useMemo(()=>{let w=wE(l,a);return w==null?null:{location:{pathname:w,search:c,hash:d,state:f,key:m},navigationType:i}},[a,l,c,d,f,m,i]);return y==null?null:b.createElement(ld.Provider,{value:u},b.createElement(cd.Provider,{children:n,value:y}))}function AA(t){let{children:e,location:n}=t;return pA(pp(e),n)}new Promise(()=>{});function pp(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let o=[...e,i];if(r.type===b.Fragment){n.push.apply(n,pp(r.props.children,o));return}r.type!==Ms&&it(!1),!r.props.index||!r.props.children||it(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=pp(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xA="startTransition",G0=wf[xA];function kA(t){let{basename:e,children:n,future:r,window:i}=t,o=b.useRef();o.current==null&&(o.current=jR({window:i,v5Compat:!0}));let s=o.current,[a,u]=b.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},c=b.useCallback(d=>{l&&G0?G0(()=>u(d)):u(d)},[u,l]);return b.useLayoutEffect(()=>s.listen(c),[s,c]),b.createElement(RA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}var Q0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Q0||(Q0={}));var X0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X0||(X0={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new DA;const f=o<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),d!==64){const y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(t){const e=RE(t);return AE.encodeByteArray(e,!0)},tc=function(t){return OA(t).replace(/\./g,"")},xE=function(t){try{return AE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=()=>NA().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xE(t[1]);return e&&JSON.parse(e)},og=()=>{try{return MA()||LA()||FA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kE=t=>{var e,n;return(n=(e=og())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VA=t=>{const e=kE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PE=()=>{var t;return(t=og())===null||t===void 0?void 0:t.config},DE=t=>{var e;return(e=og())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[tc(JSON.stringify(n)),tc(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function BA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function qA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KA,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?GA(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Pr(i,a,r)}}function GA(t,e){return t.replace(QA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QA=/\{\$([^}]+)}/g;function XA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Y0(o)&&Y0(s)){if(!nc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ls(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YA(t,e){const n=new JA(t,e);return n.subscribe.bind(n)}class JA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uh),i.error===void 0&&(i.error=Uh),i.complete===void 0&&(i.complete=Uh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nx(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tx(t){return t===Ci?void 0:t}function nx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ex(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const ix={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},ox=xe.INFO,sx={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},ax=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=ox,this._logHandler=ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ix[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const ux=(t,e)=>e.some(n=>t instanceof n);let J0,Z0;function lx(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cx(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,mp=new WeakMap,NE=new WeakMap,jh=new WeakMap,ag=new WeakMap;function dx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(oi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&OE.set(n,t)}).catch(()=>{}),ag.set(e,t),e}function hx(t){if(mp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});mp.set(t,e)}let gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fx(t){gp=t(gp)}function px(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($h(this),e,...n);return NE.set(r,e.sort?e.sort():[e]),oi(r)}:cx().includes(t)?function(...e){return t.apply($h(this),e),oi(OE.get(this))}:function(...e){return oi(t.apply($h(this),e))}}function mx(t){return typeof t=="function"?px(t):(t instanceof IDBTransaction&&hx(t),ux(t,lx())?new Proxy(t,gp):t)}function oi(t){if(t instanceof IDBRequest)return dx(t);if(jh.has(t))return jh.get(t);const e=mx(t);return e!==t&&(jh.set(t,e),ag.set(e,t)),e}const $h=t=>ag.get(t);function gx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=oi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(oi(s.result),u.oldVersion,u.newVersion,oi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const vx=["get","getKey","getAll","getAllKeys","count"],yx=["put","add","delete","clear"],Bh=new Map;function ey(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bh.get(e))return Bh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vx.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Bh.set(e,o),o}fx(t=>({...t,get:(e,n,r)=>ey(e,n)||t.get(e,n,r),has:(e,n)=>!!ey(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_x(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _x(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",ty="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new sg("@firebase/app"),Ex="@firebase/app-compat",Sx="@firebase/analytics-compat",Tx="@firebase/analytics",Ix="@firebase/app-check-compat",bx="@firebase/app-check",Cx="@firebase/auth",Rx="@firebase/auth-compat",Ax="@firebase/database",xx="@firebase/database-compat",kx="@firebase/functions",Px="@firebase/functions-compat",Dx="@firebase/installations",Ox="@firebase/installations-compat",Nx="@firebase/messaging",Mx="@firebase/messaging-compat",Lx="@firebase/performance",Fx="@firebase/performance-compat",Vx="@firebase/remote-config",Ux="@firebase/remote-config-compat",jx="@firebase/storage",$x="@firebase/storage-compat",Bx="@firebase/firestore",zx="@firebase/firestore-compat",Hx="firebase",Wx="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",qx={[vp]:"fire-core",[Ex]:"fire-core-compat",[Tx]:"fire-analytics",[Sx]:"fire-analytics-compat",[bx]:"fire-app-check",[Ix]:"fire-app-check-compat",[Cx]:"fire-auth",[Rx]:"fire-auth-compat",[Ax]:"fire-rtdb",[xx]:"fire-rtdb-compat",[kx]:"fire-fn",[Px]:"fire-fn-compat",[Dx]:"fire-iid",[Ox]:"fire-iid-compat",[Nx]:"fire-fcm",[Mx]:"fire-fcm-compat",[Lx]:"fire-perf",[Fx]:"fire-perf-compat",[Vx]:"fire-rc",[Ux]:"fire-rc-compat",[jx]:"fire-gcs",[$x]:"fire-gcs-compat",[Bx]:"fire-fst",[zx]:"fire-fst-compat","fire-js":"fire-js",[Hx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,wp=new Map;function Kx(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(wp.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,t);for(const n of rc.values())Kx(n,t);return!0}function ug(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},si=new Za("app","Firebase",Gx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=Wx;function ME(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=PE()),!n)throw si.create("no-options");const o=rc.get(i);if(o){if(nc(n,o.options)&&nc(r,o.config))return o;throw si.create("duplicate-app",{appName:i})}const s=new rx(i);for(const u of wp.values())s.addComponent(u);const a=new Qx(n,r,s);return rc.set(i,a),a}function LE(t=yp){const e=rc.get(t);if(!e&&t===yp&&PE())return ME();if(!e)throw si.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let i=(r=qx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(a.join(" "));return}Wo(new Hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="firebase-heartbeat-database",Yx=1,Ta="firebase-heartbeat-store";let zh=null;function FE(){return zh||(zh=gx(Xx,Yx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ta)}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),zh}async function Jx(t){try{return await(await FE()).transaction(Ta).objectStore(Ta).get(VE(t))}catch(e){if(e instanceof Pr)Wi.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function ny(t,e){try{const r=(await FE()).transaction(Ta,"readwrite");await r.objectStore(Ta).put(e,VE(t)),await r.done}catch(n){if(n instanceof Pr)Wi.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(r.message)}}}function VE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=1024,ek=30*24*60*60*1e3;class tk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ry();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=ek}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ry(),{heartbeatsToSend:n,unsentEntries:r}=nk(this._heartbeatsCache.heartbeats),i=tc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ry(){return new Date().toISOString().substring(0,10)}function nk(t,e=Zx){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?qA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Jx(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iy(t){return tc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){Wo(new Hi("platform-logger",e=>new wx(e),"PRIVATE")),Wo(new Hi("heartbeat",e=>new tk(e),"PRIVATE")),ai(vp,ty,t),ai(vp,ty,"esm2017"),ai("fire-js","")}ik("");function lg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function UE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ok=UE,jE=new Za("auth","Firebase",UE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new sg("@firebase/auth");function sk(t,...e){ic.logLevel<=xe.WARN&&ic.warn(`Auth (${as}): ${t}`,...e)}function gl(t,...e){ic.logLevel<=xe.ERROR&&ic.error(`Auth (${as}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw cg(t,...e)}function tr(t,...e){return cg(t,...e)}function ak(t,e,n){const r=Object.assign(Object.assign({},ok()),{[e]:n});return new Za("auth","Firebase",r).create(e,{appName:t.name})}function cg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jE.create(t,...e)}function me(t,e,...n){if(!t)throw cg(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gl(e),new Error(e)}function br(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uk(){return oy()==="http:"||oy()==="https:"}function oy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uk()||BA()||"connection"in navigator)?navigator.onLine:!0}function ck(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=$A()||zA()}get(){return lk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new tu(3e4,6e4);function us(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ls(t,e,n,r,i={}){return BE(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=eu(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),$E.fetch()(zE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function BE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dk),e);try{const i=new fk(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw $u(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw $u(t,"user-disabled",s);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ak(t,c,l);Un(t,c)}}catch(i){if(i instanceof Pr)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function nu(t,e,n,r,i={}){const o=await ls(t,e,n,r,i);return"mfaPendingCredential"in o&&Un(t,"multi-factor-auth-required",{_serverResponse:o}),o}function zE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dg(t.config,i):`${t.config.apiScheme}://${i}`}class fk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),hk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=tr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e){return ls(t,"POST","/v1/accounts:delete",e)}async function mk(t,e){return ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gk(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=hg(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Zs(Hh(i.auth_time)),issuedAtTime:Zs(Hh(i.iat)),expirationTime:Zs(Hh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hh(t){return Number(t)*1e3}function hg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gl("JWT malformed, contained fewer than 3 sections"),null;try{const i=xE(n);return i?JSON.parse(i):(gl("Failed to decode base64 JWT payload"),null)}catch(i){return gl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vk(t){const e=hg(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&yk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zs(this.lastLoginAt),this.creationTime=Zs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ia(t,mk(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Sk(o.providerUserInfo):[],a=Ek(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new HE(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function _k(t){const e=Ct(t);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ek(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Sk(t){return t.map(e=>{var{providerId:n}=e,r=lg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(t,e){const n=await BE(t,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=zE(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Tk(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ba;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new HE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ia(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gk(this,e)}reload(){return _k(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ia(this,pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,p=(l=n.createdAt)!==null&&l!==void 0?l:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:_,isAnonymous:x,providerData:C,stsTokenManager:k}=n;me(v&&k,e,"internal-error");const F=ba.fromJSON(this.name,k);me(typeof v=="string",e,"internal-error"),Lr(d,e.name),Lr(f,e.name),me(typeof _=="boolean",e,"internal-error"),me(typeof x=="boolean",e,"internal-error"),Lr(m,e.name),Lr(y,e.name),Lr(w,e.name),Lr(T,e.name),Lr(p,e.name),Lr(g,e.name);const L=new Fi({uid:v,auth:e,email:f,emailVerified:_,displayName:d,isAnonymous:x,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:F,createdAt:p,lastLoginAt:g});return C&&Array.isArray(C)&&(L.providerData=C.map(H=>Object.assign({},H))),T&&(L._redirectEventId=T),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new ba;i.updateFromServerResponse(n);const o=new Fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await oc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new Map;function mr(t){br(t instanceof Function,"Expected a class definition");let e=sy.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WE.type="NONE";const ay=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t,e,n){return`firebase:${t}:${e}:${n}`}class Po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=vl(this.userKey,i.apiKey,o),this.fullPersistenceKey=vl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Po(mr(ay),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||mr(ay);const s=vl(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(s);if(c){const d=Fi._fromJSON(e,c);l!==o&&(a=d),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Po(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new Po(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XE(e))return"Blackberry";if(YE(e))return"Webos";if(fg(e))return"Safari";if((e.includes("chrome/")||KE(e))&&!e.includes("edge/"))return"Chrome";if(QE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qE(t=jt()){return/firefox\//i.test(t)}function fg(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KE(t=jt()){return/crios\//i.test(t)}function GE(t=jt()){return/iemobile/i.test(t)}function QE(t=jt()){return/android/i.test(t)}function XE(t=jt()){return/blackberry/i.test(t)}function YE(t=jt()){return/webos/i.test(t)}function dd(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ik(t=jt()){var e;return dd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bk(){return HA()&&document.documentMode===10}function JE(t=jt()){return dd(t)||QE(t)||YE(t)||XE(t)||/windows phone/i.test(t)||GE(t)}function Ck(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t,e=[]){let n;switch(t){case"Browser":n=uy(jt());break;case"Worker":n=`${uy(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${as}/${r}`}async function eS(t,e){return ls(t,"GET","/v2/recaptchaConfig",us(t,e))}function ly(t){return t!==void 0&&t.enterprise!==void 0}class tS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function nS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=tr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Rk().appendChild(r)})}function Ak(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const xk="https://www.google.com/recaptcha/enterprise.js?render=",kk="recaptcha-enterprise",Pk="NO_RECAPTCHA";class rS{constructor(e){this.type=kk,this.auth=cs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{eS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new tS(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){const u=window.grecaptcha;ly(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Pk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&ly(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}nS(xk+a).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function sc(t,e,n,r=!1){const i=new rS(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cy(this),this.idTokenSubscription=new cy(this),this.beforeStateQueue=new Dk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ct(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}async initializeRecaptchaConfig(){const e=await eS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new tS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new rS(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return me(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cs(t){return Ct(t)}class cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e){const n=ug(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(nc(o,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function Mk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Lk(t,e,n){const r=cs(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=iS(e),{host:s,port:a}=Fk(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Vk()}function iS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fk(t){const e=iS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:dy(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:dy(s)}}}function dy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function Uk(t,e){return ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t,e){return nu(t,"POST","/v1/accounts:signInWithPassword",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(t,e){return nu(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}async function $k(t,e){return nu(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends pg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ca(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ca(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await sc(e,r,"signInWithPassword");return Wh(e,i)}else return Wh(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await sc(e,r,"signInWithPassword");return Wh(e,o)}else return Promise.reject(i)});case"emailLink":return jk(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Uk(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return $k(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return nu(t,"POST","/v1/accounts:signInWithIdp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="http://localhost";class qi extends pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=lg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new qi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:Bk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hk(t){const e=Ls(Fs(t)).link,n=e?Ls(Fs(e)).deep_link_id:null,r=Ls(Fs(t)).deep_link_id;return(r?Ls(Fs(r)).link:null)||r||n||e||t}class mg{constructor(e){var n,r,i,o,s,a;const u=Ls(Fs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,d=zk((i=u.mode)!==null&&i!==void 0?i:null);me(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Hk(e);try{return new mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.providerId=ds.PROVIDER_ID}static credential(e,n){return Ca._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mg.parseLink(n);return me(r,"argument-error"),Ca._fromEmailAndCode(e,r.code,r.tenantId)}}ds.PROVIDER_ID="password";ds.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ds.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends oS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends ru{constructor(){super("facebook.com")}static credential(e){return qi._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qi._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ru{constructor(){super("github.com")}static credential(e){return qi._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends ru{constructor(){super("twitter.com")}static credential(e,n){return qi._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t,e){return nu(t,"POST","/v1/accounts:signUp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Fi._fromIdTokenResponse(e,r,i),s=hy(r);return new Ki({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hy(r);return new Ki({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Pr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ac.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ac(e,n,r,i)}}function sS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ac._fromErrorAndOperation(t,o,e,r):o})}async function Wk(t,e,n=!1){const r=await Ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ki._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ia(t,sS(r,i,e,t),n);me(o.idToken,r,"internal-error");const s=hg(o.idToken);me(s,r,"internal-error");const{sub:a}=s;return me(t.uid===a,r,"user-mismatch"),Ki._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t,e,n=!1){const r="signIn",i=await sS(t,r,e),o=await Ki._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Kk(t,e){return aS(cs(t),e)}async function Gk(t,e,n){var r;const i=cs(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const l=await sc(i,o,"signUpPassword");s=qh(i,l)}else s=qh(i,o).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await sc(i,o,"signUpPassword");return qh(i,c)}else return Promise.reject(l)});const a=await s.catch(l=>Promise.reject(l)),u=await Ki._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function Qk(t,e,n){return Kk(Ct(t),ds.credential(e,n))}function Xk(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function Yk(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function Jk(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function Zk(t){return Ct(t).signOut()}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){const t=jt();return fg(t)||dd(t)}const tP=1e3,nP=10;class lS extends uS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eP()&&Ck(),this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);bk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lS.type="LOCAL";const rP=lS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends uS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cS.type="SESSION";const dS=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async l=>l(n.origin,o)),u=await iP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const l=gg("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function sP(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function aP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lP(){return hS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="firebaseLocalStorageDb",cP=1,lc="firebaseLocalStorage",pS="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(t,e){return t.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function dP(){const t=indexedDB.deleteDatabase(fS);return new iu(t).toPromise()}function Ep(){const t=indexedDB.open(fS,cP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lc,{keyPath:pS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lc)?e(r):(r.close(),await dP(),e(await Ep()))})})}async function fy(t,e,n){const r=fd(t,!0).put({[pS]:e,value:n});return new iu(r).toPromise()}async function hP(t,e){const n=fd(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function py(t,e){const n=fd(t,!0).delete(e);return new iu(n).toPromise()}const fP=800,pP=3;class mS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(lP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await fy(e,uc,"1"),await py(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>py(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=fd(i,!1).getAll();return new iu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mS.type="LOCAL";const mP=mS;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t,e){return e?mr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vP(t){return aS(t.auth,new vg(t),t.bypassAuthState)}function yP(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),qk(n,new vg(t),t.bypassAuthState)}async function wP(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Wk(n,new vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vP;case"linkViaPopup":case"linkViaRedirect":return wP;case"reauthViaPopup":case"reauthViaRedirect":return yP;default:Un(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new tu(2e3,1e4);class To extends gS{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_P.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="pendingRedirect",yl=new Map;class SP extends gS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yl.get(this.auth._key());if(!e){try{const r=await TP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yl.set(this.auth._key(),e)}return this.bypassAuthState||yl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TP(t,e){const n=CP(e),r=bP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function IP(t,e){yl.set(t._key(),e)}function bP(t){return mr(t._redirectPersistence)}function CP(t){return vl(EP,t.config.apiKey,t.name)}async function RP(t,e,n=!1){const r=cs(t),i=gP(r,e),s=await new SP(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=10*60*1e3;class xP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AP&&this.cachedEventUids.clear(),this.cachedEventUids.has(my(e))}saveEventToCache(e){this.cachedEventUids.add(my(e)),this.lastProcessedEventTime=Date.now()}}function my(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e={}){return ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OP=/^https?/;async function NP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PP(t);for(const n of e)try{if(MP(n))return}catch{}Un(t,"unauthorized-domain")}function MP(t){const e=_p(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!OP.test(n))return!1;if(DP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new tu(3e4,6e4);function gy(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FP(t){return new Promise((e,n)=>{var r,i,o;function s(){gy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gy(),n(tr(t,"network-request-failed"))},timeout:LP.get()})}if(!((i=(r=nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=nr().gapi)===null||o===void 0)&&o.load)s();else{const a=Ak("iframefcb");return nr()[a]=()=>{gapi.load?s():n(tr(t,"network-request-failed"))},nS(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw wl=null,e})}let wl=null;function VP(t){return wl=wl||FP(t),wl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new tu(5e3,15e3),jP="__/auth/iframe",$P="emulator/auth/iframe",BP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HP(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dg(e,$P):`https://${t.config.authDomain}/${jP}`,r={apiKey:e.apiKey,appName:t.name,v:as},i=zP.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${eu(r).slice(1)}`}async function WP(t){const e=await VP(t),n=nr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:HP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BP,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=tr(t,"network-request-failed"),a=nr().setTimeout(()=>{o(s)},UP.get());function u(){nr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KP=500,GP=600,QP="_blank",XP="http://localhost";class vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YP(t,e,n,r=KP,i=GP){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},qP),{width:r.toString(),height:i.toString(),top:o,left:s}),l=jt().toLowerCase();n&&(a=KE(l)?QP:n),qE(l)&&(e=e||XP,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(Ik(l)&&a!=="_self")return JP(e||"",a),new vy(null);const d=window.open(e||"",a,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new vy(d)}function JP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="__/auth/handler",e4="emulator/auth/handler",t4=encodeURIComponent("fac");async function yy(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:as,eventId:i};if(e instanceof oS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",XA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof ru){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${t4}=${encodeURIComponent(u)}`:"";return`${n4(t)}?${eu(a).slice(1)}${l}`}function n4({config:t}){return t.emulator?dg(t,e4):`https://${t.authDomain}/${ZP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="webStorageSupport";class r4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dS,this._completeRedirectFn=RP,this._overrideRedirectResult=IP}async _openPopup(e,n,r,i){var o;br((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await yy(e,n,r,_p(),i);return YP(e,s,gg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yy(e,n,r,_p(),i);return sP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(br(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WP(e),r=new xP(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kh,{type:Kh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Kh];s!==void 0&&n(!!s),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JE()||fg()||dd()}}const i4=r4;var wy="@firebase/auth",_y="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function a4(t){Wo(new Hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZE(t)},l=new Ok(r,i,o,u);return Mk(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new Hi("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(r=>new o4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(wy,_y,s4(t)),ai(wy,_y,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=5*60,l4=DE("authIdTokenMaxAge")||u4;let Ey=null;const c4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l4)return;const i=n==null?void 0:n.token;Ey!==i&&(Ey=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function d4(t=LE()){const e=ug(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Nk(t,{popupRedirectResolver:i4,persistence:[mP,rP,dS]}),r=DE("authTokenSyncURL");if(r){const o=c4(r);Yk(n,o,()=>o(n.currentUser)),Xk(n,s=>o(s))}const i=kE("auth");return i&&Lk(n,`http://${i}`),n}a4("Browser");var h4="firebase",f4="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(h4,f4,"app");var p4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,yg=yg||{},ve=p4||self;function pd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ou(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function m4(t){return Object.prototype.hasOwnProperty.call(t,Gh)&&t[Gh]||(t[Gh]=++g4)}var Gh="closure_uid_"+(1e9*Math.random()>>>0),g4=0;function v4(t,e,n){return t.call.apply(t.bind,arguments)}function y4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Lt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Lt=v4:Lt=y4,Lt.apply(null,arguments)}function Bu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function wi(){this.s=this.s,this.o=this.o}var w4=0;wi.prototype.s=!1;wi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),w4!=0)&&m4(this)};wi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function wg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Sy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pd(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ft(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ft.prototype.h=function(){this.defaultPrevented=!0};var _4=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ve.addEventListener("test",()=>{},e),ve.removeEventListener("test",()=>{},e)}catch{}return t}();function Ra(t){return/^[\s\xa0]*$/.test(t)}function md(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function Qn(t){return md().indexOf(t)!=-1}function _g(t){return _g[" "](t),t}_g[" "]=function(){};function E4(t,e){var n=fD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var S4=Qn("Opera"),qo=Qn("Trident")||Qn("MSIE"),wS=Qn("Edge"),Sp=wS||qo,_S=Qn("Gecko")&&!(md().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),T4=md().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge");function ES(){var t=ve.document;return t?t.documentMode:void 0}var Tp;e:{var Qh="",Xh=function(){var t=md();if(_S)return/rv:([^\);]+)(\)|;)/.exec(t);if(wS)return/Edge\/([\d\.]+)/.exec(t);if(qo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(T4)return/WebKit\/(\S+)/.exec(t);if(S4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Xh&&(Qh=Xh?Xh[1]:""),qo){var Yh=ES();if(Yh!=null&&Yh>parseFloat(Qh)){Tp=String(Yh);break e}}Tp=Qh}var Ip;if(ve.document&&qo){var Ty=ES();Ip=Ty||parseInt(Tp,10)||void 0}else Ip=void 0;var I4=Ip;function Aa(t,e){if(Ft.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_S){e:{try{_g(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:b4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Aa.$.h.call(this)}}gt(Aa,Ft);var b4={2:"touch",3:"pen",4:"mouse"};Aa.prototype.h=function(){Aa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var su="closure_listenable_"+(1e6*Math.random()|0),C4=0;function R4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++C4,this.fa=this.ia=!1}function gd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Eg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function A4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function SS(t){const e={};for(const n in t)e[n]=t[n];return e}const Iy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Iy.length;o++)n=Iy[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vd(t){this.src=t,this.g={},this.h=0}vd.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Cp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new R4(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function bp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(gd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Sg="closure_lm_"+(1e6*Math.random()|0),Jh={};function IS(t,e,n,r,i){if(r&&r.once)return CS(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)IS(t,e[o],n,r,i);return null}return n=bg(n),t&&t[su]?t.O(e,n,ou(r)?!!r.capture:!!r,i):bS(t,e,n,!1,r,i)}function bS(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ou(i)?!!i.capture:!!i,a=Ig(t);if(a||(t[Sg]=a=new vd(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=x4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_4||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function x4(){function t(n){return e.call(t.src,t.listener,n)}const e=k4;return t}function CS(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)CS(t,e[o],n,r,i);return null}return n=bg(n),t&&t[su]?t.P(e,n,ou(r)?!!r.capture:!!r,i):bS(t,e,n,!0,r,i)}function RS(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)RS(t,e[o],n,r,i);else r=ou(r)?!!r.capture:!!r,n=bg(n),t&&t[su]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Cp(o,n,r,i),-1<n&&(gd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ig(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cp(e,n,r,i)),(n=-1<t?e[t]:null)&&Tg(n))}function Tg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[su])bp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ig(e))?(bp(n,t),n.h==0&&(n.src=null,e[Sg]=null)):gd(t)}}}function AS(t){return t in Jh?Jh[t]:Jh[t]="on"+t}function k4(t,e){if(t.fa)t=!0;else{e=new Aa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Tg(t),t=n.call(r,e)}return t}function Ig(t){return t=t[Sg],t instanceof vd?t:null}var Zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function bg(t){return typeof t=="function"?t:(t[Zh]||(t[Zh]=function(e){return t.handleEvent(e)}),t[Zh])}function mt(){wi.call(this),this.i=new vd(this),this.S=this,this.J=null}gt(mt,wi);mt.prototype[su]=!0;mt.prototype.removeEventListener=function(t,e,n,r){RS(this,t,e,n,r)};function It(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ft(e,t);else if(e instanceof Ft)e.target=e.target||t;else{var i=e;e=new Ft(r,t),TS(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=zu(s,r,!0,e)&&i}if(s=e.g=t,i=zu(s,r,!0,e)&&i,i=zu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=zu(s,r,!1,e)&&i}mt.prototype.N=function(){if(mt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gd(n[r]);delete t.g[e],t.h--}}this.J=null};mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function zu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&bp(t.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cg=ve.JSON.stringify;class P4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function D4(){var t=Rg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class O4{constructor(){this.h=this.g=null}add(e,n){const r=xS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var xS=new P4(()=>new N4,t=>t.reset());class N4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function M4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function L4(t){ve.setTimeout(()=>{throw t},0)}let xa,ka=!1,Rg=new O4,kS=()=>{const t=ve.Promise.resolve(void 0);xa=()=>{t.then(F4)}};var F4=()=>{for(var t;t=D4();){try{t.h.call(t.g)}catch(n){L4(n)}var e=xS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ka=!1};function yd(t,e){mt.call(this),this.h=t||1,this.g=e||ve,this.j=Lt(this.qb,this),this.l=Date.now()}gt(yd,mt);J=yd.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),It(this,"tick"),this.ga&&(Ag(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ag(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){yd.$.N.call(this),Ag(this),delete this.g};function xg(t,e,n){if(typeof t=="function")n&&(t=Lt(t,n));else if(t&&typeof t.handleEvent=="function")t=Lt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function PS(t){t.g=xg(()=>{t.g=null,t.i&&(t.i=!1,PS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class V4 extends wi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PS(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(t){wi.call(this),this.h=t,this.g={}}gt(Pa,wi);var by=[];function DS(t,e,n,r){Array.isArray(n)||(n&&(by[0]=n.toString()),n=by);for(var i=0;i<n.length;i++){var o=IS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function OS(t){Eg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tg(e)},t),t.g={}}Pa.prototype.N=function(){Pa.$.N.call(this),OS(this)};Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wd(){this.g=!0}wd.prototype.Ea=function(){this.g=!1};function U4(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function j4(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Io(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+B4(t,n)+(r?" "+r:"")})}function $4(t,e){t.info(function(){return"TIMEOUT: "+e})}wd.prototype.info=function(){};function B4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Cg(n)}catch{return e}}var eo={},Cy=null;function _d(){return Cy=Cy||new mt}eo.Ta="serverreachability";function NS(t){Ft.call(this,eo.Ta,t)}gt(NS,Ft);function Da(t){const e=_d();It(e,new NS(e))}eo.STAT_EVENT="statevent";function MS(t,e){Ft.call(this,eo.STAT_EVENT,t),this.stat=e}gt(MS,Ft);function qt(t){const e=_d();It(e,new MS(e,t))}eo.Ua="timingevent";function LS(t,e){Ft.call(this,eo.Ua,t),this.size=e}gt(LS,Ft);function au(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}var Ed={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kg(){}kg.prototype.h=null;function Ry(t){return t.h||(t.h=t.i())}function VS(){}var uu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pg(){Ft.call(this,"d")}gt(Pg,Ft);function Dg(){Ft.call(this,"c")}gt(Dg,Ft);var Rp;function Sd(){}gt(Sd,kg);Sd.prototype.g=function(){return new XMLHttpRequest};Sd.prototype.i=function(){return{}};Rp=new Sd;function lu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Pa(this),this.P=z4,t=Sp?125:void 0,this.V=new yd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new US}function US(){this.i=null,this.g="",this.h=!1}var z4=45e3,Ap={},cc={};J=lu.prototype;J.setTimeout=function(t){this.P=t};function xp(t,e,n){t.L=1,t.v=Id(Cr(e)),t.s=n,t.S=!0,jS(t,null)}function jS(t,e){t.G=Date.now(),cu(t),t.A=Cr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),GS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new US,t.g=m2(t.l,n?e:null,!t.s),0<t.O&&(t.M=new V4(Lt(t.Pa,t,t.g),t.O)),DS(t.U,t.g,"readystatechange",t.nb),e=t.I?SS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Da(),U4(t.j,t.u,t.A,t.m,t.W,t.s)}J.nb=function(t){t=t.target;const e=this.M;e&&Xn(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const c=Xn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Sp||this.g&&(this.h.h||this.g.ja()||Py(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Da(3):Da(2)),Td(this);var n=this.g.da();this.ca=n;t:if($S(this)){var r=Py(this.g);t="";var i=r.length,o=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),ea(this);var s="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,j4(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ra(a)){var l=a;break t}}l=null}if(n=l)Io(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kp(this,n);else{this.i=!1,this.o=3,qt(12),Pi(this),ea(this);break e}}this.S?(BS(this,c,s),Sp&&this.i&&c==3&&(DS(this.U,this.V,"tick",this.mb),this.V.start())):(Io(this.j,this.m,s,null),kp(this,s)),c==4&&Pi(this),this.i&&!this.J&&(c==4?d2(this.l,this):(this.i=!1,cu(this)))}else cD(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,qt(12)):(this.o=0,qt(13)),Pi(this),ea(this)}}}catch{}finally{}};function $S(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function BS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=H4(t,n),i==cc){e==4&&(t.o=4,qt(14),r=!1),Io(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ap){t.o=4,qt(15),Io(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Io(t.j,t.m,i,null),kp(t,i);$S(t)&&i!=cc&&i!=Ap&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vg(e),e.M=!0,qt(11))):(Io(t.j,t.m,n,"[Invalid Chunked Response]"),Pi(t),ea(t))}J.mb=function(){if(this.g){var t=Xn(this.g),e=this.g.ja();this.C<e.length&&(Td(this),BS(this,t,e),this.i&&t!=4&&cu(this))}};function H4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?cc:(n=Number(e.substring(n,r)),isNaN(n)?Ap:(r+=1,r+n>e.length?cc:(e=e.slice(r,r+n),t.C=r+n,e)))}J.cancel=function(){this.J=!0,Pi(this)};function cu(t){t.Y=Date.now()+t.P,zS(t,t.P)}function zS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=au(Lt(t.lb,t),e)}function Td(t){t.B&&(ve.clearTimeout(t.B),t.B=null)}J.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($4(this.j,this.A),this.L!=2&&(Da(),qt(17)),Pi(this),this.o=2,ea(this)):zS(this,this.Y-t)};function ea(t){t.l.H==0||t.J||d2(t.l,t)}function Pi(t){Td(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ag(t.V),OS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function kp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pp(n.i,t))){if(!t.K&&Pp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)fc(n),Rd(n);else break e;Fg(n),qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=au(Lt(n.ib,n),6e3));if(1>=YS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Di(n,11)}else if((t.K||n.g==t)&&fc(n),!Ra(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Og(o,o.h),o.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Ve(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=p2(r,r.J?r.pa:null,r.Y),s.K){JS(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.B&&(Td(a),cu(a)),r.g=s}else l2(r);0<n.j.length&&Ad(n)}else l[0]!="stop"&&l[0]!="close"||Di(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Di(n,7):Lg(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Da(4)}catch{}}function W4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function q4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function HS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=q4(t),r=W4(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var WS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vi){this.h=t.h,dc(this,t.j),this.s=t.s,this.g=t.g,hc(this,t.m),this.l=t.l;var e=t.i,n=new Oa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ay(this,n),this.o=t.o}else t&&(e=String(t).match(WS))?(this.h=!1,dc(this,e[1]||"",!0),this.s=Vs(e[2]||""),this.g=Vs(e[3]||"",!0),hc(this,e[4]),this.l=Vs(e[5]||"",!0),Ay(this,e[6]||"",!0),this.o=Vs(e[7]||"")):(this.h=!1,this.i=new Oa(null,this.h))}Vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Us(e,xy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Us(e,xy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Us(n,n.charAt(0)=="/"?X4:Q4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Us(n,J4)),t.join("")};function Cr(t){return new Vi(t)}function dc(t,e,n){t.j=n?Vs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ay(t,e,n){e instanceof Oa?(t.i=e,Z4(t.i,t.h)):(n||(e=Us(e,Y4)),t.i=new Oa(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function Id(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Us(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,G4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function G4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xy=/[#\/\?@]/g,Q4=/[#\?:]/g,X4=/[#\?]/g,Y4=/[#\?@]/g,J4=/#/g;function Oa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _i(t){t.g||(t.g=new Map,t.h=0,t.i&&K4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=Oa.prototype;J.add=function(t,e){_i(this),this.i=null,t=hs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function qS(t,e){_i(t),e=hs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KS(t,e){return _i(t),e=hs(t,e),t.g.has(e)}J.forEach=function(t,e){_i(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.ta=function(){_i(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};J.Z=function(t){_i(this);let e=[];if(typeof t=="string")KS(this,t)&&(e=e.concat(this.g.get(hs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return _i(this),this.i=null,t=hs(this,t),KS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function GS(t,e,n){qS(t,e),0<n.length&&(t.i=null,t.g.set(hs(t,e),wg(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function hs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Z4(t,e){e&&!t.j&&(_i(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(qS(this,r),GS(this,i,n))},t)),t.j=e}var eD=class{constructor(t,e){this.g=t,this.map=e}};function QS(t){this.l=t||tD,ve.PerformanceNavigationTiming?(t=ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tD=10;function XS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function YS(t){return t.h?1:t.g?t.g.size:0}function Pp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Og(t,e){t.g?t.g.add(e):t.h=e}function JS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}QS.prototype.cancel=function(){if(this.i=ZS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ZS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return wg(t.i)}var nD=class{stringify(t){return ve.JSON.stringify(t,void 0)}parse(t){return ve.JSON.parse(t,void 0)}};function rD(){this.g=new nD}function iD(t,e,n){const r=n||"";try{HS(t,function(i,o){let s=i;ou(i)&&(s=Cg(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function oD(t,e){const n=new wd;if(ve.Image){const r=new Image;r.onload=Bu(Hu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bu(Hu,n,r,"TestLoadImage: error",!1,e),r.onabort=Bu(Hu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bu(Hu,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function du(t){this.l=t.fc||null,this.j=t.ob||!1}gt(du,kg);du.prototype.g=function(){return new bd(this.l,this.j)};du.prototype.i=function(t){return function(){return t}}({});function bd(t,e){mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ng,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(bd,mt);var Ng=0;J=bd.prototype;J.open=function(t,e){if(this.readyState!=Ng)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Na(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=Ng};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;e2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function e2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hu(this):Na(this),this.readyState==3&&e2(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,hu(this))};J.Ya=function(t){this.g&&(this.response=t,hu(this))};J.ka=function(){this.g&&hu(this)};function hu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Na(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Na(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var sD=ve.JSON.parse;function Qe(t){mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=t2,this.L=this.M=!1}gt(Qe,mt);var t2="",aD=/^https?$/i,uD=["POST","PUT"];J=Qe.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rp.g(),this.C=this.u?Ry(this.u):Ry(Rp),this.g.onreadystatechange=Lt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){ky(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ve.FormData&&t instanceof ve.FormData,!(0<=yS(uD,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{i2(this),0<this.B&&((this.L=lD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lt(this.ua,this)):this.A=xg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ky(this,o)}};function lD(t){return qo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof yg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))};function ky(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,n2(t),Cd(t)}function n2(t){t.F||(t.F=!0,It(t,"complete"),It(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),Cd(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cd(this,!0)),Qe.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?r2(this):this.kb())};J.kb=function(){r2(this)};function r2(t){if(t.h&&typeof yg<"u"&&(!t.C[1]||Xn(t)!=4||t.da()!=2)){if(t.v&&Xn(t)==4)xg(t.La,0,t);else if(It(t,"readystatechange"),Xn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(WS)[1]||null;!i&&ve.self&&ve.self.location&&(i=ve.self.location.protocol.slice(0,-1)),r=!aD.test(i?i.toLowerCase():"")}n=r}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var o=2<Xn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",n2(t)}}finally{Cd(t)}}}}function Cd(t,e){if(t.g){i2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||It(t,"ready");try{n.onreadystatechange=r}catch{}}}function i2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function Xn(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sD(e)}};function Py(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case t2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function cD(t){const e={};t=(t.g&&2<=Xn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ra(t[r]))continue;var n=M4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}A4(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function o2(t){let e="";return Eg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Mg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=o2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function Rs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function s2(t){this.Ga=0,this.j=[],this.l=new wd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rs("baseRetryDelayMs",5e3,t),this.hb=Rs("retryDelaySeedMs",1e4,t),this.eb=Rs("forwardChannelMaxRetries",2,t),this.xa=Rs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new QS(t&&t.concurrentRequestLimit),this.Ja=new rD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=s2.prototype;J.ra=8;J.H=1;function Lg(t){if(a2(t),t.H==3){var e=t.W++,n=Cr(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),fu(t,n),e=new lu(t,t.l,e),e.L=2,e.v=Id(Cr(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon)try{n=ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ve.Image&&(new Image().src=e.v,n=!0),n||(e.g=m2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cu(e)}f2(t)}function Rd(t){t.g&&(Vg(t),t.g.cancel(),t.g=null)}function a2(t){Rd(t),t.u&&(ve.clearTimeout(t.u),t.u=null),fc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ve.clearTimeout(t.m),t.m=null)}function Ad(t){if(!XS(t.i)&&!t.m){t.m=!0;var e=t.Na;xa||kS(),ka||(xa(),ka=!0),Rg.add(e,t),t.C=0}}function dD(t,e){return YS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=au(Lt(t.Na,t,e),h2(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=SS(o),TS(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=u2(this,i,e),n=Cr(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),fu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(o2(o)))+"&"+e:this.o&&Mg(n,this.o,o)),Og(this.i,i),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),i.aa=!0,xp(i,n,null)):xp(i,n,e),this.H=2}}else this.H==3&&(t?Dy(this,t):this.j.length==0||XS(this.i)||Dy(this))};function Dy(t,e){var n;e?n=e.m:n=t.W++;const r=Cr(t.I);Ve(r,"SID",t.K),Ve(r,"RID",n),Ve(r,"AID",t.V),fu(t,r),t.o&&t.s&&Mg(r,t.o,t.s),n=new lu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=u2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Og(t.i,n),xp(n,r,e)}function fu(t,e){t.na&&Eg(t.na,function(n,r){Ve(e,r,n)}),t.h&&HS({},function(n,r){Ve(e,r,n)})}function u2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Lt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=o,0>l)o=Math.max(0,i[u].g-100),a=!1;else try{iD(c,s,"req"+l+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function l2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xa||kS(),ka||(xa(),ka=!0),Rg.add(e,t),t.A=0}}function Fg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=au(Lt(t.Ma,t),h2(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,c2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=au(Lt(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),Rd(this),c2(this))};function Vg(t){t.B!=null&&(ve.clearTimeout(t.B),t.B=null)}function c2(t){t.g=new lu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Cr(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),fu(t,e),t.o&&t.s&&Mg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Id(Cr(e)),n.s=null,n.S=!0,jS(n,t)}J.ib=function(){this.v!=null&&(this.v=null,Rd(this),Fg(this),qt(19))};function fc(t){t.v!=null&&(ve.clearTimeout(t.v),t.v=null)}function d2(t,e){var n=null;if(t.g==e){fc(t),Vg(t),t.g=null;var r=2}else if(Pp(t.i,e))n=e.F,JS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=_d(),It(r,new LS(r,n)),Ad(t)}else l2(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&dD(t,e)||r==2&&Fg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Di(t,5);break;case 4:Di(t,10);break;case 3:Di(t,6);break;default:Di(t,2)}}}function h2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Di(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Lt(t.pb,t);n||(n=new Vi("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||dc(n,"https"),Id(n)),oD(n.toString(),r)}else qt(2);t.H=0,t.h&&t.h.za(e),f2(t),a2(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))};function f2(t){if(t.H=0,t.ma=[],t.h){const e=ZS(t.i);(e.length!=0||t.j.length!=0)&&(Sy(t.ma,e),Sy(t.ma,t.j),t.i.i.length=0,wg(t.j),t.j.length=0),t.h.ya()}}function p2(t,e,n){var r=n instanceof Vi?Cr(n):new Vi(n);if(r.g!="")e&&(r.g=e+"."+r.g),hc(r,r.m);else{var i=ve.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Vi(null);r&&dc(o,r),e&&(o.g=e),i&&hc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ve(r,n,e),Ve(r,"VER",t.ra),fu(t,r),r}function m2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Qe(new du({ob:!0})):new Qe(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function g2(){}J=g2.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function pc(){if(qo&&!(10<=Number(I4)))throw Error("Environmental error: no available transport.")}pc.prototype.g=function(t,e){return new gn(t,e)};function gn(t,e){mt.call(this),this.g=new s2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ra(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ra(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fs(this)}gt(gn,mt);gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=p2(t,null,t.Y),Ad(t)};gn.prototype.close=function(){Lg(this.g)};gn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Cg(t),t=n);e.j.push(new eD(e.fb++,t)),e.H==3&&Ad(e)};gn.prototype.N=function(){this.g.h=null,delete this.j,Lg(this.g),delete this.g,gn.$.N.call(this)};function v2(t){Pg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gt(v2,Pg);function y2(){Dg.call(this),this.status=1}gt(y2,Dg);function fs(t){this.g=t}gt(fs,g2);fs.prototype.Ba=function(){It(this.g,"a")};fs.prototype.Aa=function(t){It(this.g,new v2(t))};fs.prototype.za=function(t){It(this.g,new y2)};fs.prototype.ya=function(){It(this.g,"b")};function hD(){this.blockSize=-1}function jn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gt(jn,hD);jn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ef(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}jn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)ef(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ef(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ef(this,r),i=0;break}}this.h=i,this.i+=e};jn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ne(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var fD={};function Ug(t){return-128<=t&&128>t?E4(t,function(e){return new Ne([e|0],0>e?-1:0)}):new Ne([t|0],0>t?-1:0)}function Yn(t){if(isNaN(t)||!isFinite(t))return Oo;if(0>t)return St(Yn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dp;return new Ne(e,0)}function w2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return St(w2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yn(Math.pow(e,8)),r=Oo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Yn(Math.pow(e,o)),r=r.R(o).add(Yn(s))):(r=r.R(n),r=r.add(Yn(s)))}return r}var Dp=4294967296,Oo=Ug(0),Op=Ug(1),Oy=Ug(16777216);J=Ne.prototype;J.ea=function(){if(bn(this))return-St(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dp+r)*e,e*=Dp}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gr(this))return"0";if(bn(this))return"-"+St(this).toString(t);for(var e=Yn(Math.pow(t,6)),n=this,r="";;){var i=gc(n,e).g;n=mc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,gr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bn(t){return t.h==-1}J.X=function(t){return t=mc(this,t),bn(t)?-1:gr(t)?0:1};function St(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ne(n,~t.h).add(Op)}J.abs=function(){return bn(this)?St(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ne(n,n[n.length-1]&-2147483648?-1:0)};function mc(t,e){return t.add(St(e))}J.R=function(t){if(gr(this)||gr(t))return Oo;if(bn(this))return bn(t)?St(this).R(St(t)):St(St(this).R(t));if(bn(t))return St(this.R(St(t)));if(0>this.X(Oy)&&0>t.X(Oy))return Yn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=s*u,Wu(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Wu(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Wu(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Wu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ne(n,0)};function Wu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function As(t,e){this.g=t,this.h=e}function gc(t,e){if(gr(e))throw Error("division by zero");if(gr(t))return new As(Oo,Oo);if(bn(t))return e=gc(St(t),e),new As(St(e.g),St(e.h));if(bn(e))return e=gc(t,St(e)),new As(St(e.g),e.h);if(30<t.g.length){if(bn(t)||bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Op,r=e;0>=r.X(t);)n=Ny(n),r=Ny(r);var i=oo(n,1),o=oo(r,1);for(r=oo(r,2),n=oo(n,2);!gr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=oo(r,1),n=oo(n,1)}return e=mc(t,i.R(e)),new As(i,e)}for(i=Oo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Yn(n),s=o.R(e);bn(s)||0<s.X(t);)n-=r,o=Yn(n),s=o.R(e);gr(o)&&(o=Op),i=i.add(o),t=mc(t,s)}return new As(i,t)}J.gb=function(t){return gc(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ne(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ne(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ne(n,this.h^t.h)};function Ny(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ne(n,t.h)}function oo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ne(i,t.h)}pc.prototype.createWebChannel=pc.prototype.g;gn.prototype.send=gn.prototype.u;gn.prototype.open=gn.prototype.m;gn.prototype.close=gn.prototype.close;Ed.NO_ERROR=0;Ed.TIMEOUT=8;Ed.HTTP_ERROR=6;FS.COMPLETE="complete";VS.EventType=uu;uu.OPEN="a";uu.CLOSE="b";uu.ERROR="c";uu.MESSAGE="d";mt.prototype.listen=mt.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;jn.prototype.digest=jn.prototype.l;jn.prototype.reset=jn.prototype.reset;jn.prototype.update=jn.prototype.j;Ne.prototype.add=Ne.prototype.add;Ne.prototype.multiply=Ne.prototype.R;Ne.prototype.modulo=Ne.prototype.gb;Ne.prototype.compare=Ne.prototype.X;Ne.prototype.toNumber=Ne.prototype.ea;Ne.prototype.toString=Ne.prototype.toString;Ne.prototype.getBits=Ne.prototype.D;Ne.fromNumber=Yn;Ne.fromString=w2;var pD=function(){return new pc},mD=function(){return _d()},tf=Ed,gD=FS,vD=eo,My={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yD=du,qu=VS,wD=Qe,_D=jn,No=Ne;const Ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ps="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new sg("@firebase/firestore");function Fy(){return Gi.logLevel}function ie(t,...e){if(Gi.logLevel<=xe.DEBUG){const n=e.map(jg);Gi.debug(`Firestore (${ps}): ${t}`,...n)}}function Rr(t,...e){if(Gi.logLevel<=xe.ERROR){const n=e.map(jg);Gi.error(`Firestore (${ps}): ${t}`,...n)}}function Ko(t,...e){if(Gi.logLevel<=xe.WARN){const n=e.map(jg);Gi.warn(`Firestore (${ps}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${ps}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function je(t,e){t||ge()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ED{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class SD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TD{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new _2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Dt(e)}}class ID{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ID(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new CD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function Go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ut(0,0))}static max(){return new ye(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends Ma{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const xD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Ma{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return xD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ae(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Be.fromString(e))}static fromName(e){return new ce(Be.fromString(e).popFirst(5))}static empty(){return new ce(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Be(e.slice()))}}function kD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new hi(i,ce.empty(),e)}function PD(t){return new hi(t.readTime,t.key,-1)}class hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hi(ye.min(),ce.empty(),-1)}static max(){return new hi(ye.max(),ce.empty(),-1)}}function DD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ND{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==OD)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{s[l]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$g.ae=-1;function xd(t){return t==null}function vc(t){return t===0&&1/t==-1/0}function MD(t){return typeof t=="number"&&Number.isInteger(t)&&!vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=o??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,o){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Vt(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new T2("Invalid base64 string: "+o):o}}(e);return new $t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const LD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t){if(je(!!t),typeof t=="string"){let e=0;const n=LD.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zg(t){const e=t.mapValue.fields.__previous_value__;return Bg(e)?zg(e):e}function La(t){const e=fi(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Fa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bg(t)?4:VD(t)?9007199254740991:10:ge()}function or(t,e){if(t===e)return!0;const n=Xi(t);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return La(t).isEqual(La(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=fi(i.timestampValue),a=fi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Qi(i.bytesValue).isEqual(Qi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?vc(s)===vc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Vy(s)!==Vy(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!or(s[u],a[u])))return!1;return!0}(t,e);default:return ge()}}function Va(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Xi(t),r=Xi(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=tt(o.integerValue||o.doubleValue),u=tt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return jy(t.timestampValue,e.timestampValue);case 4:return jy(La(t),La(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Qi(o),u=Qi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=De(a[l],u[l]);if(c!==0)return c}return De(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=De(tt(o.latitude),tt(s.latitude));return a!==0?a:De(tt(o.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Qo(a[l],u[l]);if(c)return c}return De(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Gu.mapValue&&s===Gu.mapValue)return 0;if(o===Gu.mapValue)return 1;if(s===Gu.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const f=De(u[d],c[d]);if(f!==0)return f;const m=Qo(a[u[d]],l[c[d]]);if(m!==0)return m}return De(u.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function jy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=fi(t),r=fi(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function Xo(t){return Np(t)}function Np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Np(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Np(n.fields[s])}`;return i+"}"}(t.mapValue):ge()}function Mp(t){return!!t&&"integerValue"in t}function Hg(t){return!!t&&"arrayValue"in t}function $y(t){return!!t&&"nullValue"in t}function By(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _l(t){return!!t&&"mapValue"in t}function ta(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ta(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ta(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ta(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ta(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());_l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_l(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){to(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new tn(ta(this.value))}}function I2(t){const e=[];return to(t.fields,(n,r)=>{const i=new Mt([n]);if(_l(r)){const o=I2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ye.min(),ye.min(),ye.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,ye.min(),ye.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ye.min(),ye.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.position=e,this.inclusive=n}}function zy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(s.referenceValue),n.key):r=Qo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n="asc"){this.field=e,this.dir=n}}function UD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{}class st extends b2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $D(e,n,r):n==="array-contains"?new HD(e,r):n==="in"?new WD(e,r):n==="not-in"?new qD(e,r):n==="array-contains-any"?new KD(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BD(e,r):new zD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qo(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class sr extends b2{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new sr(e,n)}matches(e){return C2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function C2(t){return t.op==="and"}function R2(t){return jD(t)&&C2(t)}function jD(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function Lp(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(R2(t))return t.filters.map(e=>Lp(e)).join(",");{const e=t.filters.map(n=>Lp(n)).join(",");return`${t.op}(${e})`}}function A2(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&A2(s,i.filters[a]),!0):!1}(t,e):void ge()}function x2(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(x2).join(" ,")+"}"}(t):"Filter"}class $D extends st{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class BD extends st{constructor(e,n){super(e,"in",n),this.keys=k2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zD extends st{constructor(e,n){super(e,"not-in",n),this.keys=k2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function k2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class HD extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hg(n)&&Va(n.arrayValue,this.value)}}class WD extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}}class qD extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}}class KD extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.he=null}}function Wy(t,e=null,n=[],r=[],i=null,o=null,s=null){return new GD(t,e,n,r,i,o,s)}function Wg(t){const e=we(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),e.he=n}return e.he}function qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!A2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hy(t.startAt,e.startAt)&&Hy(t.endAt,e.endAt)}function Fp(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function QD(t,e,n,r,i,o,s,a){return new kd(t,e,n,r,i,o,s,a)}function Kg(t){return new kd(t)}function qy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function YD(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function JD(t){return t.collectionGroup!==null}function Mo(t){const e=we(t);if(e.Pe===null){e.Pe=[];const n=YD(e),r=XD(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new na(n)),e.Pe.push(new na(Mt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new na(Mt.keyField(),o))}}}return e.Pe}function Ar(t){const e=we(t);if(!e.Ie)if(e.limitType==="F")e.Ie=Wy(e.path,e.collectionGroup,Mo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Mo(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new na(o.field,s))}const r=e.endAt?new yc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yc(e.startAt.position,e.startAt.inclusive):null;e.Ie=Wy(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function Vp(t,e,n){return new kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pd(t,e){return qg(Ar(t),Ar(e))&&t.limitType===e.limitType}function P2(t){return`${Wg(Ar(t))}|lt:${t.limitType}`}function Up(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>x2(i)).join(", ")}]`),xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xo(i)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function Dd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Mo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const l=zy(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Mo(r),i)||r.endAt&&!function(s,a,u){const l=zy(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Mo(r),i))}(t,e)}function ZD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function D2(t){return(e,n)=>{let r=!1;for(const i of Mo(t)){const o=eO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function eO(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Qo(u,l):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return S2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new qe(ce.comparator);function xr(){return tO}const O2=new qe(ce.comparator);function js(...t){let e=O2;for(const n of t)e=e.insert(n.key,n);return e}function N2(t){let e=O2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return ra()}function M2(){return ra()}function ra(){return new ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const nO=new qe(ce.comparator),rO=new Vt(ce.comparator);function Ee(...t){let e=rO;for(const n of t)e=e.add(n);return e}const iO=new Vt(De);function oO(){return iO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function F2(t){return{integerValue:""+t}}function sO(t,e){return MD(e)?F2(e):L2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function aO(t,e,n){return t instanceof wc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bg(o)&&(o=zg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ua?U2(t,e):t instanceof ja?j2(t,e):function(i,o){const s=V2(i,o),a=Ky(s)+Ky(i.Te);return Mp(s)&&Mp(i.Te)?F2(a):L2(i.serializer,a)}(t,e)}function uO(t,e,n){return t instanceof Ua?U2(t,e):t instanceof ja?j2(t,e):n}function V2(t,e){return t instanceof _c?function(r){return Mp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wc extends Od{}class Ua extends Od{constructor(e){super(),this.elements=e}}function U2(t,e){const n=$2(e);for(const r of t.elements)n.some(i=>or(i,r))||n.push(r);return{arrayValue:{values:n}}}class ja extends Od{constructor(e){super(),this.elements=e}}function j2(t,e){let n=$2(e);for(const r of t.elements)n=n.filter(i=>!or(i,r));return{arrayValue:{values:n}}}class _c extends Od{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Ky(t){return tt(t.integerValue||t.doubleValue)}function $2(t){return Hg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ua&&i instanceof Ua||r instanceof ja&&i instanceof ja?Go(r.elements,i.elements,or):r instanceof _c&&i instanceof _c?or(r.Te,i.Te):r instanceof wc&&i instanceof wc}(t.transform,e.transform)}class cO{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function El(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function B2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gg(t.key,Ln.none()):new gu(t.key,t.data,Ln.none());{const n=t.data,r=tn.empty();let i=new Vt(Mt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ei(t.key,r,new hn(i.toArray()),Ln.none())}}function dO(t,e,n){t instanceof gu?function(i,o,s){const a=i.value.clone(),u=Qy(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ei?function(i,o,s){if(!El(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Qy(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(z2(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ia(t,e,n,r){return t instanceof gu?function(o,s,a,u){if(!El(o.precondition,s))return a;const l=o.value.clone(),c=Xy(o.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ei?function(o,s,a,u){if(!El(o.precondition,s))return a;const l=Xy(o.fieldTransforms,u,s),c=s.data;return c.setAll(z2(o)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return El(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function hO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=V2(r.transform,i||null);o!=null&&(n===null&&(n=tn.empty()),n.set(r.field,o))}return n||null}function Gy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Go(r,i,(o,s)=>lO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gu extends Nd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ei extends Nd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function z2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qy(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,uO(s,a,n[i]))}return r}function Xy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,aO(o,s,e))}return r}class Gg extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fO extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&dO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ia(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M2();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=B2(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,r)=>Gy(n,r))&&Go(this.baseMutations,e.baseMutations,(n,r)=>Gy(n,r))}}class Qg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return nO}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Qg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Ie;function vO(t){switch(t){default:return ge();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function H2(t){if(t===void 0)return Rr("GRPC error has no .code"),j.UNKNOWN;switch(t){case et.OK:return j.OK;case et.CANCELLED:return j.CANCELLED;case et.UNKNOWN:return j.UNKNOWN;case et.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case et.INTERNAL:return j.INTERNAL;case et.UNAVAILABLE:return j.UNAVAILABLE;case et.UNAUTHENTICATED:return j.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case et.NOT_FOUND:return j.NOT_FOUND;case et.ALREADY_EXISTS:return j.ALREADY_EXISTS;case et.PERMISSION_DENIED:return j.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case et.ABORTED:return j.ABORTED;case et.OUT_OF_RANGE:return j.OUT_OF_RANGE;case et.UNIMPLEMENTED:return j.UNIMPLEMENTED;case et.DATA_LOSS:return j.DATA_LOSS;default:return ge()}}(Ie=et||(et={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Qu}static getOrCreateInstance(){return Qu===null&&(Qu=new Xg),Qu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Qu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new No([4294967295,4294967295],0);function Yy(t){const e=yO().encode(t),n=new _D;return n.update(e),new Uint8Array(n.digest())}function Jy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new No([n,r],0),new No([i,o],0)]}class Yg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $s(`Invalid padding: ${n}`);if(r<0)throw new $s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $s(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $s(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=No.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(No.fromNumber(r)));return i.compare(wO)===1&&(i=new No([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=Yy(e),[r,i]=Jy(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);if(!this.Ve(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Yg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.de===0)return;const n=Yy(e),[r,i]=Jy(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);this.me(s)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $s extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Md(ye.min(),i,new qe(De),xr(),Ee())}}class vu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class W2{constructor(e,n){this.targetId=e,this.pe=n}}class q2{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zy{constructor(){this.ye=0,this.we=t1(),this.Se=$t.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=Ee(),n=Ee(),r=Ee();return this.we.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new vu(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=t1()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class _O{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=xr(),this.$e=e1(),this.Ue=new qe(De)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,o=e.pe.count,s=this.Xe(i);if(s){const a=s.target;if(Fp(a))if(o===0){const u=new ce(a.path);this.ze(i,u,Nt.newNoDocument(u,ye.min()))}else je(o===1);else{const u=this.et(i);if(u!==o){const l=this.tt(e,u);if(l.status!==0){this.Ye(i);const c=l.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=Xg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,f,m,y){var w,T,p,g,v,_;const x={localCacheCount:m,existenceFilterCount:y.count},C=y.unchangedNames;return C&&(x.bloomFilter={applied:d===0,hashCount:(w=C==null?void 0:C.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(g=(p=(T=C==null?void 0:C.bits)===null||T===void 0?void 0:T.bitmap)===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0,padding:(_=(v=C==null?void 0:C.bits)===null||v===void 0?void 0:v.padding)!==null&&_!==void 0?_:0},f&&(x.bloomFilter.mightContain=f)),x}(l.status,(r=l.nt)!==null&&r!==void 0?r:null,u,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let u,l;try{u=Qi(o).toUint8Array()}catch(d){if(d instanceof T2)return Ko("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw d}try{l=new Yg(u,s,a)}catch(d){return Ko(d instanceof $s?"BloomFilter error: ":"Applying bloom filter failed: ",d),{status:1}}const c=d=>{const f=this.qe.rt();return l.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${d}`)};return l.de===0?{status:1}:{status:i===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{n(o.path.canonicalString())||(this.ze(e,o,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&Fp(a.target)){const u=new ce(a.target.path);this.Ke.get(u)!==null||this.ot(s,u)||this.ze(s,u,Nt.newNoDocument(u,e))}o.Ce&&(n.set(s,o.Me()),o.xe())}});let r=Ee();this.$e.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ke.forEach((o,s)=>s.setReadTime(e));const i=new Md(e,n,this.Ue,this.Ke,r);return this.Ke=xr(),this.$e=e1(),this.Ue=new qe(De),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new Zy,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Vt(De),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new Zy),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function e1(){return new qe(ce.comparator)}function t1(){return new qe(ce.comparator)}const EO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),SO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),TO=(()=>({and:"AND",or:"OR"}))();class IO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jp(t,e){return t.useProto3Json||xd(e)?e:{value:e}}function Ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bO(t,e){return Ec(t,e.toTimestamp())}function rr(t){return je(!!t),ye.fromTimestamp(function(n){const r=fi(n);return new ut(r.seconds,r.nanos)}(t))}function Jg(t,e){return function(r){return new Be(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function G2(t){const e=Be.fromString(t);return je(J2(e)),e}function $p(t,e){return Jg(t.databaseId,e.path)}function nf(t,e){const n=G2(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(Q2(n))}function Bp(t,e){return Jg(t.databaseId,e)}function CO(t){const e=G2(t);return e.length===4?Be.emptyPath():Q2(e)}function zp(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Q2(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function n1(t,e,n){return{name:$p(t,e),fields:n.value.mapValue.fields}}function RO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(je(c===void 0||typeof c=="string"),$t.fromBase64String(c||"")):(je(c===void 0||c instanceof Uint8Array),$t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=l.code===void 0?j.UNKNOWN:H2(l.code);return new ae(c,l.message||"")}(s);n=new q2(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nf(t,r.document.name),o=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):ye.min(),a=new tn({mapValue:{fields:r.document.fields}}),u=Nt.newFoundDocument(i,o,s,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Sl(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nf(t,r.document),o=r.readTime?rr(r.readTime):ye.min(),s=Nt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Sl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nf(t,r.document),o=r.removedTargetIds||[];n=new Sl([],o,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new gO(i,o),a=r.targetId;n=new W2(a,s)}}return n}function AO(t,e){let n;if(e instanceof gu)n={update:n1(t,e.key,e.value)};else if(e instanceof Gg)n={delete:$p(t,e.key)};else if(e instanceof Ei)n={update:n1(t,e.key,e.data),updateMask:FO(e.fieldMask)};else{if(!(e instanceof fO))return ge();n={verify:$p(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof wc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ua)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ja)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _c)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(t,e.precondition)),n}function xO(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?rr(i.updateTime):rr(o);return s.isEqual(ye.min())&&(s=rr(o)),new cO(s,i.transformResults||[])}(n,e))):[]}function kO(t,e){return{documents:[Bp(t,e.path)]}}function PO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Bp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return Y2(sr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(l=>function(d){return{field:ao(d.field),direction:NO(d.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=jp(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function DO(t){let e=CO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=X2(d);return f instanceof sr&&R2(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(y){return new na(uo(y.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,xd(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(d){const f=!!d.before,m=d.values||[];return new yc(m,f)}(n.startAt));let l=null;return n.endAt&&(l=function(d){const f=!d.before,m=d.values||[];return new yc(m,f)}(n.endAt)),QD(e,i,s,o,a,"F",u,l)}function OO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function X2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uo(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uo(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uo(n.unaryFilter.field);return st.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=uo(n.unaryFilter.field);return st.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return st.create(uo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>X2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function NO(t){return EO[t]}function MO(t){return SO[t]}function LO(t){return TO[t]}function ao(t){return{fieldPath:t.canonicalString()}}function uo(t){return Mt.fromServerFormat(t.fieldPath)}function Y2(t){return t instanceof st?function(n){if(n.op==="=="){if(By(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if($y(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(By(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if($y(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:MO(n.op),value:n.value}}}(t):t instanceof sr?function(n){const r=n.getFilters().map(i=>Y2(i));return r.length===1?r[0]:{compositeFilter:{op:LO(n.op),filters:r}}}(t):ge()}function FO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,i,o=ye.min(),s=ye.min(),a=$t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.ct=e}}function UO(t){const e=DO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.sn=new $O}addToCollectionParentIndex(e,n){return this.sn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(hi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class $O{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Yo(0)}static On(){return new Yo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.changes=new ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ia(r.mutation,i,hn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=js();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=xr();const s=ra(),a=function(){return ra()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Ei)?o=o.insert(l.key,l):c!==void 0?(s.set(l.key,c.mutation.getFieldMask()),ia(c.mutation,l,c.mutation.getFieldMask(),ut.now())):s.set(l.key,hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>s.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new zO(c,(d=s.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ra();let i=new qe((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||hn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=M2();c.forEach(f=>{if(!o.has(f)){const m=B2(n.get(f),r.get(f));m!==null&&d.set(f,m),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):z.resolve(Oi());let a=-1,u=o;return s.next(l=>z.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ee())).next(c=>({batchId:a,changes:N2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=js();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=js();return this.indexManager.getCollectionParents(e,i).next(s=>z.forEach(s,a=>{const u=function(c,d){return new kd(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const l=u.getKey();o.get(l)===null&&(o=o.insert(l,Nt.newInvalidDocument(l)))});let s=js();return o.forEach((a,u)=>{const l=i.get(a);l!==void 0&&ia(l.mutation,u,hn.empty(),ut.now()),Dd(n,u)&&(s=s.insert(a,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return z.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:UO(i.bundledQuery),readTime:rr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.overlays=new qe(ce.comparator),this.cr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oi();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.cr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Oi(),o=n.length+1,s=new ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new qe((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);c===null&&(c=Oi(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Oi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mO(n,r));let o=this.cr.get(n);o===void 0&&(o=Ee(),this.cr.set(n,o)),this.cr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.lr=new Vt(ht.hr),this.Pr=new Vt(ht.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new ht(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new ce(new Be([])),r=new ht(n,e),i=new ht(n,e+1),o=[];return this.Pr.forEachInRange([r,i],s=>{this.Er(s),o.push(s.key)}),o}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new ce(new Be([])),r=new ht(n,e),i=new ht(n,e+1);let o=Ee();return this.Pr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ht(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return ce.comparator(e.key,n.key)||De(e.mr,n.mr)}static Ir(e,n){return De(e.mr,n.mr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Vt(ht.hr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new pO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.pr=this.pr.add(new ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,n){return z.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),i=new ht(n,Number.POSITIVE_INFINITY),o=[];return this.pr.forEachInRange([r,i],s=>{const a=this.yr(s.mr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(De);return n.forEach(i=>{const o=new ht(i,0),s=new ht(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([o,s],a=>{r=r.add(a.mr)})}),z.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ce.isDocumentKey(o)||(o=o.child(""));const s=new ht(new ce(o),0);let a=new Vt(De);return this.pr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.mr)),!0)},s),z.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return z.forEach(n.mutations,i=>{const o=new ht(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new ht(n,0),i=this.pr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.Dr=e,this.docs=function(){return new qe(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xr();const s=n.path,a=new ce(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||DD(PD(c),r)<=0||(i.has(c.key)||Dd(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge()}vr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QO(this)}getSize(e){return z.resolve(this.size)}}class QO extends BO{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.persistence=e,this.Cr=new ms(n=>Wg(n),qg),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Zg,this.targetCount=0,this.Or=Yo.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),z.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Ln(n),z.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Cr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.Nr={},this.overlays={},this.Br=new $g(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new XO(this),this.indexManager=new jO,this.remoteDocumentCache=function(i){return new GO(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new VO(n),this.Qr=new WO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new KO(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new JO(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(o=>this.referenceDelegate.$r(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ur(e,n){return z.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class JO extends ND{constructor(e){super(),this.currentSequenceNumber=e}}class ev{constructor(e){this.persistence=e,this.Wr=new Zg,this.Gr=null}static zr(e){return new ev(e)}get jr(){if(this.Gr)return this.Gr;throw ge()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.jr,r=>{const i=ce.fromPath(r);return this.Hr(e,i).next(o=>{o||n.removeEntry(i,ye.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return z.or([()=>z.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=Ee(),i=Ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(o=>o||this.Ui(e,n,i,r)).next(o=>o||this.Wi(e,n))}$i(e,n){if(qy(n))return z.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vp(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ee(...o);return this.Ki.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Gi(n,a);return this.zi(n,l,s,u.readTime)?this.$i(e,Vp(n,null,"F")):this.ji(e,l,n,u)}))})))}Ui(e,n,r,i){return qy(n)||i.isEqual(ye.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(o=>{const s=this.Gi(n,o);return this.zi(n,s,r,i)?this.Wi(e,n):(Fy()<=xe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Up(n)),this.ji(e,s,n,kD(i,-1)))})}Gi(e,n){let r=new Vt(D2(e));return n.forEach((i,o)=>{Dd(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Wi(e,n){return Fy()<=xe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Up(n)),this.Ki.getDocumentsMatchingQuery(e,n,hi.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new qe(De),this.Yi=new ms(o=>Wg(o),qg),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function tN(t,e,n,r){return new eN(t,e,n,r)}async function Z2(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Ee();for(const l of i){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ts:l,removedBatchIds:s,addedBatchIds:a}))})})}function nN(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,f=d.keys();let m=z.resolve();return f.forEach(y=>{m=m.next(()=>c.getEntry(u,y)).next(w=>{const T=l.docVersions.get(y);je(T!==null),w.version.compareTo(T)<0&&(d.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),c.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eT(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function rN(t,e){const n=we(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.kr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.kr.addMatchingKeys(o,c.addedDocuments,d)));let m=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken($t.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(w,T,p){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,m,c)&&a.push(n.kr.updateTargetData(o,m))});let u=xr(),l=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(iN(o,s,e.documentUpdates).next(c=>{u=c.ns,l=c.rs})),!r.isEqual(ye.min())){const c=n.kr.getLastRemoteSnapshotVersion(o).next(d=>n.kr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ji=i,o))}function iN(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xr();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ns:s,rs:i}})}function oN(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sN(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):n.kr.allocateTargetId(r).next(s=>(i=new Xr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Hp(t,e,n){const r=we(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!mu(s))throw s;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function r1(t,e,n){const r=we(t);let i=ye.min(),o=Ee();return r.persistence.runTransaction("Execute query","readonly",s=>function(u,l,c){const d=we(u),f=d.Yi.get(c);return f!==void 0?z.resolve(d.Ji.get(f)):d.kr.getTargetData(l,c)}(r,s,Ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:ye.min(),n?o:Ee())).next(a=>(aN(r,ZD(e),a),{documents:a,ss:o})))}function aN(t,e,n){let r=t.Zi.get(e)||ye.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Zi.set(e,r)}class i1{constructor(){this.activeTargetIds=oO()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uN{constructor(){this.Hs=new i1,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new i1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function rf(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class hN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${o}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Ro(){return!1}Vo(n,r,i,o,s){const a=rf(),u=this.mo(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(l,o,s),this.po(n,u,l,i).then(c=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ko("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}yo(n,r,i,o,s,a){return this.Vo(n,r,i,o,s)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ps}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}mo(n,r){const i=cN[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,i){const o=rf();return new Promise((s,a)=>{const u=new wD;u.setWithCredentials(!0),u.listenOnce(gD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tf.NO_ERROR:const c=u.getResponseJson();ie(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case tf.TIMEOUT:ie(kt,`RPC '${e}' ${o} timed out`),a(new ae(j.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const d=u.getStatus();if(ie(kt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(T){const p=T.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(p)>=0?p:j.UNKNOWN}(m.status);a(new ae(y,m.message))}else a(new ae(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ae(j.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ie(kt,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);ie(kt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}wo(e,n,r){const i=rf(),o=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pD(),a=mD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new yD({})),this.fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=o.join("");ie(kt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=s.createWebChannel(c,u);let f=!1,m=!1;const y=new dN({so:T=>{m?ie(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(ie(kt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ie(kt,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},oo:()=>d.close()}),w=(T,p,g)=>{T.listen(p,v=>{try{g(v)}catch(_){setTimeout(()=>{throw _},0)}})};return w(d,qu.EventType.OPEN,()=>{m||ie(kt,`RPC '${e}' stream ${i} transport opened.`)}),w(d,qu.EventType.CLOSE,()=>{m||(m=!0,ie(kt,`RPC '${e}' stream ${i} transport closed`),y.Po())}),w(d,qu.EventType.ERROR,T=>{m||(m=!0,Ko(kt,`RPC '${e}' stream ${i} transport errored:`,T),y.Po(new ae(j.UNAVAILABLE,"The operation could not be completed")))}),w(d,qu.EventType.MESSAGE,T=>{var p;if(!m){const g=T.data[0];je(!!g);const v=g,_=v.error||((p=v[0])===null||p===void 0?void 0:p.error);if(_){ie(kt,`RPC '${e}' stream ${i} received error:`,_);const x=_.status;let C=function(L){const H=et[L];if(H!==void 0)return H2(H)}(x),k=_.message;C===void 0&&(C=j.INTERNAL,k="Unknown error status: "+x+" with message "+_.message),m=!0,y.Po(new ae(C,k)),d.close()}else ie(kt,`RPC '${e}' stream ${i} received:`,g),y.Io(g)}}),w(a,vD.STAT_EVENT,T=>{T.stat===My.PROXY?ie(kt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===My.NOPROXY&&ie(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.ho()},0),y}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){return new IO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=i,this.Do=o,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i,o,s,a,u){this.ii=e,this.Bo=r,this.Lo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new tT(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{e(()=>{const i=new ae(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fN extends nT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=RO(this.serializer,e),r=function(o){if(!("targetChange"in o))return ye.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?rr(s.readTime):ye.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=zp(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Fp(u)?{documents:kO(o,u)}:{query:PO(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=K2(o,s.resumeToken);const l=jp(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ye.min())>0){a.readTime=Ec(o,s.snapshotVersion.toTimestamp());const l=jp(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=OO(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=zp(this.serializer),n.removeTarget=e,this.Ho(n)}}class pN extends nT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=xO(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.u_(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=zp(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>AO(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new ae(j.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Vo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(j.UNKNOWN,i.toString())})}yo(e,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.yo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(j.UNKNOWN,o.toString())})}terminate(){this.h_=!0}}class gN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(Rr(n),this.d_=!1):ie("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=o,this.S_.Ys(s=>{r.enqueueAndForget(async()=>{no(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=we(u);l.y_.add(4),await yu(l),l.b_.set("Unknown"),l.y_.delete(4),await Fd(l)}(this))})}),this.b_=new gN(r,i)}}async function Fd(t){if(no(t))for(const e of t.w_)await e(!0)}async function yu(t){for(const e of t.w_)await e(!1)}function rT(t,e){const n=we(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),iv(n)?rv(n):gs(n).Uo()&&nv(n,e))}function iT(t,e){const n=we(t),r=gs(n);n.p_.delete(e),r.Uo()&&oT(n,e),n.p_.size===0&&(r.Uo()?r.zo():no(n)&&n.b_.set("Unknown"))}function nv(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gs(t).i_(e)}function oT(t,e){t.D_.Be(e),gs(t).s_(e)}function rv(t){t.D_=new _O({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),gs(t).start(),t.b_.A_()}function iv(t){return no(t)&&!gs(t).$o()&&t.p_.size>0}function no(t){return we(t).y_.size===0}function sT(t){t.D_=void 0}async function yN(t){t.p_.forEach((e,n)=>{nv(t,e)})}async function wN(t,e){sT(t),iv(t)?(t.b_.m_(e),rv(t)):t.b_.set("Unknown")}async function _N(t,e,n){if(t.b_.set("Online"),e instanceof q2&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.p_.delete(a),i.D_.removeTarget(a))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sc(t,r)}else if(e instanceof Sl?t.D_.We(e):e instanceof W2?t.D_.Ze(e):t.D_.je(e),!n.isEqual(ye.min()))try{const r=await eT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.D_.st(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.p_.get(l);c&&o.p_.set(l,c.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const c=o.p_.get(u);if(!c)return;o.p_.set(u,c.withResumeToken($t.EMPTY_BYTE_STRING,c.snapshotVersion)),oT(o,u);const d=new Xr(c.target,u,l,c.sequenceNumber);nv(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await Sc(t,r)}}async function Sc(t,e,n){if(!mu(e))throw e;t.y_.add(1),await yu(t),t.b_.set("Offline"),n||(n=()=>eT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await Fd(t)})}function aT(t,e){return e().catch(n=>Sc(t,n,e))}async function Vd(t){const e=we(t),n=pi(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;EN(e);)try{const i=await oN(e.localStore,r);if(i===null){e.g_.length===0&&n.zo();break}r=i.batchId,SN(e,i)}catch(i){await Sc(e,i)}uT(e)&&lT(e)}function EN(t){return no(t)&&t.g_.length<10}function SN(t,e){t.g_.push(e);const n=pi(t);n.Uo()&&n.__&&n.a_(e.mutations)}function uT(t){return no(t)&&!pi(t).$o()&&t.g_.length>0}function lT(t){pi(t).start()}async function TN(t){pi(t).l_()}async function IN(t){const e=pi(t);for(const n of t.g_)e.a_(n.mutations)}async function bN(t,e,n){const r=t.g_.shift(),i=Qg.from(r,e,n);await aT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vd(t)}async function CN(t,e){e&&pi(t).__&&await async function(r,i){if(function(s){return vO(s)&&s!==j.ABORTED}(i.code)){const o=r.g_.shift();pi(r).Go(),await aT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vd(r)}}(t,e),uT(t)&&lT(t)}async function s1(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=no(n);n.y_.add(3),await yu(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await Fd(n)}async function RN(t,e){const n=we(t);e?(n.y_.delete(2),await Fd(n)):e||(n.y_.add(2),await yu(n),n.b_.set("Unknown"))}function gs(t){return t.v_||(t.v_=function(n,r,i){const o=we(n);return o.P_(),new fN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:yN.bind(null,t),uo:wN.bind(null,t),r_:_N.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),iv(t)?rv(t):t.b_.set("Unknown")):(await t.v_.stop(),sT(t))})),t.v_}function pi(t){return t.C_||(t.C_=function(n,r,i){const o=we(n);return o.P_(),new pN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:TN.bind(null,t),uo:CN.bind(null,t),c_:IN.bind(null,t),u_:bN.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await Vd(t)):(await t.C_.stop(),t.g_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ov(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),mu(t))return new ae(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=js(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Lo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.F_=new qe(ce.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):ge():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jo{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Jo(e,n,Lo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.x_=void 0,this.listeners=[]}}class xN{constructor(){this.queries=new ms(e=>P2(e),Pd),this.onlineState="Unknown",this.O_=new Set}}async function cT(t,e){const n=we(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new AN),i)try{o.x_=await n.onListen(r)}catch(s){const a=sv(s,`Initialization of query '${Up(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.N_(n.onlineState),o.x_&&e.B_(o.x_)&&av(n)}async function dT(t,e){const n=we(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function kN(t,e){const n=we(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.B_(i)&&(r=!0);s.x_=i}}r&&av(n)}function PN(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function av(t){t.O_.forEach(e=>{e.next()})}class hT{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.key=e}}class pT{constructor(e){this.key=e}}class DN{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Ee(),this.mutatedKeys=Ee(),this.na=D2(e),this.ra=new Lo(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new a1,i=n?n.ra:this.ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),m=Dd(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),T=!0):this._a(f,m)||(r.track({type:2,doc:m}),T=!0,(u&&this.na(m,u)>0||l&&this.na(m,l)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(u||l)&&(a=!0)),T&&(m?(s=s.add(m),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ra:s,oa:r,zi:a,mutatedKeys:o}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const o=e.oa.M_();o.sort((l,c)=>function(f,m){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return y(f)-y(m)}(l.type,c.type)||this.na(l.doc,c.doc)),this.aa(r);const s=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,u=a!==this.ea;return this.ea=a,o.length!==0||u?{snapshot:new Jo(this.query,e.ra,i,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:s}:{ca:s}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new a1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=Ee(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new pT(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new fT(r))}),n}ha(e){this.X_=e.ss,this.ta=Ee();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return Jo.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class ON{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NN{constructor(e){this.key=e,this.Ia=!1}}class MN{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ta={},this.Ea=new ms(a=>P2(a),Pd),this.da=new Map,this.Aa=new Set,this.Ra=new qe(ce.comparator),this.Va=new Map,this.ma=new Zg,this.fa={},this.ga=new Map,this.pa=Yo.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function LN(t,e){const n=qN(t);let r,i;const o=n.Ea.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Pa();else{const s=await sN(n.localStore,Ar(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await FN(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&rT(n.remoteStore,s)}return i}async function FN(t,e,n,r,i){t.wa=(d,f,m)=>async function(w,T,p,g){let v=T.view.sa(p);v.zi&&(v=await r1(w.localStore,T.query,!1).then(({documents:C})=>T.view.sa(C,v)));const _=g&&g.targetChanges.get(T.targetId),x=T.view.applyChanges(v,w.isPrimaryClient,_);return l1(w,T.targetId,x.ca),x.snapshot}(t,d,f,m);const o=await r1(t.localStore,e,!0),s=new DN(e,o.ss),a=s.sa(o.documents),u=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);l1(t,n,l.ca);const c=new ON(e,n,s);return t.Ea.set(e,c),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),l.snapshot}async function VN(t,e){const n=we(t),r=n.Ea.get(e),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(o=>!Pd(o,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),iT(n.remoteStore,r.targetId),Wp(n,r.targetId)}).catch(pu)):(Wp(n,r.targetId),await Hp(n.localStore,r.targetId,!0))}async function UN(t,e,n){const r=KN(t);try{const i=await function(s,a){const u=we(s),l=ut.now(),c=a.reduce((m,y)=>m.add(y.key),Ee());let d,f;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=xr(),w=Ee();return u.Xi.getEntries(m,c).next(T=>{y=T,y.forEach((p,g)=>{g.isValidDocument()||(w=w.add(p))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,y)).next(T=>{d=T;const p=[];for(const g of a){const v=hO(g,d.get(g.key).overlayedDocument);v!=null&&p.push(new Ei(g.key,v,I2(v.value.mapValue),Ln.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,p,a)}).next(T=>{f=T;const p=T.applyToLocalDocumentSet(d,w);return u.documentOverlayCache.saveOverlays(m,T.batchId,p)})}).then(()=>({batchId:f.batchId,changes:N2(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.fa[s.currentUser.toKey()];l||(l=new qe(De)),l=l.insert(a,u),s.fa[s.currentUser.toKey()]=l}(r,i.batchId,n),await wu(r,i.changes),await Vd(r.remoteStore)}catch(i){const o=sv(i,"Failed to persist write");n.reject(o)}}async function mT(t,e){const n=we(t);try{const r=await rN(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Va.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ia=!0:i.modifiedDocuments.size>0?je(s.Ia):i.removedDocuments.size>0&&(je(s.Ia),s.Ia=!1))}),await wu(n,r,e)}catch(r){await pu(r)}}function u1(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((o,s)=>{const a=s.view.N_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=we(s);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const f of d.listeners)f.N_(a)&&(l=!0)}),l&&av(u)}(r.eventManager,e),i.length&&r.Ta.r_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jN(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Va.get(e),o=i&&i.key;if(o){let s=new qe(ce.comparator);s=s.insert(o,Nt.newNoDocument(o,ye.min()));const a=Ee().add(o),u=new Md(ye.min(),new Map,new qe(De),s,a);await mT(r,u),r.Ra=r.Ra.remove(o),r.Va.delete(e),uv(r)}else await Hp(r.localStore,e,!1).then(()=>Wp(r,e,n)).catch(pu)}async function $N(t,e){const n=we(t),r=e.batch.batchId;try{const i=await nN(n.localStore,e);vT(n,r,null),gT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wu(n,i)}catch(i){await pu(i)}}async function BN(t,e,n){const r=we(t);try{const i=await function(s,a){const u=we(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(je(d!==null),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);vT(r,e,n),gT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wu(r,i)}catch(i){await pu(i)}}function gT(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function vT(t,e,n){const r=we(t);let i=r.fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.fa[r.currentUser.toKey()]=i}}function Wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||yT(t,r)})}function yT(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(iT(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),uv(t))}function l1(t,e,n){for(const r of n)r instanceof fT?(t.ma.addReference(r.key,e),zN(t,r)):r instanceof pT?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||yT(t,r.key)):ge()}function zN(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.Aa.add(r),uv(t))}function uv(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new ce(Be.fromString(e)),r=t.pa.next();t.Va.set(r,new NN(n)),t.Ra=t.Ra.insert(n,r),rT(t.remoteStore,new Xr(Ar(Kg(n.path)),r,"TargetPurposeLimboResolution",$g.ae))}}async function wu(t,e,n){const r=we(t),i=[],o=[],s=[];r.Ea.isEmpty()||(r.Ea.forEach((a,u)=>{s.push(r.wa(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=tv.qi(u.targetId,l);o.push(c)}}))}),await Promise.all(s),r.Ta.r_(i),await async function(u,l){const c=we(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(l,f=>z.forEach(f.Li,m=>c.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>z.forEach(f.ki,m=>c.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!mu(d))throw d;ie("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const m=c.Ji.get(f),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);c.Ji=c.Ji.insert(f,w)}}}(r.localStore,o))}async function HN(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await Z2(n.localStore,e);n.currentUser=e,function(o,s){o.ga.forEach(a=>{a.forEach(u=>{u.reject(new ae(j.CANCELLED,s))})}),o.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(n,r.ts)}}function WN(t,e){const n=we(t),r=n.Va.get(e);if(r&&r.Ia)return Ee().add(r.key);{let i=Ee();const o=n.da.get(e);if(!o)return i;for(const s of o){const a=n.Ea.get(s);i=i.unionWith(a.view.ia)}return i}}function qN(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jN.bind(null,e),e.Ta.r_=kN.bind(null,e.eventManager),e.Ta.Sa=PN.bind(null,e.eventManager),e}function KN(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BN.bind(null,e),e}class c1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tN(this.persistence,new ZO,e.initialUser,this.serializer)}createPersistence(e){return new YO(ev.zr,this.serializer)}createSharedClientState(e){return new uN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class GN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HN.bind(null,this.syncEngine),await RN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xN}()}createDatastore(e){const n=Ld(e.databaseInfo.databaseId),r=function(o){return new hN(o)}(e.databaseInfo);return function(o,s,a,u){return new mN(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new vN(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>u1(this.syncEngine,n,0),function(){return o1.v()?new o1:new lN}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,c){const d=new MN(i,o,s,a,u,l);return c&&(d.ya=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=we(n);ie("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await yu(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=E2.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sf(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Z2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YN(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>s1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>s1(e.remoteStore,o)),t._onlineComponents=e}function XN(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function YN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await sf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!XN(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await sf(t,new c1)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await sf(t,new c1);return t._offlineComponents}async function _T(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await d1(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await d1(t,new GN))),t._onlineComponents}function JN(t){return _T(t).then(e=>e.syncEngine)}async function ET(t){const e=await _T(t),n=e.eventManager;return n.onListen=LN.bind(null,e.syncEngine),n.onUnlisten=VN.bind(null,e.syncEngine),n}function ZN(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){const c=new wT({next:f=>{s.enqueueAndForget(()=>dT(o,d));const m=f.docs.has(a);!m&&f.fromCache?l.reject(new ae(j.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&u&&u.source==="server"?l.reject(new ae(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new hT(Kg(a.path),c,{includeMetadataChanges:!0,W_:!0});return cT(o,d)}(await ET(t),t.asyncQueue,e,n,r)),r.promise}function eM(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){const c=new wT({next:f=>{s.enqueueAndForget(()=>dT(o,d)),f.fromCache&&u.source==="server"?l.reject(new ae(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new hT(a,c,{includeMetadataChanges:!0,W_:!0});return cT(o,d)}(await ET(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t,e,n){if(!n)throw new ae(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tM(t,e,n,r){if(e===!0&&r===!0)throw new ae(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f1(t){if(!ce.isDocumentKey(t))throw new ae(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p1(t){if(ce.isDocumentKey(t))throw new ae(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lv(t);throw new ae(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ED;switch(r.type){case"firstParty":return new bD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h1.get(n);r&&(ie("ComponentProvider","Removing Datastore"),h1.delete(n),r.terminate())}(this),Promise.resolve()}}function nM(t,e,n,r={}){var i;const o=(t=ar(t,Ud))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Dt.MOCK_USER;else{a=jA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ae(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dt(l)}t._authCredentials=new SD(new _2(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jd(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class ui extends jd{constructor(e,n,r){super(e,n,Kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ce(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function jr(t,e,...n){if(t=Ct(t),TT("collection","path",e),t instanceof Ud){const r=Be.fromString(e,...n);return p1(r),new ui(t,null,r)}{if(!(t instanceof an||t instanceof ui))throw new ae(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return p1(r),new ui(t.firestore,null,r)}}function Zt(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=E2.V()),TT("doc","path",e),t instanceof Ud){const r=Be.fromString(e,...n);return f1(r),new an(t,null,new ce(r))}{if(!(t instanceof an||t instanceof ui))throw new ae(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return f1(r),new an(t.firestore,t instanceof ui?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new tT(this,"async_queue_retry"),this.Xa=()=>{const n=of();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=of();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new wr;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!mu(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=ov.createAndSchedule(this,e,n,r,o=>this.ru(o));return this.ja.push(i),i}eu(){this.Ha&&ge()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}class vs extends Ud{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new rM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||IT(this),this._firestoreClient.terminate()}}function iM(t,e){const n=typeof t=="object"?t:LE(),r=typeof t=="string"?t:e||"(default)",i=ug(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=VA("firestore");o&&nM(i,...o)}return i}function cv(t){return t._firestoreClient||IT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IT(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,l,c){return new FD(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ST(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new QN(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo($t.fromBase64String(e))}catch(n){throw new ae(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/^__.*__$/;class sM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class bT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class fv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.au(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new fv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.Pu(e),i}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return Tc(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(CT(this.uu)&&oM.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class aM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ld(e)}Ru(e,n,r,i=!1){return new fv({uu:e,methodName:n,Au:r,path:Mt.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RT(t){const e=t._freezeSettings(),n=Ld(t._databaseId);return new aM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uM(t,e,n,r,i,o={}){const s=t.Ru(o.merge||o.mergeFields?2:0,e,n,i);pv("Data must be an object, but it was:",s,r);const a=AT(r,s);let u,l;if(o.merge)u=new hn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=qp(e,d,n);if(!s.contains(f))throw new ae(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);kT(c,f)||c.push(f)}u=new hn(c),l=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=s.fieldTransforms;return new sM(new tn(a),u,l)}class Bd extends dv{_toFieldTransform(e){if(e.uu!==2)throw e.uu===1?e.Eu(`${this._methodName}() can only appear at the top level of your update data`):e.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function lM(t,e,n,r){const i=t.Ru(1,e,n);pv("Data must be an object, but it was:",i,r);const o=[],s=tn.empty();to(r,(u,l)=>{const c=mv(e,u,n);l=Ct(l);const d=i.Iu(c);if(l instanceof Bd)o.push(c);else{const f=zd(l,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new hn(o);return new bT(s,a,i.fieldTransforms)}function cM(t,e,n,r,i,o){const s=t.Ru(1,e,n),a=[qp(e,r,n)],u=[i];if(o.length%2!=0)throw new ae(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(qp(e,o[f])),u.push(o[f+1]);const l=[],c=tn.empty();for(let f=a.length-1;f>=0;--f)if(!kT(l,a[f])){const m=a[f];let y=u[f];y=Ct(y);const w=s.Iu(m);if(y instanceof Bd)l.push(m);else{const T=zd(y,w);T!=null&&(l.push(m),c.set(m,T))}}const d=new hn(l);return new bT(c,d,s.fieldTransforms)}function zd(t,e){if(xT(t=Ct(t)))return pv("Unsupported field value:",e,t),AT(t,e);if(t instanceof dv)return function(r,i){if(!CT(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=zd(a,i.Tu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ut.fromDate(r);return{timestampValue:Ec(i.serializer,o)}}if(r instanceof ut){const o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ec(i.serializer,o)}}if(r instanceof hv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zo)return{bytesValue:K2(i.serializer,r._byteString)};if(r instanceof an){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Eu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${lv(r)}`)}(t,e)}function AT(t,e){const n={};return S2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,i)=>{const o=zd(i,e.lu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof hv||t instanceof Zo||t instanceof an||t instanceof dv)}function pv(t,e,n){if(!xT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lv(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function qp(t,e,n){if((e=Ct(e))instanceof $d)return e._internalPath;if(typeof e=="string")return mv(t,e);throw Tc("Field path arguments must be of type string or ",t,!1,void 0,n)}const dM=new RegExp("[~\\*/\\[\\]]");function mv(t,e,n){if(e.search(dM)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $d(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ae(j.INVALID_ARGUMENT,a+t+u)}function kT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hM extends PT{data(){return super.data()}}function DT(t,e){return typeof e=="string"?mv(t,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pM{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return to(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new hv(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(La(e));default:return null}}convertTimestamp(e){const n=fi(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);je(J2(r));const i=new Fa(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OT extends PT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tl extends OT{data(e={}){return super.data(e)}}class gM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tl(this._firestore,this._userDataWriter,r.key,r,new Bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Tl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Tl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:vM(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){t=ar(t,an);const e=ar(t.firestore,vs);return ZN(cv(e),t._key).then(n=>_M(e,t,n))}class MT extends pM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Kp(t){t=ar(t,jd);const e=ar(t.firestore,vs),n=cv(e),r=new MT(e);return fM(t._query),eM(n,t._query).then(i=>new gM(e,r,t,i))}function Il(t,e,n){t=ar(t,an);const r=ar(t.firestore,vs),i=mM(t.converter,e,n);return gv(r,[uM(RT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ln.none())])}function yM(t,e,n,...r){t=ar(t,an);const i=ar(t.firestore,vs),o=RT(i);let s;return s=typeof(e=Ct(e))=="string"||e instanceof $d?cM(o,"updateDoc",t._key,e,n,r):lM(o,"updateDoc",t._key,e),gv(i,[s.toMutation(t._key,Ln.exists(!0))])}function wM(t){return gv(ar(t.firestore,vs),[new Gg(t._key,Ln.none())])}function gv(t,e){return function(r,i){const o=new wr;return r.asyncQueue.enqueueAndForget(async()=>UN(await JN(r),i,o)),o.promise}(cv(t),e)}function _M(t,e,n){const r=n.docs.get(e._key),i=new MT(t);return new OT(t,i,e._key,r,new Bs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ps=i})(as),Wo(new Hi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new vs(new TD(r.getProvider("auth-internal")),new RD(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ae(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(l.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ai(Ly,"4.1.0",e),ai(Ly,"4.1.0","esm2017")})();const EM={apiKey:"AIzaSyC0Ved-hKRSNyUHBXWrfepyjIxYuOZAbxU",authDomain:"terminium-world-final-ii.firebaseapp.com",projectId:"terminium-world-final-ii",storageBucket:"terminium-world-final-ii.appspot.com",messagingSenderId:"1070649964101",appId:"1:1070649964101:web:700571ac998fda82c7552c",measurementId:"G-PSD66BZMXE"},LT=ME(EM),Xe=d4(LT),Sn=iM(LT);const SM=()=>{const[t,e]=b.useState(!0),[n,r]=b.useState(""),[i,o]=b.useState(""),[s,a]=b.useState(""),[u,l]=b.useState(null),c=ig(),d=async()=>{try{await Qk(Xe,n,i),c("/dashboard")}catch(m){l(m.message)}},f=async()=>{try{const y=(await Gk(Xe,n,i)).user.uid;await Il(Zt(Sn,"users",y),{email:n});const w=jr(Zt(Sn,"users",y),"forms"),T={fields:["Sample Field"],name:"DUMMY - PLEASE DELETE",owner:Xe.currentUser.uid,allowed:[Xe.currentUser.email]};c("/dashboard")}catch(m){l(m.message)}};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-purple-100 to-purple-300 font-space-grotesk",children:E.jsxs("div",{className:"p-8 bg-white shadow-md rounded-md w-96",children:[E.jsx("h2",{className:"text-2xl font-bold mb-5",children:t?"Login":"Sign Up"}),E.jsx("input",{className:"w-full p-2 mb-4 border rounded shadow-sm focus:outline-none focus:border-purple-400",value:n,onChange:m=>r(m.target.value),placeholder:"Email"}),E.jsx("input",{className:"w-full p-2 mb-4 border rounded shadow-sm focus:outline-none focus:border-purple-400",type:"password",value:i,onChange:m=>o(m.target.value),placeholder:"Password"}),t?E.jsx("button",{className:"w-full p-2 mb-4 text-white font-bold bg-purple-500 rounded focus:outline-none hover:bg-purple-400",onClick:d,children:"Login"}):E.jsxs("div",{children:[E.jsx("input",{className:"w-full p-2 mb-4 border rounded shadow-sm focus:outline-none focus:border-purple-400",type:"password",value:s,onChange:m=>a(m.target.value),placeholder:"Repeat Password"}),E.jsx("button",{className:"w-full p-2 mb-4 bg-gradient-to-r from-purple-300 to-purple-500 text-white font-bold rounded focus:outline-none hover:from-purple-400 hover:to-purple-600",onClick:f,children:"Sign Up"})]}),E.jsx("button",{className:"w-full p-2 bg-gray-200 rounded hover:bg-gray-300 focus:outline-none",onClick:()=>e(!t),children:t?"I Don't Have an Account!":"I Already Have an Account!"}),u&&E.jsx("p",{className:"mt-4 text-red-500",children:u})]})})},FT=b.createContext();function TM({children:t}){const[e,n]=b.useState(null),[r,i]=b.useState(!0);return b.useEffect(()=>Jk(Xe,o=>{n(o),i(!1)}),[]),E.jsx(FT.Provider,{value:{user:e,loading:r},children:t})}function IM(){const t=b.useContext(FT);if(!t)throw new Error("useUser must be used within a UserProvider");return t}function g1({children:t}){const{user:e,loading:n}=IM();return n?null:e?t:E.jsx(CA,{to:"/login",replace:!0})}var VT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v1=vr.createContext&&vr.createContext(VT),li=globalThis&&globalThis.__assign||function(){return li=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},li.apply(this,arguments)},bM=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function UT(t){return t&&t.map(function(e,n){return vr.createElement(e.tag,li({key:n},e.attr),UT(e.child))})}function vt(t){return function(e){return vr.createElement(CM,li({attr:li({},t.attr)},e),UT(t.child))}}function CM(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=bM(t,["attr","size","title"]),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),vr.createElement("svg",li({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:li(li({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&vr.createElement("title",null,o),t.children)};return v1!==void 0?vr.createElement(v1.Consumer,null,function(n){return e(n)}):e(VT)}function RM(t){return vt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}function y1(t){return vt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 128c-.6 0-1.1.2-1.6.2 1.1-5.2 1.6-10.6 1.6-16.2 0-44.2-35.8-80-80-80-24.6 0-46.3 11.3-61 28.8C256.4 24.8 219.3 0 176 0 114.1 0 64 50.1 64 112c0 7.3.8 14.3 2.1 21.2C27.8 145.8 0 181.5 0 224c0 53 43 96 96 96h320c53 0 96-43 96-96s-43-96-96-96zM88 374.2c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0zm160 0c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0zm160 0c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0z"}}]})(t)}function w1(t){return vt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function _1(t){return vt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(t)}function AM(t){return vt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(t)}function E1(t){return vt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(t)}const xM="/assets/RHlogo-0178ab1a.png",vv=()=>{const[t,e]=b.useState(!1);return E.jsxs("nav",{className:"max-w-5xl mx-auto bg-white shadow-md rounded-md mb-3",children:[E.jsxs("div",{className:"flex justify-between items-center p-4",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("img",{src:xM,alt:"RH Logo",className:"h-10 w-auto"}),E.jsxs("div",{className:"hidden md:flex space-x-4",children:[E.jsx(Fr,{icon:E.jsx(E1,{}),link:"/dashboard",label:"Dashboard"}),E.jsx(Fr,{icon:E.jsx(w1,{}),link:"/",label:"Home"}),E.jsx(Fr,{icon:E.jsx(y1,{}),link:"https://www.rainhackers.com",label:"Rainhackers",external:!0}),E.jsx(Fr,{icon:E.jsx(_1,{}),link:"/about",label:"About"})]})]}),E.jsx(RM,{className:"md:hidden cursor-pointer text-gray-600",size:24,onClick:()=>e(!t)})]}),E.jsxs("div",{className:`transform ${t?"block":"hidden"} md:hidden`,children:[E.jsx(Fr,{icon:E.jsx(E1,{}),link:"/dashboard",label:"Dashboard"}),E.jsx(Fr,{icon:E.jsx(w1,{}),link:"/",label:"Home"}),E.jsx(Fr,{icon:E.jsx(y1,{}),link:"https://www.rainhackers.com",label:"Rainhackers",external:!0}),E.jsx(Fr,{icon:E.jsx(_1,{}),link:"/about",label:"About"})]})]})},Fr=({icon:t,link:e,label:n,external:r})=>E.jsxs("a",{href:e,target:r?"_blank":"_self",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-gray-600 hover:text-blue-500 p-2 rounded-md transition-colors duration-300",children:[t,E.jsx("span",{children:n})]}),kM=()=>E.jsxs("div",{children:[E.jsx(vv,{}),E.jsx("p",{children:"Home"})]});function jT(t){return vt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M227.85,46.89a20,20,0,0,0-18.74-18.74c-13.13-.77-46.65.42-74.48,28.24L131,60H74.36a19.83,19.83,0,0,0-14.14,5.86L25.87,100.19a20,20,0,0,0,11.35,33.95l37.14,5.18,42.32,42.32,5.19,37.18A19.88,19.88,0,0,0,135.34,235a20.13,20.13,0,0,0,6.37,1,19.9,19.9,0,0,0,14.1-5.87l34.34-34.35A19.85,19.85,0,0,0,196,181.64V125l3.6-3.59C227.43,93.54,228.62,60,227.85,46.89ZM76,84h31L75.75,115.28l-27.23-3.8ZM151.6,73.37A72.27,72.27,0,0,1,204,52a72.17,72.17,0,0,1-21.38,52.41L128,159,97,128ZM172,180l-27.49,27.49-3.8-27.23L172,149Zm-71.67,21.62C91.67,213.65,74.16,228,40,228a12,12,0,0,1-12-12c0-34.15,14.35-51.66,26.39-60.33a12,12,0,0,1,14,19.47c-6,4.31-12.89,12.5-15.42,27.87,15.37-2.53,23.56-9.44,27.87-15.42a12,12,0,1,1,19.47,14Z"}}]})(t)}function $T(t){return vt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"}}]})(t)}const PM="https://purplehunter.pythonanywhere.com",DM=`${PM}/ocr`,OM=({onTextChange:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(""),[o,s]=b.useState(0),[a,u]=b.useState("eng"),l=d=>{const f=d.target.files[0];if(!f)return;const m=new FileReader;m.onloadend=()=>{n(m.result)},m.readAsDataURL(f)},c=async()=>{if(event.preventDefault(),!e)return;s(20);const d={imageData:e.split(",")[1],languageHint:a};try{const m=await(await fetch(DM,{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json"},user:Xe.currentUser.uid})).json();m!=null&&m.result?(i(m.result),t(m.result),s(100)):s(0)}catch{s(0)}};return E.jsxs("div",{className:"relative p-4 rounded shadow mb-4 border bg-gray-100",children:[E.jsx("label",{className:"block text-gray-700 mb-2",children:"Upload an Image:"}),e&&E.jsx("div",{className:"mb-4",children:E.jsx("img",{src:e,alt:"Uploaded preview",className:"rounded max-w-[150px] md:max-w-[300px] mx-auto"})}),E.jsxs("div",{className:"flex justify-between items-center md:space-x-2 space-y-2 md:space-y-0",children:[E.jsx("input",{type:"file",onChange:l,className:"hidden",id:"imageUpload1"}),E.jsx("label",{htmlFor:"imageUpload1",className:"cursor-pointer border-2 border-purple-500 text-purple-500 bg-transparent hover:bg-purple-100 hover:text-purple-600 rounded-full py-2 px-3 focus:outline-none",children:E.jsx($T,{})}),E.jsx("button",{onClick:c,className:"border-2 border-purple-500 text-purple-500 bg-transparent hover:bg-purple-100 hover:text-purple-600 rounded-full py-2 px-3 focus:outline-none",children:E.jsx(jT,{})}),E.jsxs("select",{value:a,onChange:d=>u(d.target.value),className:"cursor-pointer bg-white border rounded p-1",children:[E.jsx("option",{value:"eng",children:"English"}),E.jsx("option",{value:"deu",children:"German"}),E.jsx("option",{value:"fra",children:"French"}),E.jsx("option",{value:"ita",children:"Italian"})]})]}),o>0&&o<100&&E.jsx("div",{className:"mt-4",children:E.jsx("div",{className:"h-2 mb-4 text-xs flex rounded bg-green-200",children:E.jsx("div",{style:{width:`${o}%`},className:"h-full rounded bg-green-500"})})}),E.jsx("div",{className:"mt-4",children:E.jsx("textarea",{value:r,onChange:d=>{i(d.target.value),t(d.target.value)},rows:"6",className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400 resize-none",placeholder:"Extracted text will appear here..."})})]})},lo="4.3.1";class NM{constructor(e,n){this.response=e,this.controller=n,this.decoder=new MM}async*iterMessages(){if(!this.response.body)throw this.controller.abort(),new Error("Attempted to iterate over a response with no body");const e=new es,n=FM(this.response.body);for await(const r of n)for(const i of e.decode(r)){const o=this.decoder.decode(i);o&&(yield o)}for(const r of e.flush()){const i=this.decoder.decode(r);i&&(yield i)}}async*[Symbol.asyncIterator](){let e=!1;try{for await(const n of this.iterMessages())if(!e){if(n.data.startsWith("[DONE]")){e=!0;continue}if(n.event===null)try{yield JSON.parse(n.data)}catch(r){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),r}}e=!0}catch(n){if(n instanceof Error&&n.name==="AbortError")return;throw n}finally{e||this.controller.abort()}}}class MM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=LM(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class es{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=es.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(es.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){var n;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Error(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(n=this.textDecoder)!==null&&n!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}es.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);es.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function LM(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function FM(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Gt extends Error{constructor(e,n,r,i){super(Gt.makeMessage(n,r)),this.status=e,this.headers=i;const o=n;this.error=o,this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(e,n){return e!=null&&e.message?typeof e.message=="string"?e.message:JSON.stringify(e.message):e?JSON.stringify(e):n||"Unknown error occurred"}static generate(e,n,r,i){if(!e)return new Hd({cause:nI(n)});const o=n==null?void 0:n.error;return e===400?new zT(e,o,r,i):e===401?new HT(e,o,r,i):e===403?new WT(e,o,r,i):e===404?new qT(e,o,r,i):e===409?new KT(e,o,r,i):e===422?new GT(e,o,r,i):e===429?new QT(e,o,r,i):e>=500?new XT(e,o,r,i):new Gt(e,o,r,i)}}class Gp extends Gt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Hd extends Gt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class BT extends Hd{constructor(){super({message:"Request timed out."})}}class zT extends Gt{constructor(){super(...arguments),this.status=400}}class HT extends Gt{constructor(){super(...arguments),this.status=401}}class WT extends Gt{constructor(){super(...arguments),this.status=403}}class qT extends Gt{constructor(){super(...arguments),this.status=404}}class KT extends Gt{constructor(){super(...arguments),this.status=409}}class GT extends Gt{constructor(){super(...arguments),this.status=422}}class QT extends Gt{constructor(){super(...arguments),this.status=429}}class XT extends Gt{}const VM=t=>{},UM=fetch.bind(void 0),jM=!1,$M=FormData,S1=typeof File<"u"?File:class extends Blob{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is not defined")}};async function BM(t,e){return{...e,body:new YM(t)}}async function zM(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")}function HM(t){return!1}const YT=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",WM=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&JT(t),JT=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",qM=t=>WM(t)||YT(t)||HM();async function ZT(t,e,n={}){var r,i,o;if(t=await t,YT(t)){const a=await t.blob();return e||(e=(r=new URL(t.url).pathname.split(/[\\/]/).pop())!==null&&r!==void 0?r:"unknown_file"),new S1([a],e,n)}const s=await KM(t);if(e||(e=(i=QM(t))!==null&&i!==void 0?i:"unknown_file"),!n.type){const a=(o=s[0])===null||o===void 0?void 0:o.type;typeof a=="string"&&(n={...n,type:a})}return new S1(s,e,n)}async function KM(t){var e;let n=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)n.push(t);else if(JT(t))n.push(await t.arrayBuffer());else if(XM(t))for await(const r of t)n.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name}; props: ${GM(t)}`);return n}function GM(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function QM(t){var e;return af(t.name)||af(t.filename)||((e=af(t.path))===null||e===void 0?void 0:e.split(/[\\/]/).pop())}const af=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},XM=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";class YM{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const T1=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",$a=async t=>{const e=await JM(t.body);return BM(e,t)},JM=async t=>{const e=new $M;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Qp(e,n,r))),e},Qp=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(qM(n)){const r=await ZT(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Qp(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Qp(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var ZM=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},e3=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Yu;const t3=2;async function eI(t){const{response:e}=t;if(t.options.stream)return new NM(e,t.controller);const n=e.headers.get("content-type");if(n!=null&&n.includes("application/json")){const i=await e.json();return Ic("response",e.status,e.url,e.headers,i),i}const r=await e.text();return Ic("response",e.status,e.url,e.headers,r),r}class Wd extends Promise{constructor(e,n=eI){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Wd(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class n3{constructor({baseURL:e,maxRetries:n,timeout:r=6e5,httpAgent:i,fetch:o}){this.baseURL=e,this.maxRetries=uf("maxRetries",n??t3),this.timeout=uf("timeout",r),this.httpAgent=i,this.fetch=o??UM}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...u3(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${p3()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var n,r,i,o,s,a;const{method:u,path:l,query:c,headers:d={}}=e,f=T1(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,m=this.calculateContentLength(f),y=this.buildURL(l,c);"timeout"in e&&uf("timeout",e.timeout);const w=(n=e.timeout)!==null&&n!==void 0?n:this.timeout,T=(i=(r=e.httpAgent)!==null&&r!==void 0?r:this.httpAgent)!==null&&i!==void 0?i:VM(),p=w+1e3;typeof((o=T==null?void 0:T.options)===null||o===void 0?void 0:o.timeout)=="number"&&p>((s=T.options.timeout)!==null&&s!==void 0?s:0)&&(T.options.timeout=p),this.idempotencyHeader&&u!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=e.idempotencyKey);const g={...m&&{"Content-Length":m},...this.defaultHeaders(e),...d};T1(e.body)&&!jM&&delete g["Content-Type"],Object.keys(g).forEach(_=>g[_]===null&&delete g[_]);const v={method:u,...f&&{body:f},headers:g,...T&&{agent:T},signal:(a=e.signal)!==null&&a!==void 0?a:null};return this.validateHeaders(g,d),{req:v,url:y,timeout:w}}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Gt.generate(e,n,r,i)}request(e,n=null){return new Wd(this.makeRequest(e,n))}async makeRequest(e,n){var r,i,o;const s=await e;n==null&&(n=(r=s.maxRetries)!==null&&r!==void 0?r:this.maxRetries);const{req:a,url:u,timeout:l}=this.buildRequest(s);if(await this.prepareRequest(a,{url:u,options:s}),Ic("request",u,s,a.headers),!((i=s.signal)===null||i===void 0)&&i.aborted)throw new Gp;const c=new AbortController,d=await this.fetchWithTimeout(u,a,l,c).catch(nI);if(d instanceof Error){if(!((o=s.signal)===null||o===void 0)&&o.aborted)throw new Gp;if(n)return this.retryRequest(s,n);throw d.name==="AbortError"?new BT:new Hd({cause:d})}const f=i3(d.headers);if(!d.ok){if(n&&this.shouldRetry(d))return this.retryRequest(s,n,f);const m=await d.text().catch(()=>"Unknown"),y=l3(m),w=y?void 0:m;throw Ic("response",d.status,u,f,w),this.makeStatusError(d.status,y,w,f)}return{response:d,options:s,controller:c}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new r3(this,r,e)}buildURL(e,n){const r=d3(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return rI(i)||(n={...i,...n}),n&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Error(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:o,...s}=n||{};o&&o.addEventListener("abort",()=>i.abort());const a=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch(e,{signal:i.signal,...s}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){var i;n-=1;const o=parseInt((r==null?void 0:r["retry-after"])||""),s=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries,a=this.calculateRetryTimeoutSeconds(n,o,s)*1e3;return await h3(a),this.makeRequest(e,n)}calculateRetryTimeoutSeconds(e,n,r){if(Number.isInteger(n)&&n<=60)return n;const s=r-e,a=Math.min(.5*Math.pow(s-1,2),2),u=Math.random()-.5;return a+u}getUserAgent(){return`${this.constructor.name}/JS ${lo}`}}class tI{constructor(e,n,r,i){Yu.set(this,void 0),ZM(this,Yu,e,"f"),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Error("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e)n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,o]of r)e.url.searchParams.set(i,o);n.query=void 0,n.path=e.url.toString()}return await e3(this,Yu,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Yu=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class r3 extends Wd{constructor(e,n,r){super(n,async i=>new r(e,i.response,await eI(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const i3=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),o3={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0},I1=t=>typeof t=="object"&&t!==null&&!rI(t)&&Object.keys(t).every(e=>f3(o3,e)),s3=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":C1(Deno.build.os),"X-Stainless-Arch":b1(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":C1(process.platform),"X-Stainless-Arch":b1(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=a3();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function a3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const b1=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",C1=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ju;const u3=()=>Ju??(Ju=s3()),l3=t=>{try{return JSON.parse(t)}catch{return}},c3=new RegExp("^(?:[a-z]+:)?//","i"),d3=t=>c3.test(t),h3=t=>new Promise(e=>setTimeout(e,t)),uf=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Error(`${t} must be an integer`);if(e<0)throw new Error(`${t} must be a positive integer`);return e},nI=t=>t instanceof Error?t:new Error(t),R1=t=>{var e,n,r,i;if(typeof process<"u")return(n=(e=process.env)===null||e===void 0?void 0:e[t])!==null&&n!==void 0?n:void 0;if(typeof Deno<"u")return(i=(r=Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t)};function rI(t){if(!t)return!0;for(const e in t)return!1;return!0}function f3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ic(t,...e){typeof process<"u"&&process.env.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const p3=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),m3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class qd extends tI{constructor(e,n,r,i){super(e,n,r,i),this.object=r.object,this.data=r.data}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class yv extends tI{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data}getPaginatedItems(){return this.data}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var e,n;if(!(!((e=this.data)===null||e===void 0)&&e.length))return null;const r=(n=this.data[this.data.length-1])===null||n===void 0?void 0:n.id;return r?{params:{after:r}}:null}}class Yt{constructor(e){this.client=e,this.get=e.get.bind(e),this.post=e.post.bind(e),this.patch=e.patch.bind(e),this.put=e.put.bind(e),this.delete=e.delete.bind(e),this.getAPIList=e.getAPIList.bind(e)}}class bc extends Yt{create(e,n){return this.post("/audio/transcriptions",$a({body:e,...n}))}}bc||(bc={});class Cc extends Yt{create(e,n){return this.post("/audio/translations",$a({body:e,...n}))}}Cc||(Cc={});class Rc extends Yt{constructor(){super(...arguments),this.transcriptions=new bc(this.client),this.translations=new Cc(this.client)}}(function(t){t.Transcriptions=bc,t.Translations=Cc})(Rc||(Rc={}));let Ac=class extends Yt{create(e,n){var r;return this.post("/chat/completions",{body:e,...n,stream:(r=e.stream)!==null&&r!==void 0?r:!1})}};Ac||(Ac={});class xc extends Yt{constructor(){super(...arguments),this.completions=new Ac(this.client)}}(function(t){t.Completions=Ac})(xc||(xc={}));class kc extends Yt{create(e,n){var r;return this.post("/completions",{body:e,...n,stream:(r=e.stream)!==null&&r!==void 0?r:!1})}}kc||(kc={});class Pc extends Yt{create(e,n){return this.post("/embeddings",{body:e,...n})}}Pc||(Pc={});class Dc extends Yt{create(e,n){return this.post("/edits",{body:e,...n})}}Dc||(Dc={});class Oc extends Yt{create(e,n){return this.post("/files",$a({body:e,...n}))}retrieve(e,n){return this.get(`/files/${e}`,n)}list(e){return this.getAPIList("/files",iI,e)}del(e,n){return this.delete(`/files/${e}`,n)}retrieveContent(e,n){return this.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}}class iI extends qd{}Oc||(Oc={});class Nc extends Yt{create(e,n){return this.post("/fine-tunes",{body:e,...n})}retrieve(e,n){return this.get(`/fine-tunes/${e}`,n)}list(e){return this.getAPIList("/fine-tunes",oI,e)}cancel(e,n){return this.post(`/fine-tunes/${e}/cancel`,n)}listEvents(e,n,r){var i;return this.get(`/fine-tunes/${e}/events`,{query:n,timeout:864e5,...r,stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1})}}class oI extends qd{}Nc||(Nc={});class Mc extends Yt{create(e,n){return this.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return I1(e)?this.list({},e):this.getAPIList("/fine_tuning/jobs",sI,{query:e,...n})}cancel(e,n){return this.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return I1(n)?this.listEvents(e,{},n):this.getAPIList(`/fine_tuning/jobs/${e}/events`,aI,{query:n,...r})}}class sI extends yv{}class aI extends yv{}Mc||(Mc={});class Lc extends Yt{constructor(){super(...arguments),this.jobs=new Mc(this.client)}}(function(t){t.Jobs=Mc,t.FineTuningJobsPage=sI,t.FineTuningJobEventsPage=aI})(Lc||(Lc={}));class Fc extends Yt{createVariation(e,n){return this.post("/images/variations",$a({body:e,...n}))}edit(e,n){return this.post("/images/edits",$a({body:e,...n}))}generate(e,n){return this.post("/images/generations",{body:e,...n})}}Fc||(Fc={});class Vc extends Yt{retrieve(e,n){return this.get(`/models/${e}`,n)}list(e){return this.getAPIList("/models",uI,e)}del(e,n){return this.delete(`/models/${e}`,n)}}class uI extends qd{}Vc||(Vc={});class Uc extends Yt{create(e,n){return this.post("/moderations",{body:e,...n})}}Uc||(Uc={});var lI;class Bt extends n3{constructor(e){var n,r,{apiKey:i=R1("OPENAI_API_KEY"),organization:o=(n=R1("OPENAI_ORG_ID"))!==null&&n!==void 0?n:null,...s}=e===void 0?{}:e;if(i===void 0)throw new Error("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'my apiKey' }).");const a={apiKey:i,organization:o,baseURL:"https://api.openai.com/v1",...s};if(!a.dangerouslyAllowBrowser&&m3())throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:(r=a.timeout)!==null&&r!==void 0?r:6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new kc(this),this.chat=new xc(this),this.edits=new Dc(this),this.embeddings=new Pc(this),this.files=new Oc(this),this.images=new Fc(this),this.audio=new Rc(this),this.moderations=new Uc(this),this.models=new Vc(this),this.fineTuning=new Lc(this),this.fineTunes=new Nc(this),this._options=a,this.apiKey=i,this.organization=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}lI=Bt;Bt.OpenAI=lI;Bt.APIError=Gt;Bt.APIConnectionError=Hd;Bt.APIConnectionTimeoutError=BT;Bt.APIUserAbortError=Gp;Bt.NotFoundError=qT;Bt.ConflictError=KT;Bt.RateLimitError=QT;Bt.BadRequestError=zT;Bt.AuthenticationError=HT;Bt.InternalServerError=XT;Bt.PermissionDeniedError=WT;Bt.UnprocessableEntityError=GT;(function(t){t.toFile=ZT,t.fileFromPath=zM,t.Page=qd,t.CursorPage=yv,t.Completions=kc,t.Chat=xc,t.Edits=Dc,t.Embeddings=Pc,t.Files=Oc,t.FileObjectsPage=iI,t.Images=Fc,t.Audio=Rc,t.Moderations=Uc,t.Models=Vc,t.ModelsPage=uI,t.FineTuning=Lc,t.FineTunes=Nc,t.FineTunesPage=oI})(Bt||(Bt={}));const g3="https://purplehunter.pythonanywhere.com/decrypt-bcr",v3=t=>{const[e,n]=b.useState(null),[r,i]=b.useState(""),[o,s]=b.useState(0),[a,u]=b.useState("eng"),l=d=>{const f=d.target.files[0];if(!f)return;const m=new FileReader;m.onloadend=()=>{n(m.result)},m.readAsDataURL(f)},c=async d=>{if(d.preventDefault(),!!e){s(20);try{const m=await(await fetch(g3,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({imageData:e.split(",")[1],languageHint:a,user:Xe.currentUser.uid})})).json();m!=null&&m.result?(i(m.result),t.onDataExtracted&&t.onDataExtracted(m.result),s(100)):s(0)}catch(f){console.error("Error during OCR processing:",f),s(0)}}};return E.jsxs("div",{className:"relative p-4 rounded shadow mb-4 border bg-gray-100",children:[E.jsx("label",{className:"block text-gray-700 mb-2",children:"Upload an Image:"}),e&&E.jsx("div",{className:"mb-4",children:E.jsx("img",{src:e,alt:"Uploaded preview",className:"rounded max-w-[150px] md:max-w-[300px] mx-auto"})}),E.jsxs("div",{className:"flex justify-between items-center md:space-x-2 space-y-2 md:space-y-0",children:[E.jsx("input",{type:"file",onChange:l,className:"hidden",id:"imageUpload"}),E.jsx("label",{htmlFor:"imageUpload",className:"cursor-pointer border-2 border-purple-500 text-purple-500 bg-transparent hover:bg-purple-100 hover:text-purple-600 rounded-full py-2 px-3 focus:outline-none",children:E.jsx($T,{})}),E.jsx("button",{onClick:c,className:"border-2 border-purple-500 text-purple-500 bg-transparent hover:bg-purple-100 hover:text-purple-600 rounded-full py-2 px-3 focus:outline-none",children:E.jsx(jT,{})}),E.jsxs("select",{value:a,onChange:d=>u(d.target.value),className:"cursor-pointer bg-gray-100",children:[E.jsx("option",{value:"eng",children:"English"}),E.jsx("option",{value:"deu",children:"German"}),E.jsx("option",{value:"fra",children:"French"}),E.jsx("option",{value:"ita",children:"Italian"})]})]}),o>0&&o<100&&E.jsx("div",{className:"mt-4",children:E.jsx("div",{className:"h-2 mb-4 text-xs flex rounded bg-green-200",children:E.jsx("div",{style:{width:`${o}%`},className:"h-full bg-green-500"})})}),(r==null?void 0:r.data)&&Object.keys(r.data).map(d=>E.jsxs("div",{className:"mt-2",children:[E.jsx("label",{className:"block text-gray-700 mb-2 capitalize",children:d}),E.jsx("input",{className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",type:"text",value:r.data[d],onChange:f=>i(m=>({...m,data:{...m.data,[d]:f.target.value}}))})]},d))]})};function y3(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 4H6c-1.103 0-2 .897-2 2v5h2V8l6.4 4.8a1.001 1.001 0 0 0 1.2 0L20 8v9h-8v2h8c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-7 6.75L6.666 6h12.668L13 10.75z"}},{tag:"path",attr:{d:"M2 12h7v2H2zm2 3h6v2H4zm3 3h4v2H7z"}}]})(t)}function w3(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.707 20.293-3.388-3.388A7.942 7.942 0 0 0 20 12.021h-2a5.95 5.95 0 0 1-1.109 3.456l-1.452-1.452c.348-.591.561-1.27.561-2.004v-6C16 3.804 14.215 2 12.021 2c-.07 0-.14.009-.209.025A4.005 4.005 0 0 0 8 6.021v.565L3.707 2.293 2.293 3.707l18 18 1.414-1.414zM10 6.021c0-1.103.897-2 2-2a.918.918 0 0 0 .164-.015C13.188 4.08 14 4.956 14 6.021v6c0 .172-.029.335-.071.494L10 8.586V6.021zm-4 6H4c0 4.072 3.06 7.436 7 7.931v2.069h2v-2.07a7.993 7.993 0 0 0 2.218-.611l-1.558-1.558a5.979 5.979 0 0 1-1.66.239c-3.309 0-6-2.692-6-6z"}},{tag:"path",attr:{d:"M8.011 12.132a3.993 3.993 0 0 0 3.877 3.877l-3.877-3.877z"}}]})(t)}function _3(t){return vt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 12V6c0-2.217-1.785-4.021-3.979-4.021a.933.933 0 0 0-.209.025A4.006 4.006 0 0 0 8 6v6c0 2.206 1.794 4 4 4s4-1.794 4-4zm-6 0V6c0-1.103.897-2 2-2a.89.89 0 0 0 .163-.015C13.188 4.06 14 4.935 14 6v6c0 1.103-.897 2-2 2s-2-.897-2-2z"}},{tag:"path",attr:{d:"M6 12H4c0 4.072 3.061 7.436 7 7.931V22h2v-2.069c3.939-.495 7-3.858 7-7.931h-2c0 3.309-2.691 6-6 6s-6-2.691-6-6z"}}]})(t)}function E3(t){return vt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M22.401 4.818h-9.927L10.927 0H1.599C.72 0 .002.719.002 1.599v16.275c0 .878.72 1.597 1.597 1.597h10L13.072 24H22.4c.878 0 1.597-.707 1.597-1.572V6.39c0-.865-.72-1.572-1.597-1.572zm-15.66 8.68c-2.07 0-3.75-1.68-3.75-3.75 0-2.07 1.68-3.75 3.75-3.75 1.012 0 1.86.375 2.512.976l-.99.952a2.194 2.194 0 0 0-1.522-.584c-1.305 0-2.363 1.08-2.363 2.409S5.436 12.16 6.74 12.16c1.507 0 2.13-1.08 2.19-1.808l-2.188-.002V9.066h3.51c.05.23.09.457.09.764 0 2.147-1.434 3.669-3.602 3.669zm16.757 8.93c0 .59-.492 1.072-1.097 1.072h-8.875l3.649-4.03h.005l-.74-2.302.006-.005s.568-.488 1.277-1.24c.712.771 1.63 1.699 2.818 2.805l.771-.772c-1.272-1.154-2.204-2.07-2.89-2.805.919-1.087 1.852-2.455 2.049-3.707h2.034v.002h.002v-.94h-4.532v-1.52h-1.471v1.52H14.3l-1.672-5.21.006.022h9.767c.605 0 1.097.48 1.097 1.072v16.038zm-6.484-7.311c-.536.548-.943.873-.943.873l-.008.004-1.46-4.548h4.764c-.307 1.084-.988 2.108-1.651 2.904-1.176-1.392-1.18-1.844-1.18-1.844h-1.222s.05.678 1.7 2.61z"}}]})(t)}function S3(t){return vt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attr:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]})(t)}function T3(t){return vt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 0 0 0 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]})(t)}function I3(t){return vt({tag:"svg",attr:{t:"1569683742680",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]})(t)}function b3(t){return vt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]})(t)}var C3={exports:{}};(function(t){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(S,h){if(!S)throw"First parameter is required.";h=h||{type:"video"},h=new n(S,h);var I=this;function O(D){return h.disableLogs||console.log("RecordRTC version: ",I.version),D&&(h=new n(S,D)),h.disableLogs||console.log("started recording "+h.type+" stream."),R?(R.clearRecordedData(),R.record(),Z("recording"),I.recordingDuration&&W(),I):(N(function(){I.recordingDuration&&W()}),I)}function N(D){D&&(h.initCallback=function(){D(),D=h.initCallback=null});var K=new r(S,h);R=new K(S,h),R.record(),Z("recording"),h.disableLogs||console.log("Initialized recorderType:",R.constructor.name,"for output-type:",h.type)}function M(D){if(D=D||function(){},!R){X();return}if(I.state==="paused"){I.resumeRecording(),setTimeout(function(){M(D)},1);return}I.state!=="recording"&&!h.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',I.state),h.disableLogs||console.log("Stopped recording "+h.type+" stream."),h.type!=="gif"?R.stop(K):(R.stop(),K()),Z("stopped");function K(se){if(!R){typeof D.call=="function"?D.call(I,""):D("");return}Object.keys(R).forEach(function(re){typeof R[re]!="function"&&(I[re]=R[re])});var P=R.blob;if(!P)if(se)R.blob=P=se;else throw"Recording failed.";if(P&&!h.disableLogs&&console.log(P.type,"->",p(P.size)),D){var $;try{$=c.createObjectURL(P)}catch{}typeof D.call=="function"?D.call(I,$):D($)}h.autoWriteToDisk&&Y(function(re){var ue={};ue[h.type+"Blob"]=re,pe.Store(ue)})}}function V(){if(!R){X();return}if(I.state!=="recording"){h.disableLogs||console.warn("Unable to pause the recording. Recording state: ",I.state);return}Z("paused"),R.pause(),h.disableLogs||console.log("Paused recording.")}function A(){if(!R){X();return}if(I.state!=="paused"){h.disableLogs||console.warn("Unable to resume the recording. Recording state: ",I.state);return}Z("recording"),R.resume(),h.disableLogs||console.log("Resumed recording.")}function q(D){postMessage(new FileReaderSync().readAsDataURL(D))}function Y(D,K){if(!D)throw"Pass a callback function over getDataURL.";var se=K?K.blob:(R||{}).blob;if(!se){h.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){Y(D,K)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var P=re(q);P.onmessage=function(ue){D(ue.data)},P.postMessage(se)}else{var $=new FileReader;$.readAsDataURL(se),$.onload=function(ue){D(ue.target.result)}}function re(ue){try{var Ce=c.createObjectURL(new Blob([ue.toString(),"this.onmessage =  function (eee) {"+ue.name+"(eee.data);}"],{type:"application/javascript"})),_e=new Worker(Ce);return c.revokeObjectURL(Ce),_e}catch{}}}function W(D){if(D=D||0,I.state==="paused"){setTimeout(function(){W(D)},1e3);return}if(I.state!=="stopped"){if(D>=I.recordingDuration){M(I.onRecordingStopped);return}D+=1e3,setTimeout(function(){W(D)},1e3)}}function Z(D){I&&(I.state=D,typeof I.onStateChanged.call=="function"?I.onStateChanged.call(I,D):I.onStateChanged(D))}var G='It seems that recorder is destroyed or "startRecording" is not invoked for '+h.type+" recorder.";function X(){h.disableLogs!==!0&&console.warn(G)}var R,U={startRecording:O,stopRecording:M,pauseRecording:V,resumeRecording:A,initRecorder:N,setRecordingDuration:function(D,K){if(typeof D>"u")throw"recordingDuration is required.";if(typeof D!="number")throw"recordingDuration must be a number.";return I.recordingDuration=D,I.onRecordingStopped=K||function(){},{onRecordingStopped:function(se){I.onRecordingStopped=se}}},clearRecordedData:function(){if(!R){X();return}R.clearRecordedData(),h.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!R){X();return}return R.blob},getDataURL:Y,toURL:function(){if(!R){X();return}return c.createObjectURL(R.blob)},getInternalRecorder:function(){return R},save:function(D){if(!R){X();return}g(R.blob,D)},getFromDisk:function(D){if(!R){X();return}e.getFromDisk(h.type,D)},setAdvertisementArray:function(D){h.advertisement=[];for(var K=D.length,se=0;se<K;se++)h.advertisement.push({duration:se,image:D[se]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){I.state==="recording"&&!h.disableLogs&&console.warn("Stop an active recorder."),R&&typeof R.clearRecordedData=="function"&&R.clearRecordedData(),R=null,Z("inactive"),I.blob=null},onStateChanged:function(D){h.disableLogs||console.log("Recorder state changed:",D)},state:"inactive",getState:function(){return I.state},destroy:function(){var D=h.disableLogs;h={disableLogs:!0},I.reset(),Z("destroyed"),U=I=null,k.AudioContextConstructor&&(k.AudioContextConstructor.close(),k.AudioContextConstructor=null),h.disableLogs=D,h.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return I=U,U;for(var ee in U)this[ee]=U[ee];return I=this,U}e.version="5.6.2",t.exports=e,e.getFromDisk=function(S,h){if(!h)throw"callback is mandatory.";console.log("Getting recorded "+(S==="all"?"blobs":S+" blob ")+" from disk!"),pe.Fetch(function(I,O){S!=="all"&&O===S+"Blob"&&h&&h(I),S==="all"&&h&&h(I,O.replace("Blob",""))})},e.writeToDisk=function(S){console.log("Writing recorded blob(s) to disk!"),S=S||{},S.audio&&S.video&&S.gif?S.audio.getDataURL(function(h){S.video.getDataURL(function(I){S.gif.getDataURL(function(O){pe.Store({audioBlob:h,videoBlob:I,gifBlob:O})})})}):S.audio&&S.video?S.audio.getDataURL(function(h){S.video.getDataURL(function(I){pe.Store({audioBlob:h,videoBlob:I})})}):S.audio&&S.gif?S.audio.getDataURL(function(h){S.gif.getDataURL(function(I){pe.Store({audioBlob:h,gifBlob:I})})}):S.video&&S.gif?S.video.getDataURL(function(h){S.gif.getDataURL(function(I){pe.Store({videoBlob:h,gifBlob:I})})}):S.audio?S.audio.getDataURL(function(h){pe.Store({audioBlob:h})}):S.video?S.video.getDataURL(function(h){pe.Store({videoBlob:h})}):S.gif&&S.gif.getDataURL(function(h){pe.Store({gifBlob:h})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function n(S,h){return!h.recorderType&&!h.type&&(h.audio&&h.video?h.type="video":h.audio&&!h.video&&(h.type="audio")),h.recorderType&&!h.type&&(h.recorderType===fe||h.recorderType===te||typeof oe<"u"&&h.recorderType===oe?h.type="video":h.recorderType===Te?h.type="gif":h.recorderType===H?h.type="audio":h.recorderType===L&&(_(S,"audio").length&&_(S,"video").length||!_(S,"audio").length&&_(S,"video").length?h.type="video":_(S,"audio").length&&!_(S,"video").length&&(h.type="audio"))),typeof L<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(h.mimeType||(h.mimeType="video/webm"),h.type||(h.type=h.mimeType.split("/")[0]),h.bitsPerSecond),h.type||(h.mimeType&&(h.type=h.mimeType.split("/")[0]),h.type||(h.type="audio")),h}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function r(S,h){var I;return(y||d||f)&&(I=H),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!y&&(I=L),h.type==="video"&&(y||f)&&(I=fe,typeof oe<"u"&&typeof ReadableStream<"u"&&(I=oe)),h.type==="gif"&&(I=Te),h.type==="canvas"&&(I=te),F()&&I!==te&&I!==Te&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(_(S,"video").length||_(S,"audio").length)&&(h.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(I=L):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(I=L)),S instanceof Array&&S.length&&(I=Ze),h.recorderType&&(I=h.recorderType),!h.disableLogs&&I&&I.name&&console.log("Using recorderType:",I.name||I.constructor.name),!I&&w&&(I=L),I}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function i(S){this.addStream=function(h){h&&(S=h)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var h=this.mediaType,I,O=this.mimeType||{audio:null,video:null,gif:null};if(typeof h.audio!="function"&&F()&&!_(S,"audio").length&&(h.audio=!1),typeof h.video!="function"&&F()&&!_(S,"video").length&&(h.video=!1),typeof h.gif!="function"&&F()&&!_(S,"video").length&&(h.gif=!1),!h.audio&&!h.video&&!h.gif)throw"MediaStream must have either audio or video tracks.";if(h.audio&&(I=null,typeof h.audio=="function"&&(I=h.audio),this.audioRecorder=new e(S,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:I,mimeType:O.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),h.video||this.audioRecorder.startRecording()),h.video){I=null,typeof h.video=="function"&&(I=h.video);var N=S;if(F()&&h.audio&&typeof h.audio=="function"){var M=_(S,"video")[0];m?(N=new T,N.addTrack(M),I&&I===fe&&(I=L)):(N=new T,N.addTrack(M))}this.videoRecorder=new e(N,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:I,mimeType:O.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),h.audio||this.videoRecorder.startRecording()}if(h.audio&&h.video){var V=this,A=F()===!0;(h.audio instanceof H&&h.video||h.audio!==!0&&h.video!==!0&&h.audio!==h.video)&&(A=!1),A===!0?(V.audioRecorder=null,V.videoRecorder.startRecording()):V.videoRecorder.initRecorder(function(){V.audioRecorder.initRecorder(function(){V.videoRecorder.startRecording(),V.audioRecorder.startRecording()})})}h.gif&&(I=null,typeof h.gif=="function"&&(I=h.gif),this.gifRecorder=new e(S,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:I,mimeType:O.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(h){h=h||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(I){h(I,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(I){h(I,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(I){h(I,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(h){var I={};return this.audioRecorder&&(I.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(I.video=this.videoRecorder.getBlob()),this.gifRecorder&&(I.gif=this.gifRecorder.getBlob()),h&&h(I),I},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(h){this.getBlob(function(N){N.audio&&N.video?I(N.audio,function(M){I(N.video,function(V){h({audio:M,video:V})})}):N.audio?I(N.audio,function(M){h({audio:M})}):N.video&&I(N.video,function(M){h({video:M})})});function I(N,M){if(typeof Worker<"u"){var V=O(function(Y){postMessage(new FileReaderSync().readAsDataURL(Y))});V.onmessage=function(q){M(q.data)},V.postMessage(N)}else{var A=new FileReader;A.readAsDataURL(N),A.onload=function(q){M(q.target.result)}}}function O(N){var M=c.createObjectURL(new Blob([N.toString(),"this.onmessage =  function (eee) {"+N.name+"(eee.data);}"],{type:"application/javascript"})),V=new Worker(M),A;if(typeof c<"u")A=c;else if(typeof webkitURL<"u")A=webkitURL;else throw"Neither URL nor webkitURL detected.";return A.revokeObjectURL(M),V}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(h){h=h||{audio:!0,video:!0,gif:!0},h.audio&&this.audioRecorder&&this.audioRecorder.save(typeof h.audio=="string"?h.audio:""),h.video&&this.videoRecorder&&this.videoRecorder.save(typeof h.video=="string"?h.video:""),h.gif&&this.gifRecorder&&this.gifRecorder.save(typeof h.gif=="string"?h.gif:"")}}i.getFromDisk=e.getFromDisk,i.writeToDisk=e.writeToDisk,typeof e<"u"&&(e.MRecordRTC=i);var o="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(S){S&&(typeof window<"u"||typeof Ae>"u"||(Ae.navigator={userAgent:o,getUserMedia:function(){}},Ae.console||(Ae.console={}),(typeof Ae.console.log>"u"||typeof Ae.console.error>"u")&&(Ae.console.error=Ae.console.log=Ae.console.log||function(){console.log(arguments)}),typeof document>"u"&&(S.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var h={getContext:function(){return h},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return h},S.HTMLVideoElement=function(){}),typeof location>"u"&&(S.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(S.screen={width:0,height:0}),typeof c>"u"&&(S.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),S.window=Ae))})(typeof Ae<"u"?Ae:null);var s=window.requestAnimationFrame;if(typeof s>"u"){if(typeof webkitRequestAnimationFrame<"u")s=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")s=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")s=msRequestAnimationFrame;else if(typeof s>"u"){var a=0;s=function(S,h){var I=new Date().getTime(),O=Math.max(0,16-(I-a)),N=setTimeout(function(){S(I+O)},O);return a=I+O,N}}}var u=window.cancelAnimationFrame;typeof u>"u"&&(typeof webkitCancelAnimationFrame<"u"?u=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?u=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?u=msCancelAnimationFrame:typeof u>"u"&&(u=function(S){clearTimeout(S)}));var l=window.AudioContext;typeof l>"u"&&(typeof webkitAudioContext<"u"&&(l=webkitAudioContext),typeof mozAudioContext<"u"&&(l=mozAudioContext));var c=window.URL;typeof c>"u"&&typeof webkitURL<"u"&&(c=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var d=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),f=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),y=!f&&!d&&!!navigator.webkitGetUserMedia||v()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,w=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);w&&!y&&navigator.userAgent.indexOf("CriOS")!==-1&&(w=!1,y=!0);var T=window.MediaStream;typeof T>"u"&&typeof webkitMediaStream<"u"&&(T=webkitMediaStream),typeof T<"u"&&typeof T.prototype.stop>"u"&&(T.prototype.stop=function(){this.getTracks().forEach(function(S){S.stop()})});function p(S){var h=1e3,I=["Bytes","KB","MB","GB","TB"];if(S===0)return"0 Bytes";var O=parseInt(Math.floor(Math.log(S)/Math.log(h)),10);return(S/Math.pow(h,O)).toPrecision(3)+" "+I[O]}function g(S,h){if(!S)throw"Blob object is required.";if(!S.type)try{S.type="video/webm"}catch{}var I=(S.type||"video/webm").split("/")[1];if(I.indexOf(";")!==-1&&(I=I.split(";")[0]),h&&h.indexOf(".")!==-1){var O=h.split(".");h=O[0],I=O[1]}var N=(h||Math.round(Math.random()*9999999999)+888888888)+"."+I;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(S,N);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(S,N);var M=document.createElement("a");M.href=c.createObjectURL(S),M.download=N,M.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(M),typeof M.click=="function"?M.click():(M.target="_blank",M.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),c.revokeObjectURL(M.href)}function v(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function _(S,h){return!S||!S.getTracks?[]:S.getTracks().filter(function(I){return I.kind===(h||"audio")})}function x(S,h){"srcObject"in h?h.srcObject=S:"mozSrcObject"in h?h.mozSrcObject=S:h.srcObject=S}function C(S,h){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var I=new EBML.Reader,O=new EBML.Decoder,N=EBML.tools,M=new FileReader;M.onload=function(V){var A=O.decode(this.result);A.forEach(function(Z){I.read(Z)}),I.stop();var q=N.makeMetadataSeekable(I.metadatas,I.duration,I.cues),Y=this.result.slice(I.metadataSize),W=new Blob([q,Y],{type:"video/webm"});h(W)},M.readAsArrayBuffer(S)}typeof e<"u"&&(e.invokeSaveAsDialog=g,e.getTracks=_,e.getSeekableBlob=C,e.bytesToSize=p,e.isElectron=v);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var k={};typeof l<"u"?k.AudioContext=l:typeof webkitAudioContext<"u"&&(k.AudioContext=webkitAudioContext),typeof e<"u"&&(e.Storage=k);function F(){if(m||w||d)return!0;var S=navigator.userAgent,h=""+parseFloat(navigator.appVersion),I=parseInt(navigator.appVersion,10),O,N;return(y||f)&&(O=S.indexOf("Chrome"),h=S.substring(O+7)),(N=h.indexOf(";"))!==-1&&(h=h.substring(0,N)),(N=h.indexOf(" "))!==-1&&(h=h.substring(0,N)),I=parseInt(""+h,10),isNaN(I)&&(h=""+parseFloat(navigator.appVersion),I=parseInt(navigator.appVersion,10)),I>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function L(S,h){var W=this;if(typeof S>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(h=h||{mimeType:"video/webm"},h.type==="audio"){if(_(S,"video").length&&_(S,"audio").length){var I;navigator.mozGetUserMedia?(I=new T,I.addTrack(_(S,"audio")[0])):I=new T(_(S,"audio")),S=I}(!h.mimeType||h.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(h.mimeType=y?"audio/webm":"audio/ogg"),h.mimeType&&h.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(h.mimeType="audio/ogg")}var O=[];this.getArrayOfBlobs=function(){return O},this.record=function(){W.blob=null,W.clearRecordedData(),W.timestamps=[],Y=[],O=[];var Z=h;h.disableLogs||console.log("Passing following config over MediaRecorder API.",Z),A&&(A=null),y&&!F()&&(Z="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&Z.mimeType&&(MediaRecorder.isTypeSupported(Z.mimeType)||(h.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Z.mimeType),Z.mimeType=h.type==="audio"?"audio/webm":"video/webm"));try{A=new MediaRecorder(S,Z),h.mimeType=Z.mimeType}catch{A=new MediaRecorder(S)}Z.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in A&&A.canRecordMimeType(Z.mimeType)===!1&&(h.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Z.mimeType)),A.ondataavailable=function(G){if(G.data&&Y.push("ondataavailable: "+p(G.data.size)),typeof h.timeSlice=="number"){if(G.data&&G.data.size&&(O.push(G.data),N(),typeof h.ondataavailable=="function")){var X=h.getNativeBlob?G.data:new Blob([G.data],{type:M(Z)});h.ondataavailable(X)}return}if(!G.data||!G.data.size||G.data.size<100||W.blob){W.recordingCallback&&(W.recordingCallback(new Blob([],{type:M(Z)})),W.recordingCallback=null);return}W.blob=h.getNativeBlob?G.data:new Blob([G.data],{type:M(Z)}),W.recordingCallback&&(W.recordingCallback(W.blob),W.recordingCallback=null)},A.onstart=function(){Y.push("started")},A.onpause=function(){Y.push("paused")},A.onresume=function(){Y.push("resumed")},A.onstop=function(){Y.push("stopped")},A.onerror=function(G){G&&(G.name||(G.name="UnknownError"),Y.push("error: "+G),h.disableLogs||(G.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",G):G.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",Z.mimeType,") is not supported.",G):G.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",G):G.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",G):G.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",G):G.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",G):G.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",G):console.error("MediaRecorder Error",G)),function(X){if(!W.manuallyStopped&&A&&A.state==="inactive"){delete h.timeslice,A.start(10*60*1e3);return}setTimeout(X,1e3)}(),A.state!=="inactive"&&A.state!=="stopped"&&A.stop())},typeof h.timeSlice=="number"?(N(),A.start(h.timeSlice)):A.start(36e5),h.initCallback&&h.initCallback()},this.timestamps=[];function N(){W.timestamps.push(new Date().getTime()),typeof h.onTimeStamp=="function"&&h.onTimeStamp(W.timestamps[W.timestamps.length-1],W.timestamps)}function M(Z){return A&&A.mimeType?A.mimeType:Z.mimeType||"video/webm"}this.stop=function(Z){Z=Z||function(){},W.manuallyStopped=!0,A&&(this.recordingCallback=Z,A.state==="recording"&&A.stop(),typeof h.timeSlice=="number"&&setTimeout(function(){W.blob=new Blob(O,{type:M(h)}),W.recordingCallback(W.blob)},100))},this.pause=function(){A&&A.state==="recording"&&A.pause()},this.resume=function(){A&&A.state==="paused"&&A.resume()},this.clearRecordedData=function(){A&&A.state==="recording"&&W.stop(V),V()};function V(){O=[],A=null,W.timestamps=[]}var A;this.getInternalRecorder=function(){return A};function q(){if("active"in S){if(!S.active)return!1}else if("ended"in S&&S.ended)return!1;return!0}this.blob=null,this.getState=function(){return A&&A.state||"inactive"};var Y=[];this.getAllStates=function(){return Y},typeof h.checkForInactiveTracks>"u"&&(h.checkForInactiveTracks=!1);var W=this;(function Z(){if(!(!A||h.checkForInactiveTracks===!1)){if(q()===!1){h.disableLogs||console.log("MediaStream seems stopped."),W.stop();return}setTimeout(Z,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MediaStreamRecorder=L);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function H(S,h){if(!_(S,"audio").length)throw"Your stream has no audio tracks.";h=h||{};var I=this,O=[],N=[],M=!1,V=0,A,q=2,Y=h.desiredSampRate;h.leftChannel===!0&&(q=1),h.numberOfAudioChannels===1&&(q=1),(!q||q<1)&&(q=2),h.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+q),typeof h.checkForInactiveTracks>"u"&&(h.checkForInactiveTracks=!0);function W(){if(h.checkForInactiveTracks===!1)return!0;if("active"in S){if(!S.active)return!1}else if("ended"in S&&S.ended)return!1;return!0}this.record=function(){if(W()===!1)throw"Please make sure MediaStream is active.";se(),$=K=!1,M=!0,typeof h.timeSlice<"u"&&Ce()};function Z(_e,zt){function lt(ct,ro){var $n=ct.numberOfAudioChannels,Jt=ct.leftBuffers.slice(0),Nr=ct.rightBuffers.slice(0),Bn=ct.sampleRate,ur=ct.internalInterleavedLength,ln=ct.desiredSampRate;$n===2&&(Jt=uh(Jt,ur),Nr=uh(Nr,ur),ln&&(Jt=Si(Jt,ln,Bn),Nr=Si(Nr,ln,Bn))),$n===1&&(Jt=uh(Jt,ur),ln&&(Jt=Si(Jt,ln,Bn))),ln&&(Bn=ln);function Si(dt,zn,_n){var En=Math.round(dt.length*(zn/_n)),Ht=[],lr=Number((dt.length-1)/(En-1));Ht[0]=dt[0];for(var Ti=1;Ti<En-1;Ti++){var dh=Ti*lr,Nv=Number(Math.floor(dh)).toFixed(),fb=Number(Math.ceil(dh)).toFixed(),pb=dh-Nv;Ht[Ti]=ah(dt[Nv],dt[fb],pb)}return Ht[En-1]=dt[dt.length-1],Ht}function ah(dt,zn,_n){return dt+(zn-dt)*_n}function uh(dt,zn){for(var _n=new Float64Array(zn),En=0,Ht=dt.length,lr=0;lr<Ht;lr++){var Ti=dt[lr];_n.set(Ti,En),En+=Ti.length}return _n}function lb(dt,zn){for(var _n=dt.length+zn.length,En=new Float64Array(_n),Ht=0,lr=0;lr<_n;)En[lr++]=dt[Ht],En[lr++]=zn[Ht],Ht++;return En}function Eu(dt,zn,_n){for(var En=_n.length,Ht=0;Ht<En;Ht++)dt.setUint8(zn+Ht,_n.charCodeAt(Ht))}var Su;$n===2&&(Su=lb(Jt,Nr)),$n===1&&(Su=Jt);var Tu=Su.length,cb=44+Tu*2,lh=new ArrayBuffer(cb),Rt=new DataView(lh);Eu(Rt,0,"RIFF"),Rt.setUint32(4,36+Tu*2,!0),Eu(Rt,8,"WAVE"),Eu(Rt,12,"fmt "),Rt.setUint32(16,16,!0),Rt.setUint16(20,1,!0),Rt.setUint16(22,$n,!0),Rt.setUint32(24,Bn,!0),Rt.setUint32(28,Bn*$n*2,!0),Rt.setUint16(32,$n*2,!0),Rt.setUint16(34,16,!0),Eu(Rt,36,"data"),Rt.setUint32(40,Tu*2,!0);for(var db=Tu,Ov=44,hb=1,ch=0;ch<db;ch++)Rt.setInt16(Ov,Su[ch]*(32767*hb),!0),Ov+=2;if(ro)return ro({buffer:lh,view:Rt});postMessage({buffer:lh,view:Rt})}if(_e.noWorker){lt(_e,function(ct){zt(ct.buffer,ct.view)});return}var Or=G(lt);Or.onmessage=function(ct){zt(ct.data.buffer,ct.data.view),c.revokeObjectURL(Or.workerURL),Or.terminate()},Or.postMessage(_e)}function G(_e){var zt=c.createObjectURL(new Blob([_e.toString(),";this.onmessage =  function (eee) {"+_e.name+"(eee.data);}"],{type:"application/javascript"})),lt=new Worker(zt);return lt.workerURL=zt,lt}this.stop=function(_e){_e=_e||function(){},M=!1,Z({desiredSampRate:Y,sampleRate:D,numberOfAudioChannels:q,internalInterleavedLength:V,leftBuffers:O,rightBuffers:q===1?[]:N,noWorker:h.noWorker},function(zt,lt){I.blob=new Blob([lt],{type:"audio/wav"}),I.buffer=new ArrayBuffer(lt.buffer.byteLength),I.view=lt,I.sampleRate=Y||D,I.bufferSize=ee,I.length=V,$=!1,_e&&_e(I.blob)})},typeof e.Storage>"u"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var X=e.Storage.AudioContextConstructor,R=X.createMediaStreamSource(S),U=[0,256,512,1024,2048,4096,8192,16384],ee=typeof h.bufferSize>"u"?4096:h.bufferSize;if(U.indexOf(ee)===-1&&(h.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(U,null,"	"))),X.createJavaScriptNode)A=X.createJavaScriptNode(ee,q,q);else if(X.createScriptProcessor)A=X.createScriptProcessor(ee,q,q);else throw"WebAudio API has no support on this browser.";R.connect(A),h.bufferSize||(ee=A.bufferSize);var D=typeof h.sampleRate<"u"?h.sampleRate:X.sampleRate||44100;(D<22050||D>96e3)&&(h.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),h.disableLogs||h.desiredSampRate&&console.log("Desired sample-rate: "+h.desiredSampRate);var K=!1;this.pause=function(){K=!0},this.resume=function(){if(W()===!1)throw"Please make sure MediaStream is active.";if(!M){h.disableLogs||console.log("Seems recording has been restarted."),this.record();return}K=!1},this.clearRecordedData=function(){h.checkForInactiveTracks=!1,M&&this.stop(P),P()};function se(){O=[],N=[],V=0,$=!1,M=!1,K=!1,X=null,I.leftchannel=O,I.rightchannel=N,I.numberOfAudioChannels=q,I.desiredSampRate=Y,I.sampleRate=D,I.recordingLength=V,ue={left:[],right:[],recordingLength:0}}function P(){A&&(A.onaudioprocess=null,A.disconnect(),A=null),R&&(R.disconnect(),R=null),se()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var $=!1;function re(_e){if(!K){if(W()===!1&&(h.disableLogs||console.log("MediaStream seems stopped."),A.disconnect(),M=!1),!M){R&&(R.disconnect(),R=null);return}$||($=!0,h.onAudioProcessStarted&&h.onAudioProcessStarted(),h.initCallback&&h.initCallback());var zt=_e.inputBuffer.getChannelData(0),lt=new Float32Array(zt);if(O.push(lt),q===2){var Or=_e.inputBuffer.getChannelData(1),ct=new Float32Array(Or);N.push(ct)}V+=ee,I.recordingLength=V,typeof h.timeSlice<"u"&&(ue.recordingLength+=ee,ue.left.push(lt),q===2&&ue.right.push(ct))}}A.onaudioprocess=re,X.createMediaStreamDestination?A.connect(X.createMediaStreamDestination()):A.connect(X.destination),this.leftchannel=O,this.rightchannel=N,this.numberOfAudioChannels=q,this.desiredSampRate=Y,this.sampleRate=D,I.recordingLength=V;var ue={left:[],right:[],recordingLength:0};function Ce(){!M||typeof h.ondataavailable!="function"||typeof h.timeSlice>"u"||(ue.left.length?(Z({desiredSampRate:Y,sampleRate:D,numberOfAudioChannels:q,internalInterleavedLength:ue.recordingLength,leftBuffers:ue.left,rightBuffers:q===1?[]:ue.right},function(_e,zt){var lt=new Blob([zt],{type:"audio/wav"});h.ondataavailable(lt),setTimeout(Ce,h.timeSlice)}),ue={left:[],right:[],recordingLength:0}):setTimeout(Ce,h.timeSlice))}}typeof e<"u"&&(e.StereoAudioRecorder=H);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function te(S,h){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";h=h||{},h.frameInterval||(h.frameInterval=10);var I=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(U){U in document.createElement("canvas")&&(I=!0)});var O=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,N=50,M=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);O&&M&&M[2]&&(N=parseInt(M[2],10)),O&&N<52&&(I=!1),h.useWhammyRecorder&&(I=!1);var V,A;if(I)if(h.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),S instanceof HTMLCanvasElement)V=S;else if(S instanceof CanvasRenderingContext2D)V=S.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(h.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var q;this.record=function(){if(q=!0,I&&!h.useWhammyRecorder){var U;"captureStream"in V?U=V.captureStream(25):"mozCaptureStream"in V?U=V.mozCaptureStream(25):"webkitCaptureStream"in V&&(U=V.webkitCaptureStream(25));try{var ee=new T;ee.addTrack(_(U,"video")[0]),U=ee}catch{}if(!U)throw"captureStream API are NOT available.";A=new L(U,{mimeType:h.mimeType||"video/webm"}),A.record()}else R.frames=[],X=new Date().getTime(),G();h.initCallback&&h.initCallback()},this.getWebPImages=function(U){if(S.nodeName.toLowerCase()!=="canvas"){U();return}var ee=R.frames.length;R.frames.forEach(function(D,K){var se=ee-K;h.disableLogs||console.log(se+"/"+ee+" frames remaining"),h.onEncodingCallback&&h.onEncodingCallback(se,ee);var P=D.image.toDataURL("image/webp",1);R.frames[K].image=P}),h.disableLogs||console.log("Generating WebM"),U()},this.stop=function(U){q=!1;var ee=this;if(I&&A){A.stop(U);return}this.getWebPImages(function(){R.compile(function(D){h.disableLogs||console.log("Recording finished!"),ee.blob=D,ee.blob.forEach&&(ee.blob=new Blob([],{type:"video/webm"})),U&&U(ee.blob),R.frames=[]})})};var Y=!1;this.pause=function(){if(Y=!0,A instanceof L){A.pause();return}},this.resume=function(){if(Y=!1,A instanceof L){A.resume();return}q||this.record()},this.clearRecordedData=function(){q&&this.stop(W),W()};function W(){R.frames=[],q=!1,Y=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function Z(){var U=document.createElement("canvas"),ee=U.getContext("2d");return U.width=S.width,U.height=S.height,ee.drawImage(S,0,0),U}function G(){if(Y)return X=new Date().getTime(),setTimeout(G,500);if(S.nodeName.toLowerCase()==="canvas"){var U=new Date().getTime()-X;X=new Date().getTime(),R.frames.push({image:Z(),duration:U}),q&&setTimeout(G,h.frameInterval);return}html2canvas(S,{grabMouse:typeof h.showMousePointer>"u"||h.showMousePointer,onrendered:function(ee){var D=new Date().getTime()-X;if(!D)return setTimeout(G,h.frameInterval);X=new Date().getTime(),R.frames.push({image:ee.toDataURL("image/webp",1),duration:D}),q&&setTimeout(G,h.frameInterval)}})}var X=new Date().getTime(),R=new be.Video(100)}typeof e<"u"&&(e.CanvasRecorder=te);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function fe(S,h){h=h||{},h.frameInterval||(h.frameInterval=10),h.disableLogs||console.log("Using frames-interval:",h.frameInterval),this.record=function(){h.width||(h.width=320),h.height||(h.height=240),h.video||(h.video={width:h.width,height:h.height}),h.canvas||(h.canvas={width:h.width,height:h.height}),q.width=h.canvas.width||320,q.height=h.canvas.height||240,Y=q.getContext("2d"),h.video&&h.video instanceof HTMLVideoElement?(W=h.video.cloneNode(),h.initCallback&&h.initCallback()):(W=document.createElement("video"),x(S,W),W.onloadedmetadata=function(){h.initCallback&&h.initCallback()},W.width=h.video.width,W.height=h.video.height),W.muted=!0,W.play(),Z=new Date().getTime(),G=new be.Video,h.disableLogs||(console.log("canvas resolutions",q.width,"*",q.height),console.log("video width/height",W.width||q.width,"*",W.height||q.height)),I(h.frameInterval)};function I(X){X=typeof X<"u"?X:10;var R=new Date().getTime()-Z;if(!R)return setTimeout(I,X,X);if(V)return Z=new Date().getTime(),setTimeout(I,100);Z=new Date().getTime(),W.paused&&W.play(),Y.drawImage(W,0,0,q.width,q.height),G.frames.push({duration:R,image:q.toDataURL("image/webp")}),M||setTimeout(I,X,X)}function O(X){var R=-1,U=X.length;(function ee(){if(R++,R===U){X.callback();return}setTimeout(function(){X.functionToLoop(ee,R)},1)})()}function N(X,R,U,ee,D){var K=document.createElement("canvas");K.width=q.width,K.height=q.height;var se=K.getContext("2d"),P=[],$=R===-1,re=R&&R>0&&R<=X.length?R:X.length,ue={r:0,g:0,b:0},Ce=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),_e=U&&U>=0&&U<=1?U:0,zt=ee&&ee>=0&&ee<=1?ee:0,lt=!1;O({length:re,functionToLoop:function(Or,ct){var ro,$n,Jt,Nr=function(){!lt&&Jt-ro<=Jt*zt||($&&(lt=!0),P.push(X[ct])),Or()};if(lt)Nr();else{var Bn=new Image;Bn.onload=function(){se.drawImage(Bn,0,0,q.width,q.height);var ur=se.getImageData(0,0,q.width,q.height);ro=0,$n=ur.data.length,Jt=ur.data.length/4;for(var ln=0;ln<$n;ln+=4){var Si={r:ur.data[ln],g:ur.data[ln+1],b:ur.data[ln+2]},ah=Math.sqrt(Math.pow(Si.r-ue.r,2)+Math.pow(Si.g-ue.g,2)+Math.pow(Si.b-ue.b,2));ah<=Ce*_e&&ro++}Nr()},Bn.src=X[ct].image}},callback:function(){P=P.concat(X.slice(re)),P.length<=0&&P.push(X[X.length-1]),D(P)}})}var M=!1;this.stop=function(X){X=X||function(){},M=!0;var R=this;setTimeout(function(){N(G.frames,-1,null,null,function(U){G.frames=U,h.advertisement&&h.advertisement.length&&(G.frames=h.advertisement.concat(G.frames)),G.compile(function(ee){R.blob=ee,R.blob.forEach&&(R.blob=new Blob([],{type:"video/webm"})),X&&X(R.blob)})})},10)};var V=!1;this.pause=function(){V=!0},this.resume=function(){V=!1,M&&this.record()},this.clearRecordedData=function(){M||this.stop(A),A()};function A(){G.frames=[],M=!0,V=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var q=document.createElement("canvas"),Y=q.getContext("2d"),W,Z,G}typeof e<"u"&&(e.WhammyRecorder=fe);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var be=function(){function S(O){this.frames=[],this.duration=O||1,this.quality=.8}S.prototype.add=function(O,N){if("canvas"in O&&(O=O.canvas),"toDataURL"in O&&(O=O.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(O))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:O,duration:N||this.duration})};function h(O){var N=c.createObjectURL(new Blob([O.toString(),"this.onmessage =  function (eee) {"+O.name+"(eee.data);}"],{type:"application/javascript"})),M=new Worker(N);return c.revokeObjectURL(N),M}function I(O){function N(D){var K=V(D);if(!K)return[];for(var se=3e4,P=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:U(K.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:K.width,id:176},{data:K.height,id:186}]}]}]}]}],$=0,re=0;$<D.length;){var ue=[],Ce=0;do ue.push(D[$]),Ce+=D[$].duration,$++;while($<D.length&&Ce<se);var _e=0,zt={id:524531317,data:M(re,_e,ue)};P[1].data.push(zt),re+=Ce}return W(P)}function M(D,K,se){return[{data:D,id:231}].concat(se.map(function(P){var $=Z({discardable:0,frame:P.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(K)});return K+=P.duration,{data:$,id:163}}))}function V(D){if(!D[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var K=D[0].width,se=D[0].height,P=D[0].duration,$=1;$<D.length;$++)P+=D[$].duration;return{duration:P,width:K,height:se}}function A(D){for(var K=[];D>0;)K.push(D&255),D=D>>8;return new Uint8Array(K.reverse())}function q(D){return new Uint8Array(D.split("").map(function(K){return K.charCodeAt(0)}))}function Y(D){var K=[],se=D.length%8?new Array(9-D.length%8).join("0"):"";D=se+D;for(var P=0;P<D.length;P+=8)K.push(parseInt(D.substr(P,8),2));return new Uint8Array(K)}function W(D){for(var K=[],se=0;se<D.length;se++){var P=D[se].data;typeof P=="object"&&(P=W(P)),typeof P=="number"&&(P=Y(P.toString(2))),typeof P=="string"&&(P=q(P));var $=P.size||P.byteLength||P.length,re=Math.ceil(Math.ceil(Math.log($)/Math.log(2))/8),ue=$.toString(2),Ce=new Array(re*7+7+1-ue.length).join("0")+ue,_e=new Array(re).join("0")+"1"+Ce;K.push(A(D[se].id)),K.push(Y(_e)),K.push(P)}return new Blob(K,{type:"video/webm"})}function Z(D){var K=0;if(D.keyframe&&(K|=128),D.invisible&&(K|=8),D.lacing&&(K|=D.lacing<<1),D.discardable&&(K|=1),D.trackNum>127)throw"TrackNumber > 127 not supported";var se=[D.trackNum|128,D.timecode>>8,D.timecode&255,K].map(function(P){return String.fromCharCode(P)}).join("")+D.frame;return se}function G(D){for(var K=D.RIFF[0].WEBP[0],se=K.indexOf("*"),P=0,$=[];P<4;P++)$[P]=K.charCodeAt(se+3+P);var re,ue,Ce;return Ce=$[1]<<8|$[0],re=Ce&16383,Ce=$[3]<<8|$[2],ue=Ce&16383,{width:re,height:ue,data:K,riff:D}}function X(D,K){return parseInt(D.substr(K+4,4).split("").map(function(se){var P=se.charCodeAt(0).toString(2);return new Array(8-P.length+1).join("0")+P}).join(""),2)}function R(D){for(var K=0,se={};K<D.length;){var P=D.substr(K,4),$=X(D,K),re=D.substr(K+4+4,$);K+=4+4+$,se[P]=se[P]||[],P==="RIFF"||P==="LIST"?se[P].push(R(re)):se[P].push(re)}return se}function U(D){return[].slice.call(new Uint8Array(new Float64Array([D]).buffer),0).map(function(K){return String.fromCharCode(K)}).reverse().join("")}var ee=new N(O.map(function(D){var K=G(R(atob(D.image.slice(23))));return K.duration=D.duration,K}));postMessage(ee)}return S.prototype.compile=function(O){var N=h(I);N.onmessage=function(M){if(M.data.error){console.error(M.data.error);return}O(M.data)},N.postMessage(this.frames)},{Video:S}}();typeof e<"u"&&(e.Whammy=be);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var pe={init:function(){var S=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var h=1,I=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),O,N=indexedDB.open(I,h);function M(A){A.createObjectStore(S.dataStoreName)}function V(){var A=O.transaction([S.dataStoreName],"readwrite");S.videoBlob&&A.objectStore(S.dataStoreName).put(S.videoBlob,"videoBlob"),S.gifBlob&&A.objectStore(S.dataStoreName).put(S.gifBlob,"gifBlob"),S.audioBlob&&A.objectStore(S.dataStoreName).put(S.audioBlob,"audioBlob");function q(Y){A.objectStore(S.dataStoreName).get(Y).onsuccess=function(W){S.callback&&S.callback(W.target.result,Y)}}q("audioBlob"),q("videoBlob"),q("gifBlob")}N.onerror=S.onError,N.onsuccess=function(){if(O=N.result,O.onerror=S.onError,O.setVersion)if(O.version!==h){var A=O.setVersion(h);A.onsuccess=function(){M(O),V()}}else V();else V()},N.onupgradeneeded=function(A){M(A.target.result)}},Fetch:function(S){return this.callback=S,this.init(),this},Store:function(S){return this.audioBlob=S.audioBlob,this.videoBlob=S.videoBlob,this.gifBlob=S.gifBlob,this.init(),this},onError:function(S){console.error(JSON.stringify(S,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e<"u"&&(e.DiskStorage=pe);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function Te(S,h){if(typeof GIFEncoder>"u"){var I=document.createElement("script");I.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(I)}h=h||{};var O=S instanceof CanvasRenderingContext2D||S instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(X.record,1e3);return}if(!q){setTimeout(X.record,1e3);return}O||(h.width||(h.width=Y.offsetWidth||320),h.height||(h.height=Y.offsetHeight||240),h.video||(h.video={width:h.width,height:h.height}),h.canvas||(h.canvas={width:h.width,height:h.height}),V.width=h.canvas.width||320,V.height=h.canvas.height||240,Y.width=h.video.width||320,Y.height=h.video.height||240),G=new GIFEncoder,G.setRepeat(0),G.setDelay(h.frameRate||200),G.setQuality(h.quality||10),G.start(),typeof h.onGifRecordingStarted=="function"&&h.onGifRecordingStarted();function R(U){if(X.clearedRecordedData!==!0){if(N)return setTimeout(function(){R(U)},100);W=s(R),typeof Z===void 0&&(Z=U),!(U-Z<90)&&(!O&&Y.paused&&Y.play(),O||A.drawImage(Y,0,0,V.width,V.height),h.onGifPreview&&h.onGifPreview(V.toDataURL("image/png")),G.addFrame(A),Z=U)}}W=s(R),h.initCallback&&h.initCallback()},this.stop=function(R){R=R||function(){},W&&u(W),this.blob=new Blob([new Uint8Array(G.stream().bin)],{type:"image/gif"}),R(this.blob),G.stream().bin=[]};var N=!1;this.pause=function(){N=!0},this.resume=function(){N=!1},this.clearRecordedData=function(){X.clearedRecordedData=!0,M()};function M(){G&&(G.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var V=document.createElement("canvas"),A=V.getContext("2d");O&&(S instanceof CanvasRenderingContext2D?(A=S,V=A.canvas):S instanceof HTMLCanvasElement&&(A=S.getContext("2d"),V=S));var q=!0;if(!O){var Y=document.createElement("video");Y.muted=!0,Y.autoplay=!0,Y.playsInline=!0,q=!1,Y.onloadedmetadata=function(){q=!0},x(S,Y),Y.play()}var W=null,Z,G,X=this}typeof e<"u"&&(e.GifRecorder=Te);function Je(S,h){var I="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(P){typeof e<"u"||P&&(typeof window<"u"||typeof Ae>"u"||(Ae.navigator={userAgent:I,getUserMedia:function(){}},Ae.console||(Ae.console={}),(typeof Ae.console.log>"u"||typeof Ae.console.error>"u")&&(Ae.console.error=Ae.console.log=Ae.console.log||function(){console.log(arguments)}),typeof document>"u"&&(P.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var $={getContext:function(){return $},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return $},P.HTMLVideoElement=function(){}),typeof location>"u"&&(P.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(P.screen={width:0,height:0}),typeof Y>"u"&&(P.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),P.window=Ae))})(typeof Ae<"u"?Ae:null),h=h||"multi-streams-mixer";var O=[],N=!1,M=document.createElement("canvas"),V=M.getContext("2d");M.style.opacity=0,M.style.position="absolute",M.style.zIndex=-1,M.style.top="-1000em",M.style.left="-1000em",M.className=h,(document.body||document.documentElement).appendChild(M),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var A=this,q=window.AudioContext;typeof q>"u"&&(typeof webkitAudioContext<"u"&&(q=webkitAudioContext),typeof mozAudioContext<"u"&&(q=mozAudioContext));var Y=window.URL;typeof Y>"u"&&typeof webkitURL<"u"&&(Y=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var W=window.MediaStream;typeof W>"u"&&typeof webkitMediaStream<"u"&&(W=webkitMediaStream),typeof W<"u"&&typeof W.prototype.stop>"u"&&(W.prototype.stop=function(){this.getTracks().forEach(function(P){P.stop()})});var Z={};typeof q<"u"?Z.AudioContext=q:typeof webkitAudioContext<"u"&&(Z.AudioContext=webkitAudioContext);function G(P,$){"srcObject"in $?$.srcObject=P:"mozSrcObject"in $?$.mozSrcObject=P:$.srcObject=P}this.startDrawingFrames=function(){X()};function X(){if(!N){var P=O.length,$=!1,re=[];if(O.forEach(function(Ce){Ce.stream||(Ce.stream={}),Ce.stream.fullcanvas?$=Ce:re.push(Ce)}),$)M.width=$.stream.width,M.height=$.stream.height;else if(re.length){M.width=P>1?re[0].width*2:re[0].width;var ue=1;(P===3||P===4)&&(ue=2),(P===5||P===6)&&(ue=3),(P===7||P===8)&&(ue=4),(P===9||P===10)&&(ue=5),M.height=re[0].height*ue}else M.width=A.width||360,M.height=A.height||240;$&&$ instanceof HTMLVideoElement&&R($),re.forEach(function(Ce,_e){R(Ce,_e)}),setTimeout(X,A.frameInterval)}}function R(P,$){if(!N){var re=0,ue=0,Ce=P.width,_e=P.height;$===1&&(re=P.width),$===2&&(ue=P.height),$===3&&(re=P.width,ue=P.height),$===4&&(ue=P.height*2),$===5&&(re=P.width,ue=P.height*2),$===6&&(ue=P.height*3),$===7&&(re=P.width,ue=P.height*3),typeof P.stream.left<"u"&&(re=P.stream.left),typeof P.stream.top<"u"&&(ue=P.stream.top),typeof P.stream.width<"u"&&(Ce=P.stream.width),typeof P.stream.height<"u"&&(_e=P.stream.height),V.drawImage(P,re,ue,Ce,_e),typeof P.stream.onRender=="function"&&P.stream.onRender(V,re,ue,Ce,_e,$)}}function U(){N=!1;var P=ee(),$=D();return $&&$.getTracks().filter(function(re){return re.kind==="audio"}).forEach(function(re){P.addTrack(re)}),S.forEach(function(re){re.fullcanvas}),P}function ee(){se();var P;"captureStream"in M?P=M.captureStream():"mozCaptureStream"in M?P=M.mozCaptureStream():A.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var $=new W;return P.getTracks().filter(function(re){return re.kind==="video"}).forEach(function(re){$.addTrack(re)}),M.stream=$,$}function D(){Z.AudioContextConstructor||(Z.AudioContextConstructor=new Z.AudioContext),A.audioContext=Z.AudioContextConstructor,A.audioSources=[],A.useGainNode===!0&&(A.gainNode=A.audioContext.createGain(),A.gainNode.connect(A.audioContext.destination),A.gainNode.gain.value=0);var P=0;if(S.forEach(function($){if($.getTracks().filter(function(ue){return ue.kind==="audio"}).length){P++;var re=A.audioContext.createMediaStreamSource($);A.useGainNode===!0&&re.connect(A.gainNode),A.audioSources.push(re)}}),!!P)return A.audioDestination=A.audioContext.createMediaStreamDestination(),A.audioSources.forEach(function($){$.connect(A.audioDestination)}),A.audioDestination.stream}function K(P){var $=document.createElement("video");return G(P,$),$.className=h,$.muted=!0,$.volume=0,$.width=P.width||A.width||360,$.height=P.height||A.height||240,$.play(),$}this.appendStreams=function(P){if(!P)throw"First parameter is required.";P instanceof Array||(P=[P]),P.forEach(function($){var re=new W;if($.getTracks().filter(function(_e){return _e.kind==="video"}).length){var ue=K($);ue.stream=$,O.push(ue),re.addTrack($.getTracks().filter(function(_e){return _e.kind==="video"})[0])}if($.getTracks().filter(function(_e){return _e.kind==="audio"}).length){var Ce=A.audioContext.createMediaStreamSource($);A.audioDestination=A.audioContext.createMediaStreamDestination(),Ce.connect(A.audioDestination),re.addTrack(A.audioDestination.stream.getTracks().filter(function(_e){return _e.kind==="audio"})[0])}S.push(re)})},this.releaseStreams=function(){O=[],N=!0,A.gainNode&&(A.gainNode.disconnect(),A.gainNode=null),A.audioSources.length&&(A.audioSources.forEach(function(P){P.disconnect()}),A.audioSources=[]),A.audioDestination&&(A.audioDestination.disconnect(),A.audioDestination=null),A.audioContext&&A.audioContext.close(),A.audioContext=null,V.clearRect(0,0,M.width,M.height),M.stream&&(M.stream.stop(),M.stream=null)},this.resetVideoStreams=function(P){P&&!(P instanceof Array)&&(P=[P]),se(P)};function se(P){O=[],P=P||S,P.forEach(function($){if($.getTracks().filter(function(ue){return ue.kind==="video"}).length){var re=K($);re.stream=$,O.push(re)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=U}typeof e>"u"&&(t.exports=Je);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function Ze(S,h){S=S||[];var I=this,O,N;h=h||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},h.frameInterval||(h.frameInterval=10),h.video||(h.video={}),h.video.width||(h.video.width=360),h.video.height||(h.video.height=240),this.record=function(){O=new Je(S,h.elementClass||"multi-streams-mixer"),M().length&&(O.frameInterval=h.frameInterval||10,O.width=h.video.width||360,O.height=h.video.height||240,O.startDrawingFrames()),h.previewStream&&typeof h.previewStream=="function"&&h.previewStream(O.getMixedStream()),N=new L(O.getMixedStream(),h),N.record()};function M(){var V=[];return S.forEach(function(A){_(A,"video").forEach(function(q){V.push(q)})}),V}this.stop=function(V){N&&N.stop(function(A){I.blob=A,V(A),I.clearRecordedData()})},this.pause=function(){N&&N.pause()},this.resume=function(){N&&N.resume()},this.clearRecordedData=function(){N&&(N.clearRecordedData(),N=null),O&&(O.releaseStreams(),O=null)},this.addStreams=function(V){if(!V)throw"First parameter is required.";V instanceof Array||(V=[V]),S.concat(V),!(!N||!O)&&(O.appendStreams(V),h.previewStream&&typeof h.previewStream=="function"&&h.previewStream(O.getMixedStream()))},this.resetVideoStreams=function(V){O&&(V&&!(V instanceof Array)&&(V=[V]),O.resetVideoStreams(V))},this.getMixer=function(){return O},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MultiStreamRecorder=Ze);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function Q(S,h){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof S>"u")throw'First argument "MediaStream" is required.';var I=this;I.recordRTC=new e(S,h),this.startRecording=function(){return new Promise(function(O,N){try{I.recordRTC.startRecording(),O()}catch(M){N(M)}})},this.stopRecording=function(){return new Promise(function(O,N){try{I.recordRTC.stopRecording(function(M){if(I.blob=I.recordRTC.getBlob(),!I.blob||!I.blob.size){N("Empty blob.",I.blob);return}O(M)})}catch(M){N(M)}})},this.pauseRecording=function(){return new Promise(function(O,N){try{I.recordRTC.pauseRecording(),O()}catch(M){N(M)}})},this.resumeRecording=function(){return new Promise(function(O,N){try{I.recordRTC.resumeRecording(),O()}catch(M){N(M)}})},this.getDataURL=function(O){return new Promise(function(N,M){try{I.recordRTC.getDataURL(function(V){N(V)})}catch(V){M(V)}})},this.getBlob=function(){return new Promise(function(O,N){try{O(I.recordRTC.getBlob())}catch(M){N(M)}})},this.getInternalRecorder=function(){return new Promise(function(O,N){try{O(I.recordRTC.getInternalRecorder())}catch(M){N(M)}})},this.reset=function(){return new Promise(function(O,N){try{O(I.recordRTC.reset())}catch(M){N(M)}})},this.destroy=function(){return new Promise(function(O,N){try{O(I.recordRTC.destroy())}catch(M){N(M)}})},this.getState=function(){return new Promise(function(O,N){try{O(I.recordRTC.getState())}catch(M){N(M)}})},this.blob=null,this.version="5.6.2"}typeof e<"u"&&(e.RecordRTCPromisesHandler=Q);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function oe(S,h){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),h=h||{},h.width=h.width||640,h.height=h.height||480,h.frameRate=h.frameRate||30,h.bitrate=h.bitrate||1200,h.realtime=h.realtime||!0;var I;function O(){return new ReadableStream({start:function(Y){var W=document.createElement("canvas"),Z=document.createElement("video"),G=!0;Z.srcObject=S,Z.muted=!0,Z.height=h.height,Z.width=h.width,Z.volume=0,Z.onplaying=function(){W.width=h.width,W.height=h.height;var X=W.getContext("2d"),R=1e3/h.frameRate,U=setInterval(function(){if(I&&(clearInterval(U),Y.close()),G&&(G=!1,h.onVideoProcessStarted&&h.onVideoProcessStarted()),X.drawImage(Z,0,0),Y._controlledReadableStream.state!=="closed")try{Y.enqueue(X.getImageData(0,0,h.width,h.height))}catch{}},R)},Z.play()}})}var N;function M(Y,W){if(!h.workerPath&&!W){I=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(G){G.arrayBuffer().then(function(X){M(Y,X)})});return}if(!h.workerPath&&W instanceof ArrayBuffer){var Z=new Blob([W],{type:"text/javascript"});h.workerPath=c.createObjectURL(Z)}h.workerPath||console.error("workerPath parameter is missing."),N=new Worker(h.workerPath),N.postMessage(h.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),N.addEventListener("message",function(G){G.data==="READY"?(N.postMessage({width:h.width,height:h.height,bitrate:h.bitrate||1200,timebaseDen:h.frameRate||30,realtime:h.realtime}),O().pipeTo(new WritableStream({write:function(X){if(I){console.error("Got image, but recorder is finished!");return}N.postMessage(X.data.buffer,[X.data.buffer])}}))):G.data&&(V||q.push(G.data))})}this.record=function(){q=[],V=!1,this.blob=null,M(S),typeof h.initCallback=="function"&&h.initCallback()};var V;this.pause=function(){V=!0},this.resume=function(){V=!1};function A(Y){if(!N){Y&&Y();return}N.addEventListener("message",function(W){W.data===null&&(N.terminate(),N=null,Y&&Y())}),N.postMessage(null)}var q=[];this.stop=function(Y){I=!0;var W=this;A(function(){W.blob=new Blob(q,{type:"video/webm"}),Y(W.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){q=[],V=!1,this.blob=null},this.blob=null}typeof e<"u"&&(e.WebAssemblyRecorder=oe)})(C3);var wv={},_v={},R3=!!(Ae===Ae.window&&Ae.URL&&Ae.Blob&&Ae.Worker);function cI(t,e){var n=this,r;if(e=e||{},R3)return r=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new Ae.Worker(Ae.URL.createObjectURL(new Ae.Blob([r],{type:"text/javascript"})));function i(o){setTimeout(function(){n.onmessage({data:o})},0)}this.self=e,this.self.postMessage=i,setTimeout(t.bind(e,e),0)}cI.prototype.postMessage=function(e){var n=this;setTimeout(function(){n.self.onmessage({data:e})},0)};var A3=cI;Object.defineProperty(_v,"__esModule",{value:!0});var x3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k3=A3,P3=D3(k3);function D3(t){return t&&t.__esModule?t:{default:t}}function O3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var N3={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},dI=function(){function t(e,n){var r=this;O3(this,t),this.config=Object.assign({},N3,n),this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(o){if(r.recording){for(var s=[],a=0;a<r.config.numChannels;a++)s.push(o.inputBuffer.getChannelData(a));r.worker.postMessage({command:"record",buffer:s})}},e.connect(this.node),this.node.connect(this.context.destination);var i={};this.worker=new P3.default(function(){var o=0,s=[],a=void 0,u=void 0;this.onmessage=function(_){switch(_.data.command){case"init":l(_.data.config);break;case"record":c(_.data.buffer);break;case"exportWAV":d(_.data.type);break;case"getBuffer":f();break;case"clear":m();break}};function l(_){a=_.sampleRate,u=_.numChannels,y()}function c(_){for(var x=0;x<u;x++)s[x].push(_[x]);o+=_[0].length}function d(_){for(var x=[],C=0;C<u;C++)x.push(w(s[C],o));var k=void 0;u===2?k=T(x[0],x[1]):k=x[0];var F=v(k),L=new Blob([F],{type:_});this.postMessage({command:"exportWAV",data:L})}function f(){for(var _=[],x=0;x<u;x++)_.push(w(s[x],o));this.postMessage({command:"getBuffer",data:_})}function m(){o=0,s=[],y()}function y(){for(var _=0;_<u;_++)s[_]=[]}function w(_,x){for(var C=new Float32Array(x),k=0,F=0;F<_.length;F++)C.set(_[F],k),k+=_[F].length;return C}function T(_,x){for(var C=_.length+x.length,k=new Float32Array(C),F=0,L=0;F<C;)k[F++]=_[L],k[F++]=x[L],L++;return k}function p(_,x,C){for(var k=0;k<C.length;k++,x+=2){var F=Math.max(-1,Math.min(1,C[k]));_.setInt16(x,F<0?F*32768:F*32767,!0)}}function g(_,x,C){for(var k=0;k<C.length;k+=1)_.setUint8(x+k,C.charCodeAt(k))}function v(_){var x=new ArrayBuffer(44+_.length*2),C=new DataView(x);return g(C,0,"RIFF"),C.setUint32(4,36+_.length*2,!0),g(C,8,"WAVE"),g(C,12,"fmt "),C.setUint32(16,16,!0),C.setUint16(20,1,!0),C.setUint16(22,u,!0),C.setUint32(24,a,!0),C.setUint32(28,a*4,!0),C.setUint16(32,u*2,!0),C.setUint16(34,16,!0),g(C,36,"data"),C.setUint32(40,_.length*2,!0),p(C,44,_),C}},i),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(o){var s=r.callbacks[o.data.command].pop();typeof s=="function"&&s(o.data.data)}}return x3(t,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(n){if(n=n||this.config.callback,!n)throw new Error("Callback not set");this.callbacks.getBuffer.push(n),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(n,r){if(r=r||this.config.mimeType,n=n||this.config.callback,!n)throw new Error("Callback not set");this.callbacks.exportWAV.push(n),this.worker.postMessage({command:"exportWAV",type:r})}}]),t}();dI.forceDownload=function(e,n){var r=document.createElement("a");r.style="display: none",document.body.appendChild(r);var i=window.URL.createObjectURL(e);r.href=i,r.download=n,r.click(),window.URL.revokeObjectURL(i),document.body.removeChild(r)};_v.default=dI;Object.defineProperty(wv,"__esModule",{value:!0});var M3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),L3=_v,hI=F3(L3);function F3(t){return t&&t.__esModule?t:{default:t}}function V3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var U3={nFrequencyBars:255,onAnalysed:null},fI=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};V3(this,t),this.config=Object.assign({},U3,n),this.audioContext=e,this.audioInput=null,this.realAudioInput=null,this.inputPoint=null,this.audioRecorder=null,this.rafID=null,this.analyserContext=null,this.recIndex=0,this.stream=null,this.updateAnalysers=this.updateAnalysers.bind(this)}return M3(t,[{key:"init",value:function(n){var r=this;return new Promise(function(i){r.inputPoint=r.audioContext.createGain(),r.stream=n,r.realAudioInput=r.audioContext.createMediaStreamSource(n),r.audioInput=r.realAudioInput,r.audioInput.connect(r.inputPoint),r.analyserNode=r.audioContext.createAnalyser(),r.analyserNode.fftSize=2048,r.inputPoint.connect(r.analyserNode),r.audioRecorder=new hI.default(r.inputPoint);var o=r.audioContext.createGain();o.gain.value=0,r.inputPoint.connect(o),o.connect(r.audioContext.destination),r.updateAnalysers(),i()})}},{key:"start",value:function(){var n=this;return new Promise(function(r,i){if(!n.audioRecorder){i("Not currently recording");return}n.audioRecorder.clear(),n.audioRecorder.record(),r(n.stream)})}},{key:"stop",value:function(){var n=this;return new Promise(function(r){n.audioRecorder.stop(),n.audioRecorder.getBuffer(function(i){n.audioRecorder.exportWAV(function(o){return r({buffer:i,blob:o})})})})}},{key:"updateAnalysers",value:function(){if(this.config.onAnalysed){requestAnimationFrame(this.updateAnalysers);var n=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(n);for(var r=new Array(255),i=0,o=void 0,s=0;s<255;s+=1)o=Math.floor(n[s])-Math.floor(n[s])%5,o!==0&&(i=s),r[s]=o;this.config.onAnalysed({data:r,lineTo:i})}}},{key:"setOnAnalysed",value:function(n){this.config.onAnalysed=n}}]),t}();fI.download=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"audio";hI.default.forceDownload(e,n+".wav")};wv.default=fI;var j3=wv;const $3=tw(j3);function B3({setSTTText:t}){const[e,n]=b.useState(!1),[r,i]=b.useState(null),[o,s]=b.useState(""),[a,u]=b.useState("english"),[l,c]=b.useState(!1),d="https://purplehunter.pythonanywhere.com",f=`${d}/stt-v2-turbo`,m=`${d}/translate`,y=`${d}/summarize`;async function w(g){if(g.preventDefault(),typeof navigator.mediaDevices>"u"||!navigator.mediaDevices.getUserMedia){alert("Your OS Currently Blocks this feature... please use your Phones speech-to-text system to write in this field... the other features should still be working fine");return}if(window.isRecording){const{blob:v}=await window.myRecorder.stop();window.blob=v,window.isRecording=!1,n(!1),c(!0),r&&r.getTracks().forEach(k=>k.stop()),window.mediaStream&&window.mediaStream.getTracks().forEach(k=>k.stop());const _=window.blob.type,C=await(await fetch(f,{method:"POST",body:window.blob,headers:{"Content-Type":_}})).json();c(!1),s(o===""?C.text:o+" "+C.text),t(C.text),n(!1)}else{const v=new(window.AudioContext||window.webkitAudioContext);if(!window.myRecorder){const x=new $3(v,{onAnalysed:C=>console.log(C)});window.myRecorder=x}const _=await navigator.mediaDevices.getUserMedia({audio:!0});window.mediaStream=_,i(_),window.myRecorder.init(_),await window.myRecorder.start(),window.isRecording=!0,n(!0)}}async function T(g){c(!0),g.preventDefault();const _=await(await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o,lang:a})})).json();c(!1),s(_.text),t(_.text)}async function p(g){c(!0),g.preventDefault();const _=await(await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o})})).json();c(!1),s(_.text),t(_.text)}return E.jsxs("div",{className:"relative p-4 bg-gray-100 rounded-lg shadow-md mb-4 border border-gray-300",children:[E.jsxs("div",{className:"relative w-full",children:[E.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-200 mb-4 resize-none",value:o,onChange:g=>{s(g.target.value),t(g.target.value)},placeholder:"Transcription text...",rows:5}),l&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-300 rounded-lg",children:E.jsx(AM,{className:"animate-spin text-white",size:24})})]}),E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0 mb-4",children:[E.jsxs("button",{className:`flex items-center justify-center px-4 py-2 text-white rounded-lg shadow-sm transition duration-300 ease-in-out ${e?"bg-gray-300 hover:bg-gray-200":"bg-green-300 hover:bg-green-200"}`,onClick:w,children:[e?E.jsx(_3,{size:20}):E.jsx(w3,{size:20}),e&&E.jsx("span",{className:"ml-2 blinking-dot"})]}),E.jsxs("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:[E.jsxs("select",{value:a,onChange:g=>u(g.target.value),className:"cursor-pointer bg-gray-200 rounded-lg p-2 shadow-sm hover:bg-gray-300 transition duration-300 ease-in-out",children:[E.jsx("option",{value:"english",children:"English"}),E.jsx("option",{value:"spanish",children:"Spanish"}),E.jsx("option",{value:"french",children:"French"}),E.jsx("option",{value:"german",children:"German"})]}),E.jsx("button",{className:"flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg shadow-sm hover:bg-gray-700 transition duration-300 ease-in-out",onClick:T,children:E.jsx(E3,{size:20})})]}),E.jsx("button",{className:"flex items-center justify-center px-4 py-2 bg-pink-500 text-white rounded-lg shadow-sm hover:bg-pink-600 transition duration-300 ease-in-out",onClick:p,children:E.jsx(b3,{size:20})})]})]})}function Yi(t){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(t)}function z3(t,e){if(Yi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pI(t){var e=z3(t,"string");return Yi(e)==="symbol"?e:String(e)}function zs(t,e,n){return e=pI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(n),!0).forEach(function(r){zs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H3(t){if(Array.isArray(t))return t}function W3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function Xp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mI(t,e){if(t){if(typeof t=="string")return Xp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xp(t,e)}}function q3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _r(t,e){return H3(t)||W3(t,e)||mI(t,e)||q3()}function K3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dr(t,e){if(t==null)return{};var n=K3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var G3=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Q3(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,s=o===void 0?null:o,a=t.inputValue,u=t.menuIsOpen,l=t.onChange,c=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,m=t.value,y=Dr(t,G3),w=b.useState(a!==void 0?a:n),T=_r(w,2),p=T[0],g=T[1],v=b.useState(u!==void 0?u:i),_=_r(v,2),x=_[0],C=_[1],k=b.useState(m!==void 0?m:s),F=_r(k,2),L=F[0],H=F[1],te=b.useCallback(function(Q,oe){typeof l=="function"&&l(Q,oe),H(Q)},[l]),fe=b.useCallback(function(Q,oe){var S;typeof c=="function"&&(S=c(Q,oe)),g(S!==void 0?S:Q)},[c]),be=b.useCallback(function(){typeof f=="function"&&f(),C(!0)},[f]),pe=b.useCallback(function(){typeof d=="function"&&d(),C(!1)},[d]),Te=a!==void 0?a:p,Je=u!==void 0?u:x,Ze=m!==void 0?m:L;return le(le({},y),{},{inputValue:Te,menuIsOpen:Je,onChange:te,onInputChange:fe,onMenuClose:pe,onMenuOpen:be,value:Ze})}function de(){return de=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},de.apply(this,arguments)}function X3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pI(r.key),r)}}function Y3(t,e,n){return e&&x1(t.prototype,e),n&&x1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ts(t,e){return ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ts(t,e)}function J3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ts(t,e)}function Ba(t){return Ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ba(t)}function gI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z3(t,e){if(e&&(Yi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vI(t)}function eL(t){var e=gI();return function(){var r=Ba(t),i;if(e){var o=Ba(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Z3(this,i)}}function tL(t){if(Array.isArray(t))return Xp(t)}function nL(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yI(t){return tL(t)||nL(t)||mI(t)||rL()}function iL(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function oL(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var sL=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(oL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=iL(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Pt="-ms-",jc="-moz-",ke="-webkit-",wI="comm",Ev="rule",Sv="decl",aL="@import",_I="@keyframes",uL="@layer",lL=Math.abs,Kd=String.fromCharCode,cL=Object.assign;function dL(t,e){return Et(t,0)^45?(((e<<2^Et(t,0))<<2^Et(t,1))<<2^Et(t,2))<<2^Et(t,3):0}function EI(t){return t.trim()}function hL(t,e){return(t=e.exec(t))?t[0]:t}function Pe(t,e,n){return t.replace(e,n)}function Yp(t,e){return t.indexOf(e)}function Et(t,e){return t.charCodeAt(e)|0}function za(t,e,n){return t.slice(e,n)}function qn(t){return t.length}function Tv(t){return t.length}function Zu(t,e){return e.push(t),t}function fL(t,e){return t.map(e).join("")}var Gd=1,ns=1,SI=0,un=0,nt=0,ys="";function Qd(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Gd,column:ns,length:s,return:""}}function xs(t,e){return cL(Qd("",null,null,"",null,null,0),t,{length:-t.length},e)}function pL(){return nt}function mL(){return nt=un>0?Et(ys,--un):0,ns--,nt===10&&(ns=1,Gd--),nt}function pn(){return nt=un<SI?Et(ys,un++):0,ns++,nt===10&&(ns=1,Gd++),nt}function ir(){return Et(ys,un)}function bl(){return un}function _u(t,e){return za(ys,t,e)}function Ha(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TI(t){return Gd=ns=1,SI=qn(ys=t),un=0,[]}function II(t){return ys="",t}function Cl(t){return EI(_u(un-1,Jp(t===91?t+2:t===40?t+1:t)))}function gL(t){for(;(nt=ir())&&nt<33;)pn();return Ha(t)>2||Ha(nt)>3?"":" "}function vL(t,e){for(;--e&&pn()&&!(nt<48||nt>102||nt>57&&nt<65||nt>70&&nt<97););return _u(t,bl()+(e<6&&ir()==32&&pn()==32))}function Jp(t){for(;pn();)switch(nt){case t:return un;case 34:case 39:t!==34&&t!==39&&Jp(nt);break;case 40:t===41&&Jp(t);break;case 92:pn();break}return un}function yL(t,e){for(;pn()&&t+nt!==47+10;)if(t+nt===42+42&&ir()===47)break;return"/*"+_u(e,un-1)+"*"+Kd(t===47?t:pn())}function wL(t){for(;!Ha(ir());)pn();return _u(t,un)}function _L(t){return II(Rl("",null,null,null,[""],t=TI(t),0,[0],t))}function Rl(t,e,n,r,i,o,s,a,u){for(var l=0,c=0,d=s,f=0,m=0,y=0,w=1,T=1,p=1,g=0,v="",_=i,x=o,C=r,k=v;T;)switch(y=g,g=pn()){case 40:if(y!=108&&Et(k,d-1)==58){Yp(k+=Pe(Cl(g),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:k+=Cl(g);break;case 9:case 10:case 13:case 32:k+=gL(y);break;case 92:k+=vL(bl()-1,7);continue;case 47:switch(ir()){case 42:case 47:Zu(EL(yL(pn(),bl()),e,n),u);break;default:k+="/"}break;case 123*w:a[l++]=qn(k)*p;case 125*w:case 59:case 0:switch(g){case 0:case 125:T=0;case 59+c:p==-1&&(k=Pe(k,/\f/g,"")),m>0&&qn(k)-d&&Zu(m>32?P1(k+";",r,n,d-1):P1(Pe(k," ","")+";",r,n,d-2),u);break;case 59:k+=";";default:if(Zu(C=k1(k,e,n,l,c,i,a,v,_=[],x=[],d),o),g===123)if(c===0)Rl(k,e,C,C,_,o,d,a,x);else switch(f===99&&Et(k,3)===110?100:f){case 100:case 108:case 109:case 115:Rl(t,C,C,r&&Zu(k1(t,C,C,0,0,i,a,v,i,_=[],d),x),i,x,d,a,r?_:x);break;default:Rl(k,C,C,C,[""],x,0,a,x)}}l=c=m=0,w=p=1,v=k="",d=s;break;case 58:d=1+qn(k),m=y;default:if(w<1){if(g==123)--w;else if(g==125&&w++==0&&mL()==125)continue}switch(k+=Kd(g),g*w){case 38:p=c>0?1:(k+="\f",-1);break;case 44:a[l++]=(qn(k)-1)*p,p=1;break;case 64:ir()===45&&(k+=Cl(pn())),f=ir(),c=d=qn(v=k+=wL(bl())),g++;break;case 45:y===45&&qn(k)==2&&(w=0)}}return o}function k1(t,e,n,r,i,o,s,a,u,l,c){for(var d=i-1,f=i===0?o:[""],m=Tv(f),y=0,w=0,T=0;y<r;++y)for(var p=0,g=za(t,d+1,d=lL(w=s[y])),v=t;p<m;++p)(v=EI(w>0?f[p]+" "+g:Pe(g,/&\f/g,f[p])))&&(u[T++]=v);return Qd(t,e,n,i===0?Ev:a,u,l,c)}function EL(t,e,n){return Qd(t,e,n,wI,Kd(pL()),za(t,2,-2),0)}function P1(t,e,n,r){return Qd(t,e,n,Sv,za(t,0,r),za(t,r+1,-1),r)}function Fo(t,e){for(var n="",r=Tv(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function SL(t,e,n,r){switch(t.type){case uL:if(t.children.length)break;case aL:case Sv:return t.return=t.return||t.value;case wI:return"";case _I:return t.return=t.value+"{"+Fo(t.children,r)+"}";case Ev:t.value=t.props.join(",")}return qn(n=Fo(t.children,r))?t.return=t.value+"{"+n+"}":""}function TL(t){var e=Tv(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function IL(t){return function(e){e.root||(e=e.return)&&t(e)}}function bL(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var CL=function(e,n,r){for(var i=0,o=0;i=o,o=ir(),i===38&&o===12&&(n[r]=1),!Ha(o);)pn();return _u(e,un)},RL=function(e,n){var r=-1,i=44;do switch(Ha(i)){case 0:i===38&&ir()===12&&(n[r]=1),e[r]+=CL(un-1,n,r);break;case 2:e[r]+=Cl(i);break;case 4:if(i===44){e[++r]=ir()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Kd(i)}while(i=pn());return e},AL=function(e,n){return II(RL(TI(e),n))},D1=new WeakMap,xL=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!D1.get(r))&&!i){D1.set(e,!0);for(var o=[],s=AL(n,o),a=r.props,u=0,l=0;u<s.length;u++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[u]?s[u].replace(/&\f/g,a[c]):a[c]+" "+s[u]}}},kL=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bI(t,e){switch(dL(t,e)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+jc+t+Pt+t+t;case 6828:case 4268:return ke+t+Pt+t+t;case 6165:return ke+t+Pt+"flex-"+t+t;case 5187:return ke+t+Pe(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Pt+"flex-$1$2")+t;case 5443:return ke+t+Pt+"flex-item-"+Pe(t,/flex-|-self/,"")+t;case 4675:return ke+t+Pt+"flex-line-pack"+Pe(t,/align-content|flex-|-self/,"")+t;case 5548:return ke+t+Pt+Pe(t,"shrink","negative")+t;case 5292:return ke+t+Pt+Pe(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+Pe(t,"-grow","")+ke+t+Pt+Pe(t,"grow","positive")+t;case 4554:return ke+Pe(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return Pe(Pe(Pe(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return Pe(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return Pe(Pe(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Pt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4095:case 3583:case 4068:case 2532:return Pe(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qn(t)-1-e>6)switch(Et(t,e+1)){case 109:if(Et(t,e+4)!==45)break;case 102:return Pe(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+jc+(Et(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Yp(t,"stretch")?bI(Pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Et(t,e+1)!==115)break;case 6444:switch(Et(t,qn(t)-3-(~Yp(t,"!important")&&10))){case 107:return Pe(t,":",":"+ke)+t;case 101:return Pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(Et(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Pt+"$2box$3")+t}break;case 5936:switch(Et(t,e+11)){case 114:return ke+t+Pt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+Pt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+Pt+Pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ke+t+Pt+t+t}return t}var PL=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Sv:e.return=bI(e.value,e.length);break;case _I:return Fo([xs(e,{value:Pe(e.value,"@","@"+ke)})],i);case Ev:if(e.length)return fL(e.props,function(o){switch(hL(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fo([xs(e,{props:[Pe(o,/:(read-\w+)/,":"+jc+"$1")]})],i);case"::placeholder":return Fo([xs(e,{props:[Pe(o,/:(plac\w+)/,":"+ke+"input-$1")]}),xs(e,{props:[Pe(o,/:(plac\w+)/,":"+jc+"$1")]}),xs(e,{props:[Pe(o,/:(plac\w+)/,Pt+"input-$1")]})],i)}return""})}},DL=[PL],OL=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var T=w.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||DL,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var T=w.getAttribute("data-emotion").split(" "),p=1;p<T.length;p++)o[T[p]]=!0;a.push(w)});var u,l=[xL,kL];{var c,d=[SL,IL(function(w){c.insert(w)})],f=TL(l.concat(i,d)),m=function(T){return Fo(_L(T),f)};u=function(T,p,g,v){c=g,m(T?T+"{"+p.styles+"}":p.styles),v&&(y.inserted[p.name]=!0)}}var y={key:n,sheet:new sL({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:u};return y.sheet.hydrate(a),y},CI={exports:{}},Me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=typeof Symbol=="function"&&Symbol.for,Iv=yt?Symbol.for("react.element"):60103,bv=yt?Symbol.for("react.portal"):60106,Xd=yt?Symbol.for("react.fragment"):60107,Yd=yt?Symbol.for("react.strict_mode"):60108,Jd=yt?Symbol.for("react.profiler"):60114,Zd=yt?Symbol.for("react.provider"):60109,eh=yt?Symbol.for("react.context"):60110,Cv=yt?Symbol.for("react.async_mode"):60111,th=yt?Symbol.for("react.concurrent_mode"):60111,nh=yt?Symbol.for("react.forward_ref"):60112,rh=yt?Symbol.for("react.suspense"):60113,NL=yt?Symbol.for("react.suspense_list"):60120,ih=yt?Symbol.for("react.memo"):60115,oh=yt?Symbol.for("react.lazy"):60116,ML=yt?Symbol.for("react.block"):60121,LL=yt?Symbol.for("react.fundamental"):60117,FL=yt?Symbol.for("react.responder"):60118,VL=yt?Symbol.for("react.scope"):60119;function wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Iv:switch(t=t.type,t){case Cv:case th:case Xd:case Jd:case Yd:case rh:return t;default:switch(t=t&&t.$$typeof,t){case eh:case nh:case oh:case ih:case Zd:return t;default:return e}}case bv:return e}}}function RI(t){return wn(t)===th}Me.AsyncMode=Cv;Me.ConcurrentMode=th;Me.ContextConsumer=eh;Me.ContextProvider=Zd;Me.Element=Iv;Me.ForwardRef=nh;Me.Fragment=Xd;Me.Lazy=oh;Me.Memo=ih;Me.Portal=bv;Me.Profiler=Jd;Me.StrictMode=Yd;Me.Suspense=rh;Me.isAsyncMode=function(t){return RI(t)||wn(t)===Cv};Me.isConcurrentMode=RI;Me.isContextConsumer=function(t){return wn(t)===eh};Me.isContextProvider=function(t){return wn(t)===Zd};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Iv};Me.isForwardRef=function(t){return wn(t)===nh};Me.isFragment=function(t){return wn(t)===Xd};Me.isLazy=function(t){return wn(t)===oh};Me.isMemo=function(t){return wn(t)===ih};Me.isPortal=function(t){return wn(t)===bv};Me.isProfiler=function(t){return wn(t)===Jd};Me.isStrictMode=function(t){return wn(t)===Yd};Me.isSuspense=function(t){return wn(t)===rh};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xd||t===th||t===Jd||t===Yd||t===rh||t===NL||typeof t=="object"&&t!==null&&(t.$$typeof===oh||t.$$typeof===ih||t.$$typeof===Zd||t.$$typeof===eh||t.$$typeof===nh||t.$$typeof===LL||t.$$typeof===FL||t.$$typeof===VL||t.$$typeof===ML)};Me.typeOf=wn;CI.exports=Me;var UL=CI.exports,AI=UL,jL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$L={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xI={};xI[AI.ForwardRef]=jL;xI[AI.Memo]=$L;var BL=!0;function zL(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var kI=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||BL===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},HL=function(e,n,r){kI(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function WL(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var qL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},KL=/[A-Z]|^ms/g,GL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PI=function(e){return e.charCodeAt(1)===45},O1=function(e){return e!=null&&typeof e!="boolean"},lf=bL(function(t){return PI(t)?t:t.replace(KL,"-$&").toLowerCase()}),N1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(GL,function(r,i,o){return Kn={name:i,styles:o,next:Kn},i})}return qL[e]!==1&&!PI(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wa(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Kn={name:n.name,styles:n.styles,next:Kn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Kn={name:r.name,styles:r.styles,next:Kn},r=r.next;var i=n.styles+";";return i}return QL(t,e,n)}case"function":{if(t!==void 0){var o=Kn,s=n(t);return Kn=o,Wa(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function QL(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Wa(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":O1(s)&&(r+=lf(o)+":"+N1(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)O1(s[a])&&(r+=lf(o)+":"+N1(o,s[a])+";");else{var u=Wa(t,e,s);switch(o){case"animation":case"animationName":{r+=lf(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var M1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Kn,DI=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Kn=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=Wa(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=Wa(r,n,e[a]),i&&(o+=s[a]);M1.lastIndex=0;for(var u="",l;(l=M1.exec(o))!==null;)u+="-"+l[1];var c=WL(o)+u;return{name:c,styles:o,next:Kn}},XL=function(e){return e()},YL=wf["useInsertionEffect"]?wf["useInsertionEffect"]:!1,JL=YL||XL,Rv={}.hasOwnProperty,OI=b.createContext(typeof HTMLElement<"u"?OL({key:"css"}):null);OI.Provider;var ZL=function(e){return b.forwardRef(function(n,r){var i=b.useContext(OI);return e(n,i,r)})},e6=b.createContext({}),Zp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",t6=function(e,n){var r={};for(var i in n)Rv.call(n,i)&&(r[i]=n[i]);return r[Zp]=e,r},n6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return kI(n,r,i),JL(function(){return HL(n,r,i)}),null},r6=ZL(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Zp],o=[r],s="";typeof t.className=="string"?s=zL(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=DI(o,void 0,b.useContext(e6));s+=e.key+"-"+a.name;var u={};for(var l in t)Rv.call(t,l)&&l!=="css"&&l!==Zp&&(u[l]=t[l]);return u.ref=n,u.className=s,b.createElement(b.Fragment,null,b.createElement(n6,{cache:e,serialized:a,isStringTag:typeof i=="string"}),b.createElement(i,u))}),i6=r6,he=function(e,n){var r=arguments;if(n==null||!Rv.call(n,"css"))return b.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=i6,o[1]=t6(e,n);for(var s=2;s<i;s++)o[s]=r[s];return b.createElement.apply(null,o)};function Av(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return DI(e)}var o6=function(){var e=Av.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function s6(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const a6=Math.min,u6=Math.max,$c=Math.round,el=Math.floor,Bc=t=>({x:t,y:t});function l6(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function NI(t){return LI(t)?(t.nodeName||"").toLowerCase():"#document"}function Fn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function MI(t){var e;return(e=(LI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LI(t){return t instanceof Node||t instanceof Fn(t).Node}function em(t){return t instanceof Element||t instanceof Fn(t).Element}function xv(t){return t instanceof HTMLElement||t instanceof Fn(t).HTMLElement}function L1(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fn(t).ShadowRoot}function FI(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=kv(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function c6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function d6(t){return["html","body","#document"].includes(NI(t))}function kv(t){return Fn(t).getComputedStyle(t)}function h6(t){if(NI(t)==="html")return t;const e=t.assignedSlot||t.parentNode||L1(t)&&t.host||MI(t);return L1(e)?e.host:e}function VI(t){const e=h6(t);return d6(e)?t.ownerDocument?t.ownerDocument.body:t.body:xv(e)&&FI(e)?e:VI(e)}function tm(t,e){var n;e===void 0&&(e=[]);const r=VI(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Fn(r);return i?e.concat(o,o.visualViewport||[],FI(r)?r:[]):e.concat(r,tm(r))}function f6(t){const e=kv(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=xv(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=$c(n)!==o||$c(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Pv(t){return em(t)?t:t.contextElement}function cf(t){const e=Pv(t);if(!xv(e))return Bc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=f6(e);let s=(o?$c(n.width):n.width)/r,a=(o?$c(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const p6=Bc(0);function m6(t){const e=Fn(t);return!c6()||!e.visualViewport?p6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function g6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Fn(t)?!1:e}function F1(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Pv(t);let s=Bc(1);e&&(r?em(r)&&(s=cf(r)):s=cf(t));const a=g6(o,n,r)?m6(o):Bc(0);let u=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=Fn(o),m=r&&em(r)?Fn(r):r;let y=f.frameElement;for(;y&&r&&m!==f;){const w=cf(y),T=y.getBoundingClientRect(),p=kv(y),g=T.left+(y.clientLeft+parseFloat(p.paddingLeft))*w.x,v=T.top+(y.clientTop+parseFloat(p.paddingTop))*w.y;u*=w.x,l*=w.y,c*=w.x,d*=w.y,u+=g,l+=v,y=Fn(y).frameElement}}return l6({width:c,height:d,x:u,y:l})}function v6(t,e){let n=null,r;const i=MI(t);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const{left:l,top:c,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const m=el(c),y=el(i.clientWidth-(l+d)),w=el(i.clientHeight-(c+f)),T=el(l),g={rootMargin:-m+"px "+-y+"px "+-w+"px "+-T+"px",threshold:u6(0,a6(1,u))||1};let v=!0;function _(x){const C=x[0].intersectionRatio;if(C!==u){if(!v)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},100)}v=!1}try{n=new IntersectionObserver(_,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,g)}n.observe(t)}return s(!0),o}function y6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=Pv(t),c=i||o?[...l?tm(l):[],...tm(e)]:[];c.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),o&&p.addEventListener("resize",n)});const d=l&&a?v6(l,n):null;let f=-1,m=null;s&&(m=new ResizeObserver(p=>{let[g]=p;g&&g.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{m&&m.observe(e)})),n()}),l&&!u&&m.observe(l),m.observe(e));let y,w=u?F1(t):null;u&&T();function T(){const p=F1(t);w&&(p.x!==w.x||p.y!==w.y||p.width!==w.width||p.height!==w.height)&&n(),w=p,y=requestAnimationFrame(T)}return n(),()=>{c.forEach(p=>{i&&p.removeEventListener("scroll",n),o&&p.removeEventListener("resize",n)}),d&&d(),m&&m.disconnect(),m=null,u&&cancelAnimationFrame(y)}}var nm=b.useLayoutEffect,w6=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],zc=function(){};function _6(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function E6(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var s in e)e.hasOwnProperty(s)&&e[s]&&o.push("".concat(_6(t,s)));return o.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var V1=function(e){return k6(e)?e.filter(Boolean):Yi(e)==="object"&&e!==null?[e]:[]},UI=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Dr(e,w6);return le({},n)},Ge=function(e,n,r){var i=e.cx,o=e.getStyles,s=e.getClassNames,a=e.className;return{css:o(n,e),className:i(r??{},s(n,e),a)}};function sh(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function S6(t){return sh(t)?window.innerHeight:t.clientHeight}function jI(t){return sh(t)?window.pageYOffset:t.scrollTop}function Hc(t,e){if(sh(t)){window.scrollTo(0,e);return}t.scrollTop=e}function T6(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function I6(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function tl(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:zc,i=jI(t),o=e-i,s=10,a=0;function u(){a+=s;var l=I6(a,i,o,n);Hc(t,l),a<n?window.requestAnimationFrame(u):r(t)}u()}function U1(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Hc(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Hc(t,Math.max(e.offsetTop-i,0))}function b6(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function j1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function C6(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var $I=!1,R6={get passive(){return $I=!0}},nl=typeof window<"u"?window:{};nl.addEventListener&&nl.removeEventListener&&(nl.addEventListener("p",zc,R6),nl.removeEventListener("p",zc,!1));var A6=$I;function x6(t){return t!=null}function k6(t){return Array.isArray(t)}function rl(t,e,n){return t?e:n}var P6=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(s){var a=_r(s,1),u=a[0];return!r.includes(u)});return o.reduce(function(s,a){var u=_r(a,2),l=u[0],c=u[1];return s[l]=c,s},{})},D6=["children","innerProps"],O6=["children","innerProps"];function N6(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,s=t.isFixedPosition,a=t.controlHeight,u=T6(n),l={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return l;var c=u.getBoundingClientRect(),d=c.height,f=n.getBoundingClientRect(),m=f.bottom,y=f.height,w=f.top,T=n.offsetParent.getBoundingClientRect(),p=T.top,g=s?window.innerHeight:S6(u),v=jI(u),_=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),C=p-x,k=g-w,F=C+v,L=d-v-w,H=m-g+v+_,te=v+w-x,fe=160;switch(i){case"auto":case"bottom":if(k>=y)return{placement:"bottom",maxHeight:e};if(L>=y&&!s)return o&&tl(u,H,fe),{placement:"bottom",maxHeight:e};if(!s&&L>=r||s&&k>=r){o&&tl(u,H,fe);var be=s?k-_:L-_;return{placement:"bottom",maxHeight:be}}if(i==="auto"||s){var pe=e,Te=s?C:F;return Te>=r&&(pe=Math.min(Te-_-a,e)),{placement:"top",maxHeight:pe}}if(i==="bottom")return o&&Hc(u,H),{placement:"bottom",maxHeight:e};break;case"top":if(C>=y)return{placement:"top",maxHeight:e};if(F>=y&&!s)return o&&tl(u,te,fe),{placement:"top",maxHeight:e};if(!s&&F>=r||s&&C>=r){var Je=e;return(!s&&F>=r||s&&C>=r)&&(Je=s?C-x:F-x),o&&tl(u,te,fe),{placement:"top",maxHeight:Je}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}function M6(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var BI=function(e){return e==="auto"?"bottom":e},L6=function(e,n){var r,i=e.placement,o=e.theme,s=o.borderRadius,a=o.spacing,u=o.colors;return le((r={label:"menu"},zs(r,M6(i),"100%"),zs(r,"position","absolute"),zs(r,"width","100%"),zs(r,"zIndex",1),r),n?{}:{backgroundColor:u.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},zI=b.createContext(null),F6=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,s=e.menuPosition,a=e.menuShouldScrollIntoView,u=e.theme,l=b.useContext(zI)||{},c=l.setPortalPlacement,d=b.useRef(null),f=b.useState(i),m=_r(f,2),y=m[0],w=m[1],T=b.useState(null),p=_r(T,2),g=p[0],v=p[1],_=u.spacing.controlHeight;return nm(function(){var x=d.current;if(x){var C=s==="fixed",k=a&&!C,F=N6({maxHeight:i,menuEl:x,minHeight:r,placement:o,shouldScroll:k,isFixedPosition:C,controlHeight:_});w(F.maxHeight),v(F.placement),c==null||c(F.placement)}},[i,o,s,a,r,c,_]),n({ref:d,placerProps:le(le({},e),{},{placement:g||BI(o),maxHeight:y})})},V6=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return he("div",de({},Ge(e,"menu",{menu:!0}),{ref:r},i),n)},U6=V6,j6=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return le({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},$6=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return he("div",de({},Ge(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},HI=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return le({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},B6=HI,z6=HI,H6=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,o=Dr(e,D6);return he("div",de({},Ge(le(le({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},W6=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,o=Dr(e,O6);return he("div",de({},Ge(le(le({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},q6=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},K6=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,s=e.menuPlacement,a=e.menuPosition,u=b.useRef(null),l=b.useRef(null),c=b.useState(BI(s)),d=_r(c,2),f=d[0],m=d[1],y=b.useMemo(function(){return{setPortalPlacement:m}},[]),w=b.useState(null),T=_r(w,2),p=T[0],g=T[1],v=b.useCallback(function(){if(i){var k=b6(i),F=a==="fixed"?0:window.pageYOffset,L=k[f]+F;(L!==(p==null?void 0:p.offset)||k.left!==(p==null?void 0:p.rect.left)||k.width!==(p==null?void 0:p.rect.width))&&g({offset:L,rect:k})}},[i,a,f,p==null?void 0:p.offset,p==null?void 0:p.rect.left,p==null?void 0:p.rect.width]);nm(function(){v()},[v]);var _=b.useCallback(function(){typeof l.current=="function"&&(l.current(),l.current=null),i&&u.current&&(l.current=y6(i,u.current,v,{elementResize:"ResizeObserver"in window}))},[i,v]);nm(function(){_()},[_]);var x=b.useCallback(function(k){u.current=k,_()},[_]);if(!n&&a!=="fixed"||!p)return null;var C=he("div",de({ref:x},Ge(le(le({},e),{},{offset:p.offset,position:a,rect:p.rect}),"menuPortal",{"menu-portal":!0}),o),r);return he(zI.Provider,{value:y},n?mE.createPortal(C,n):C)},G6=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Q6=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return he("div",de({},Ge(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},X6=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,s=e.selectProps.controlShouldRenderValue;return le({alignItems:"center",display:i&&o&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Y6=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return he("div",de({},Ge(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},J6=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Z6=function(e){var n=e.children,r=e.innerProps;return he("div",de({},Ge(e,"indicatorsContainer",{indicators:!0}),r),n)},$1,eF=["size"],tF=["innerProps","isRtl","size"],nF={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},WI=function(e){var n=e.size,r=Dr(e,eF);return he("svg",de({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:nF},r))},Dv=function(e){return he(WI,de({size:20},e),he("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},qI=function(e){return he(WI,de({size:20},e),he("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},KI=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,s=i.colors;return le({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?s.neutral60:s.neutral20,padding:o*2,":hover":{color:r?s.neutral80:s.neutral40}})},rF=KI,iF=function(e){var n=e.children,r=e.innerProps;return he("div",de({},Ge(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||he(qI,null))},oF=KI,sF=function(e){var n=e.children,r=e.innerProps;return he("div",de({},Ge(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||he(Dv,null))},aF=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,s=i.colors;return le({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:o*2,marginTop:o*2})},uF=function(e){var n=e.innerProps;return he("span",de({},n,Ge(e,"indicatorSeparator",{"indicator-separator":!0})))},lF=o6($1||($1=s6([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),cF=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,s=o.colors,a=o.spacing.baseUnit;return le({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?s.neutral60:s.neutral20,padding:a*2})},df=function(e){var n=e.delay,r=e.offset;return he("span",{css:Av({animation:"".concat(lF," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},dF=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,o=i===void 0?4:i,s=Dr(e,tF);return he("div",de({},Ge(le(le({},s),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),he(df,{delay:0,offset:r}),he(df,{delay:160,offset:!0}),he(df,{delay:320,offset:!r}))},hF=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,s=o.colors,a=o.borderRadius,u=o.spacing;return le({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:i?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},fF=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return he("div",de({ref:o},Ge(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),s),n)},pF=fF,mF=["data"],gF=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},vF=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,s=e.Heading,a=e.headingProps,u=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return he("div",de({},Ge(e,"group",{group:!0}),u),he(s,de({},a,{selectProps:d,theme:c,getStyles:i,getClassNames:o,cx:r}),l),he("div",null,n))},yF=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return le({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},wF=function(e){var n=UI(e);n.data;var r=Dr(n,mF);return he("div",de({},Ge(e,"groupHeading",{"group-heading":!0}),r))},_F=vF,EF=["innerRef","isDisabled","isHidden","inputClassName"],SF=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,s=o.spacing,a=o.colors;return le(le({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},TF),n?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},GI={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},TF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":le({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},GI)},IF=function(e){return le({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},GI)},bF=function(e){var n=e.cx,r=e.value,i=UI(e),o=i.innerRef,s=i.isDisabled,a=i.isHidden,u=i.inputClassName,l=Dr(i,EF);return he("div",de({},Ge(e,"input",{"input-container":!0}),{"data-value":r||""}),he("input",de({className:n({input:!0},u),ref:o,style:IF(a),disabled:s},l)))},CF=bF,RF=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,s=r.colors;return le({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:s.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},AF=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,s=e.cropWithEllipsis;return le({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},xF=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,s=r.colors,a=e.isFocused;return le({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},QI=function(e){var n=e.children,r=e.innerProps;return he("div",r,n)},kF=QI,PF=QI;function DF(t){var e=t.children,n=t.innerProps;return he("div",de({role:"button"},n),e||he(Dv,{size:14}))}var OF=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,s=e.isDisabled,a=e.removeProps,u=e.selectProps,l=r.Container,c=r.Label,d=r.Remove;return he(l,{data:i,innerProps:le(le({},Ge(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),o),selectProps:u},he(c,{data:i,innerProps:le({},Ge(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),he(d,{data:i,innerProps:le(le({},Ge(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:u}))},NF=OF,MF=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,s=e.theme,a=s.spacing,u=s.colors;return le({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?u.primary:i?u.primary25:"transparent",color:r?u.neutral20:o?u.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?u.primary:u.primary50}})},LF=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,s=e.innerRef,a=e.innerProps;return he("div",de({},Ge(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:s,"aria-disabled":r},a),n)},FF=LF,VF=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return le({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},UF=function(e){var n=e.children,r=e.innerProps;return he("div",de({},Ge(e,"placeholder",{placeholder:!0}),r),n)},jF=UF,$F=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,s=i.colors;return le({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?s.neutral40:s.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},BF=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return he("div",de({},Ge(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},zF=BF,HF={ClearIndicator:sF,Control:pF,DropdownIndicator:iF,DownChevron:qI,CrossIcon:Dv,Group:_F,GroupHeading:wF,IndicatorsContainer:Z6,IndicatorSeparator:uF,Input:CF,LoadingIndicator:dF,Menu:U6,MenuList:$6,MenuPortal:K6,LoadingMessage:W6,NoOptionsMessage:H6,MultiValue:NF,MultiValueContainer:kF,MultiValueLabel:PF,MultiValueRemove:DF,Option:FF,Placeholder:jF,SelectContainer:Q6,SingleValue:zF,ValueContainer:Y6},WF=function(e){return le(le({},HF),e.components)},B1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function qF(t,e){return!!(t===e||B1(t)&&B1(e))}function KF(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!qF(t[n],e[n]))return!1;return!0}function GF(t,e){e===void 0&&(e=KF);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var QF={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},XF=function(e){return he("span",de({css:QF},e))},z1=XF,YF={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,o=e.tabSelectsValue,s=e.context;switch(s){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,s=o===void 0?"":o,a=e.selectValue,u=e.isDisabled,l=e.isSelected,c=function(y,w){return y&&y.length?"".concat(y.indexOf(w)+1," of ").concat(y.length):""};if(n==="value"&&a)return"value ".concat(s," focused, ").concat(c(a,r),".");if(n==="menu"){var d=u?" disabled":"",f="".concat(l?"selected":"focused").concat(d);return"option ".concat(s," ").concat(f,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},JF=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,s=e.isFocused,a=e.selectValue,u=e.selectProps,l=e.id,c=u.ariaLiveMessages,d=u.getOptionLabel,f=u.inputValue,m=u.isMulti,y=u.isOptionDisabled,w=u.isSearchable,T=u.menuIsOpen,p=u.options,g=u.screenReaderStatus,v=u.tabSelectsValue,_=u["aria-label"],x=u["aria-live"],C=b.useMemo(function(){return le(le({},YF),c||{})},[c]),k=b.useMemo(function(){var pe="";if(n&&C.onChange){var Te=n.option,Je=n.options,Ze=n.removedValue,Q=n.removedValues,oe=n.value,S=function(A){return Array.isArray(A)?null:A},h=Ze||Te||S(oe),I=h?d(h):"",O=Je||Q||void 0,N=O?O.map(d):[],M=le({isDisabled:h&&y(h,a),label:I,labels:N},n);pe=C.onChange(M)}return pe},[n,C,y,a,d]),F=b.useMemo(function(){var pe="",Te=r||i,Je=!!(r&&a&&a.includes(r));if(Te&&C.onFocus){var Ze={focused:Te,label:d(Te),isDisabled:y(Te,a),isSelected:Je,options:o,context:Te===r?"menu":"value",selectValue:a};pe=C.onFocus(Ze)}return pe},[r,i,d,y,C,o,a]),L=b.useMemo(function(){var pe="";if(T&&p.length&&C.onFilter){var Te=g({count:o.length});pe=C.onFilter({inputValue:f,resultsMessage:Te})}return pe},[o,f,T,C,p,g]),H=b.useMemo(function(){var pe="";if(C.guidance){var Te=i?"value":T?"menu":"input";pe=C.guidance({"aria-label":_,context:Te,isDisabled:r&&y(r,a),isMulti:m,isSearchable:w,tabSelectsValue:v})}return pe},[_,r,i,m,y,w,T,C,a,v]),te="".concat(F," ").concat(L," ").concat(H),fe=he(b.Fragment,null,he("span",{id:"aria-selection"},k),he("span",{id:"aria-context"},te)),be=(n==null?void 0:n.action)==="initial-input-focus";return he(b.Fragment,null,he(z1,{id:l},be&&fe),he(z1,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text"},s&&!be&&fe))},ZF=JF,rm=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],eV=new RegExp("["+rm.map(function(t){return t.letters}).join("")+"]","g"),XI={};for(var hf=0;hf<rm.length;hf++)for(var ff=rm[hf],pf=0;pf<ff.letters.length;pf++)XI[ff.letters[pf]]=ff.base;var YI=function(e){return e.replace(eV,function(n){return XI[n]})},tV=GF(YI),H1=function(e){return e.replace(/^\s+|\s+$/g,"")},nV=function(e){return"".concat(e.label," ").concat(e.value)},rV=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=le({ignoreCase:!0,ignoreAccents:!0,stringify:nV,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,s=i.ignoreAccents,a=i.stringify,u=i.trim,l=i.matchFrom,c=u?H1(r):r,d=u?H1(a(n)):a(n);return o&&(c=c.toLowerCase(),d=d.toLowerCase()),s&&(c=tV(c),d=YI(d)),l==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},iV=["innerRef"];function oV(t){var e=t.innerRef,n=Dr(t,iV),r=P6(n,"onExited","in","enter","exit","appear");return he("input",de({ref:e},r,{css:Av({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var sV=function(e){e.preventDefault(),e.stopPropagation()};function aV(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,s=b.useRef(!1),a=b.useRef(!1),u=b.useRef(0),l=b.useRef(null),c=b.useCallback(function(T,p){if(l.current!==null){var g=l.current,v=g.scrollTop,_=g.scrollHeight,x=g.clientHeight,C=l.current,k=p>0,F=_-x-v,L=!1;F>p&&s.current&&(r&&r(T),s.current=!1),k&&a.current&&(o&&o(T),a.current=!1),k&&p>F?(n&&!s.current&&n(T),C.scrollTop=_,L=!0,s.current=!0):!k&&-p>v&&(i&&!a.current&&i(T),C.scrollTop=0,L=!0,a.current=!0),L&&sV(T)}},[n,r,i,o]),d=b.useCallback(function(T){c(T,T.deltaY)},[c]),f=b.useCallback(function(T){u.current=T.changedTouches[0].clientY},[]),m=b.useCallback(function(T){var p=u.current-T.changedTouches[0].clientY;c(T,p)},[c]),y=b.useCallback(function(T){if(T){var p=A6?{passive:!1}:!1;T.addEventListener("wheel",d,p),T.addEventListener("touchstart",f,p),T.addEventListener("touchmove",m,p)}},[m,f,d]),w=b.useCallback(function(T){T&&(T.removeEventListener("wheel",d,!1),T.removeEventListener("touchstart",f,!1),T.removeEventListener("touchmove",m,!1))},[m,f,d]);return b.useEffect(function(){if(e){var T=l.current;return y(T),function(){w(T)}}},[e,y,w]),function(T){l.current=T}}var W1=["boxSizing","height","overflow","paddingRight","position"],q1={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function K1(t){t.preventDefault()}function G1(t){t.stopPropagation()}function Q1(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function X1(){return"ontouchstart"in window||navigator.maxTouchPoints}var Y1=!!(typeof window<"u"&&window.document&&window.document.createElement),ks=0,so={capture:!1,passive:!1};function uV(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=b.useRef({}),o=b.useRef(null),s=b.useCallback(function(u){if(Y1){var l=document.body,c=l&&l.style;if(r&&W1.forEach(function(y){var w=c&&c[y];i.current[y]=w}),r&&ks<1){var d=parseInt(i.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+d||0;Object.keys(q1).forEach(function(y){var w=q1[y];c&&(c[y]=w)}),c&&(c.paddingRight="".concat(m,"px"))}l&&X1()&&(l.addEventListener("touchmove",K1,so),u&&(u.addEventListener("touchstart",Q1,so),u.addEventListener("touchmove",G1,so))),ks+=1}},[r]),a=b.useCallback(function(u){if(Y1){var l=document.body,c=l&&l.style;ks=Math.max(ks-1,0),r&&ks<1&&W1.forEach(function(d){var f=i.current[d];c&&(c[d]=f)}),l&&X1()&&(l.removeEventListener("touchmove",K1,so),u&&(u.removeEventListener("touchstart",Q1,so),u.removeEventListener("touchmove",G1,so)))}},[r]);return b.useEffect(function(){if(e){var u=o.current;return s(u),function(){a(u)}}},[e,s,a]),function(u){o.current=u}}var lV=function(){return document.activeElement&&document.activeElement.blur()},cV={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function dV(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,s=t.onBottomLeave,a=t.onTopArrive,u=t.onTopLeave,l=aV({isEnabled:i,onBottomArrive:o,onBottomLeave:s,onTopArrive:a,onTopLeave:u}),c=uV({isEnabled:n}),d=function(m){l(m),c(m)};return he(b.Fragment,null,n&&he("div",{onClick:lV,css:cV}),e(d))}var hV={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},fV=function(e){var n=e.name,r=e.onFocus;return he("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:hV,value:"",onChange:function(){}})},pV=fV,mV=function(e){return e.label},gV=function(e){return e.label},vV=function(e){return e.value},yV=function(e){return!!e.isDisabled},wV={clearIndicator:oF,container:G6,control:hF,dropdownIndicator:rF,group:gF,groupHeading:yF,indicatorsContainer:J6,indicatorSeparator:aF,input:SF,loadingIndicator:cF,loadingMessage:z6,menu:L6,menuList:j6,menuPortal:q6,multiValue:RF,multiValueLabel:AF,multiValueRemove:xF,noOptionsMessage:B6,option:MF,placeholder:VF,singleValue:$F,valueContainer:X6},_V={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},EV=4,JI=4,SV=38,TV=JI*2,IV={baseUnit:JI,controlHeight:SV,menuGutter:TV},mf={borderRadius:EV,colors:_V,spacing:IV},bV={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:j1(),captureMenuScroll:!j1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:rV(),formatGroupLabel:mV,getOptionLabel:gV,getOptionValue:vV,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:yV,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!C6(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function J1(t,e,n,r){var i=nb(t,e,n),o=rb(t,e,n),s=tb(t,e),a=Wc(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:s,value:a,index:r}}function ZI(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(s,a){return J1(t,s,e,a)}).filter(function(s){return Z1(t,s)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=J1(t,n,e,r);return Z1(t,o)?o:void 0}).filter(x6)}function eb(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,yI(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function CV(t,e){return eb(ZI(t,e))}function Z1(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,s=e.label,a=e.value;return(!ob(t)||!o)&&ib(t,{label:s,value:a,data:i},r)}function RV(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function AV(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var tb=function(e,n){return e.getOptionLabel(n)},Wc=function(e,n){return e.getOptionValue(n)};function nb(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function rb(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Wc(t,e);return n.some(function(i){return Wc(t,i)===r})}function ib(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var ob=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},xV=1,sb=function(t){J3(n,t);var e=eL(n);function n(r){var i;if(X3(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,u){var l=i.props,c=l.onChange,d=l.name;u.name=d,i.ariaOnChange(a,u),c(a,u)},i.setValue=function(a,u,l){var c=i.props,d=c.closeMenuOnSelect,f=c.isMulti,m=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),d&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:u,option:l})},i.selectOption=function(a){var u=i.props,l=u.blurInputOnSelect,c=u.isMulti,d=u.name,f=i.state.selectValue,m=c&&i.isOptionSelected(a,f),y=i.isOptionDisabled(a,f);if(m){var w=i.getOptionValue(a);i.setValue(f.filter(function(T){return i.getOptionValue(T)!==w}),"deselect-option",a)}else if(!y)c?i.setValue([].concat(yI(f),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:d});return}l&&i.blurInput()},i.removeValue=function(a){var u=i.props.isMulti,l=i.state.selectValue,c=i.getOptionValue(a),d=l.filter(function(m){return i.getOptionValue(m)!==c}),f=rl(u,d,d[0]||null);i.onChange(f,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(rl(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,u=i.state.selectValue,l=u[u.length-1],c=u.slice(0,u.length-1),d=rl(a,c,c[0]||null);i.onChange(d,{action:"pop-value",removedValue:l})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];return E6.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(a){return tb(i.props,a)},i.getOptionValue=function(a){return Wc(i.props,a)},i.getStyles=function(a,u){var l=i.props.unstyled,c=wV[a](u,l);c.boxSizing="border-box";var d=i.props.styles[a];return d?d(c,u):c},i.getClassNames=function(a,u){var l,c;return(l=(c=i.props.classNames)[a])===null||l===void 0?void 0:l.call(c,u)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return WF(i.props)},i.buildCategorizedOptions=function(){return ZI(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return eb(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,u){i.setState({ariaSelection:le({value:a},u)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var u=i.props,l=u.isMulti,c=u.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!l}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&sh(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var u=a.touches,l=u&&u.item(0);l&&(i.initialTouchX=l.clientX,i.initialTouchY=l.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var u=a.touches,l=u&&u.item(0);if(l){var c=Math.abs(l.clientX-i.initialTouchX),d=Math.abs(l.clientY-i.initialTouchY),f=5;i.userIsDragging=c>f||d>f}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var u=i.props.inputValue,l=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(l,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return ob(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var u=i.props,l=u.isMulti,c=u.backspaceRemovesValue,d=u.escapeClearsValue,f=u.inputValue,m=u.isClearable,y=u.isDisabled,w=u.menuIsOpen,T=u.onKeyDown,p=u.tabSelectsValue,g=u.openMenuOnFocus,v=i.state,_=v.focusedOption,x=v.focusedValue,C=v.selectValue;if(!y&&!(typeof T=="function"&&(T(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!l||f)return;i.focusValue("previous");break;case"ArrowRight":if(!l||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(x)i.removeValue(x);else{if(!c)return;l?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!w||!p||!_||g&&i.isOptionSelected(_,C))return;i.selectOption(_);break;case"Enter":if(a.keyCode===229)break;if(w){if(!_||i.isComposing)return;i.selectOption(_);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):m&&d&&i.clearValue();break;case" ":if(f)return;if(!w){i.openMenu("first");break}if(!_)return;i.selectOption(_);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++xV),i.state.selectValue=V1(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.buildFocusableOptions(),s=o.indexOf(i.state.selectValue[0]);i.state.focusedOption=o[s]}return i}return Y3(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&U1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isDisabled,a=o.menuIsOpen,u=this.state.isFocused;(u&&!s&&i.isDisabled||u&&a&&!i.menuIsOpen)&&this.focusInput(),u&&s&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!s&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(U1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,s=this.state,a=s.selectValue,u=s.isFocused,l=this.buildFocusableOptions(),c=i==="first"?0:l.length-1;if(!this.props.isMulti){var d=l.indexOf(a[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:l[c]},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,s=o.selectValue,a=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=s.indexOf(a);a||(u=-1);var l=s.length-1,c=-1;if(s.length){switch(i){case"previous":u===0?c=0:u===-1?c=l:c=u-1;break;case"next":u>-1&&u<l&&(c=u+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:s[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,s=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var u=0,l=a.indexOf(s);s||(l=-1),i==="up"?u=l>0?l-1:a.length-1:i==="down"?u=(l+1)%a.length:i==="pageup"?(u=l-o,u<0&&(u=0)):i==="pagedown"?(u=l+o,u>a.length-1&&(u=a.length-1)):i==="last"&&(u=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[u],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(mf):le(le({},mf),this.props.theme):mf}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,s=this.getStyles,a=this.getClassNames,u=this.getValue,l=this.selectOption,c=this.setValue,d=this.props,f=d.isMulti,m=d.isRtl,y=d.options,w=this.hasValue();return{clearValue:i,cx:o,getStyles:s,getClassNames:a,getValue:u,hasValue:w,isMulti:f,isRtl:m,options:y,selectOption:l,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,s=i.isMulti;return o===void 0?s:o}},{key:"isOptionDisabled",value:function(i,o){return nb(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return rb(this.props,i,o)}},{key:"filterOption",value:function(i,o){return ib(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:s,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,s=i.isSearchable,a=i.inputId,u=i.inputValue,l=i.tabIndex,c=i.form,d=i.menuIsOpen,f=i.required,m=this.getComponents(),y=m.Input,w=this.state,T=w.inputIsHidden,p=w.ariaSelection,g=this.commonProps,v=a||this.getElementId("input"),_=le(le(le({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox"},d&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?(p==null?void 0:p.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?b.createElement(y,de({},g,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:o,isHidden:T,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,form:c,type:"text",value:u},_)):b.createElement(oV,de({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:zc,onFocus:this.onInputFocus,disabled:o,tabIndex:l,inputMode:"none",form:c,value:""},_))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),s=o.MultiValue,a=o.MultiValueContainer,u=o.MultiValueLabel,l=o.MultiValueRemove,c=o.SingleValue,d=o.Placeholder,f=this.commonProps,m=this.props,y=m.controlShouldRenderValue,w=m.isDisabled,T=m.isMulti,p=m.inputValue,g=m.placeholder,v=this.state,_=v.selectValue,x=v.focusedValue,C=v.isFocused;if(!this.hasValue()||!y)return p?null:b.createElement(d,de({},f,{key:"placeholder",isDisabled:w,isFocused:C,innerProps:{id:this.getElementId("placeholder")}}),g);if(T)return _.map(function(F,L){var H=F===x,te="".concat(i.getOptionLabel(F),"-").concat(i.getOptionValue(F));return b.createElement(s,de({},f,{components:{Container:a,Label:u,Remove:l},isFocused:H,isDisabled:w,key:te,index:L,removeProps:{onClick:function(){return i.removeValue(F)},onTouchEnd:function(){return i.removeValue(F)},onMouseDown:function(be){be.preventDefault()}},data:F}),i.formatOptionLabel(F,"value"))});if(p)return null;var k=_[0];return b.createElement(c,de({},f,{data:k,isDisabled:w}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,s=this.commonProps,a=this.props,u=a.isDisabled,l=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||u||!this.hasValue()||l)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(o,de({},s,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,s=this.commonProps,a=this.props,u=a.isDisabled,l=a.isLoading,c=this.state.isFocused;if(!o||!l)return null;var d={"aria-hidden":"true"};return b.createElement(o,de({},s,{innerProps:d,isDisabled:u,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,s=i.IndicatorSeparator;if(!o||!s)return null;var a=this.commonProps,u=this.props.isDisabled,l=this.state.isFocused;return b.createElement(s,de({},a,{isDisabled:u,isFocused:l}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var s=this.commonProps,a=this.props.isDisabled,u=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(o,de({},s,{innerProps:l,isDisabled:a,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),s=o.Group,a=o.GroupHeading,u=o.Menu,l=o.MenuList,c=o.MenuPortal,d=o.LoadingMessage,f=o.NoOptionsMessage,m=o.Option,y=this.commonProps,w=this.state.focusedOption,T=this.props,p=T.captureMenuScroll,g=T.inputValue,v=T.isLoading,_=T.loadingMessage,x=T.minMenuHeight,C=T.maxMenuHeight,k=T.menuIsOpen,F=T.menuPlacement,L=T.menuPosition,H=T.menuPortalTarget,te=T.menuShouldBlockScroll,fe=T.menuShouldScrollIntoView,be=T.noOptionsMessage,pe=T.onMenuScrollToTop,Te=T.onMenuScrollToBottom;if(!k)return null;var Je=function(O,N){var M=O.type,V=O.data,A=O.isDisabled,q=O.isSelected,Y=O.label,W=O.value,Z=w===V,G=A?void 0:function(){return i.onOptionHover(V)},X=A?void 0:function(){return i.selectOption(V)},R="".concat(i.getElementId("option"),"-").concat(N),U={id:R,onClick:X,onMouseMove:G,onMouseOver:G,tabIndex:-1};return b.createElement(m,de({},y,{innerProps:U,data:V,isDisabled:A,isSelected:q,key:R,label:Y,type:M,value:W,isFocused:Z,innerRef:Z?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(O.data,"menu"))},Ze;if(this.hasOptions())Ze=this.getCategorizedOptions().map(function(I){if(I.type==="group"){var O=I.data,N=I.options,M=I.index,V="".concat(i.getElementId("group"),"-").concat(M),A="".concat(V,"-heading");return b.createElement(s,de({},y,{key:V,data:O,options:N,Heading:a,headingProps:{id:A,data:I.data},label:i.formatGroupLabel(I.data)}),I.options.map(function(q){return Je(q,"".concat(M,"-").concat(q.index))}))}else if(I.type==="option")return Je(I,"".concat(I.index))});else if(v){var Q=_({inputValue:g});if(Q===null)return null;Ze=b.createElement(d,y,Q)}else{var oe=be({inputValue:g});if(oe===null)return null;Ze=b.createElement(f,y,oe)}var S={minMenuHeight:x,maxMenuHeight:C,menuPlacement:F,menuPosition:L,menuShouldScrollIntoView:fe},h=b.createElement(F6,de({},y,S),function(I){var O=I.ref,N=I.placerProps,M=N.placement,V=N.maxHeight;return b.createElement(u,de({},y,S,{innerRef:O,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:v,placement:M}),b.createElement(dV,{captureEnabled:p,onTopArrive:pe,onBottomArrive:Te,lockEnabled:te},function(A){return b.createElement(l,de({},y,{innerRef:function(Y){i.getMenuListRef(Y),A(Y)},isLoading:v,maxHeight:V,focusedOption:w}),Ze)}))});return H||L==="fixed"?b.createElement(c,de({},y,{appendTo:H,controlElement:this.controlRef,menuPlacement:F,menuPosition:L}),h):h}},{key:"renderFormField",value:function(){var i=this,o=this.props,s=o.delimiter,a=o.isDisabled,u=o.isMulti,l=o.name,c=o.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!a)return b.createElement(pV,{name:l,onFocus:this.onValueInputFocus});if(!(!l||a))if(u)if(s){var f=d.map(function(w){return i.getOptionValue(w)}).join(s);return b.createElement("input",{name:l,type:"hidden",value:f})}else{var m=d.length>0?d.map(function(w,T){return b.createElement("input",{key:"i-".concat(T),name:l,type:"hidden",value:i.getOptionValue(w)})}):b.createElement("input",{name:l,type:"hidden",value:""});return b.createElement("div",null,m)}else{var y=d[0]?this.getOptionValue(d[0]):"";return b.createElement("input",{name:l,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,s=o.ariaSelection,a=o.focusedOption,u=o.focusedValue,l=o.isFocused,c=o.selectValue,d=this.getFocusableOptions();return b.createElement(ZF,de({},i,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:a,focusedValue:u,isFocused:l,selectValue:c,focusableOptions:d}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,s=i.IndicatorsContainer,a=i.SelectContainer,u=i.ValueContainer,l=this.props,c=l.className,d=l.id,f=l.isDisabled,m=l.menuIsOpen,y=this.state.isFocused,w=this.commonProps=this.getCommonProps();return b.createElement(a,de({},w,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:y}),this.renderLiveRegion(),b.createElement(o,de({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:y,menuIsOpen:m}),b.createElement(u,de({},w,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),b.createElement(s,de({},w,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var s=o.prevProps,a=o.clearFocusValueOnUpdate,u=o.inputIsHiddenAfterUpdate,l=o.ariaSelection,c=o.isFocused,d=o.prevWasFocused,f=i.options,m=i.value,y=i.menuIsOpen,w=i.inputValue,T=i.isMulti,p=V1(m),g={};if(s&&(m!==s.value||f!==s.options||y!==s.menuIsOpen||w!==s.inputValue)){var v=y?CV(i,p):[],_=a?RV(o,p):null,x=AV(o,v);g={selectValue:p,focusedOption:x,focusedValue:_,clearFocusValueOnUpdate:!1}}var C=u!=null&&i!==s?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},k=l,F=c&&d;return c&&!F&&(k={value:rl(T,p,p[0]||null),options:p,action:"initial-input-focus"},F=!d),(l==null?void 0:l.action)==="initial-input-focus"&&(k=null),le(le(le({},g),C),{},{prevProps:i,ariaSelection:k,prevWasFocused:F})}}]),n}(b.Component);sb.defaultProps=bV;var kV=b.forwardRef(function(t,e){var n=Q3(t);return b.createElement(sb,de({ref:e},n))}),PV=kV;function DV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ts(t,e)}function OV(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Al(t,e,n){return gI()?Al=Reflect.construct.bind():Al=function(i,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(i,a),l=new u;return s&&ts(l,s.prototype),l},Al.apply(null,arguments)}function im(t){var e=typeof Map=="function"?new Map:void 0;return im=function(r){if(r===null||!OV(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Al(r,arguments,Ba(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ts(i,r)},im(t)}var Jn=function(t){DV(e,t);function e(n){var r;return r=t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,vI(r)}return e}(im(Error));function gf(t){return Math.round(t*255)}function NV(t,e,n){return gf(t)+","+gf(e)+","+gf(n)}function qa(t,e,n,r){if(r===void 0&&(r=NV),e===0)return r(n,n,n);var i=(t%360+360)%360/60,o=(1-Math.abs(2*n-1))*e,s=o*(1-Math.abs(i%2-1)),a=0,u=0,l=0;i>=0&&i<1?(a=o,u=s):i>=1&&i<2?(a=s,u=o):i>=2&&i<3?(u=o,l=s):i>=3&&i<4?(u=s,l=o):i>=4&&i<5?(a=s,l=o):i>=5&&i<6&&(a=o,l=s);var c=n-o/2,d=a+c,f=u+c,m=l+c;return r(d,f,m)}var ew={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function MV(t){if(typeof t!="string")return t;var e=t.toLowerCase();return ew[e]?"#"+ew[e]:t}var LV=/^#[a-fA-F0-9]{6}$/,FV=/^#[a-fA-F0-9]{8}$/,VV=/^#[a-fA-F0-9]{3}$/,UV=/^#[a-fA-F0-9]{4}$/,vf=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,jV=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,$V=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,BV=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function ab(t){if(typeof t!="string")throw new Jn(3);var e=MV(t);if(e.match(LV))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(FV)){var n=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:n}}if(e.match(VV))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(UV)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var i=vf.exec(e);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=jV.exec(e.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var s=$V.exec(e);if(s){var a=parseInt(""+s[1],10),u=parseInt(""+s[2],10)/100,l=parseInt(""+s[3],10)/100,c="rgb("+qa(a,u,l)+")",d=vf.exec(c);if(!d)throw new Jn(4,e,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10)}}var f=BV.exec(e.substring(0,50));if(f){var m=parseInt(""+f[1],10),y=parseInt(""+f[2],10)/100,w=parseInt(""+f[3],10)/100,T="rgb("+qa(m,y,w)+")",p=vf.exec(T);if(!p)throw new Jn(4,e,T);return{red:parseInt(""+p[1],10),green:parseInt(""+p[2],10),blue:parseInt(""+p[3],10),alpha:parseFloat(""+f[4])>1?parseFloat(""+f[4])/100:parseFloat(""+f[4])}}throw new Jn(5)}function zV(t){var e=t.red/255,n=t.green/255,r=t.blue/255,i=Math.max(e,n,r),o=Math.min(e,n,r),s=(i+o)/2;if(i===o)return t.alpha!==void 0?{hue:0,saturation:0,lightness:s,alpha:t.alpha}:{hue:0,saturation:0,lightness:s};var a,u=i-o,l=s>.5?u/(2-i-o):u/(i+o);switch(i){case e:a=(n-r)/u+(n<r?6:0);break;case n:a=(r-e)/u+2;break;default:a=(e-n)/u+4;break}return a*=60,t.alpha!==void 0?{hue:a,saturation:l,lightness:s,alpha:t.alpha}:{hue:a,saturation:l,lightness:s}}function HV(t){return zV(ab(t))}var WV=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},om=WV;function Ri(t){var e=t.toString(16);return e.length===1?"0"+e:e}function yf(t){return Ri(Math.round(t*255))}function qV(t,e,n){return om("#"+yf(t)+yf(e)+yf(n))}function qc(t,e,n){return qa(t,e,n,qV)}function KV(t,e,n){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number")return qc(t,e,n);if(typeof t=="object"&&e===void 0&&n===void 0)return qc(t.hue,t.saturation,t.lightness);throw new Jn(1)}function GV(t,e,n,r){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?qc(t,e,n):"rgba("+qa(t,e,n)+","+r+")";if(typeof t=="object"&&e===void 0&&n===void 0&&r===void 0)return t.alpha>=1?qc(t.hue,t.saturation,t.lightness):"rgba("+qa(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new Jn(2)}function sm(t,e,n){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number")return om("#"+Ri(t)+Ri(e)+Ri(n));if(typeof t=="object"&&e===void 0&&n===void 0)return om("#"+Ri(t.red)+Ri(t.green)+Ri(t.blue));throw new Jn(6)}function QV(t,e,n,r){if(typeof t=="string"&&typeof e=="number"){var i=ab(t);return"rgba("+i.red+","+i.green+","+i.blue+","+e+")"}else{if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?sm(t,e,n):"rgba("+t+","+e+","+n+","+r+")";if(typeof t=="object"&&e===void 0&&n===void 0&&r===void 0)return t.alpha>=1?sm(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}throw new Jn(7)}var XV=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},YV=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},JV=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},ZV=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function e5(t){if(typeof t!="object")throw new Jn(8);if(YV(t))return QV(t);if(XV(t))return sm(t);if(ZV(t))return GV(t);if(JV(t))return KV(t);throw new Jn(8)}function ub(t,e,n){return function(){var i=n.concat(Array.prototype.slice.call(arguments));return i.length>=e?t.apply(this,i):ub(t,e,i)}}function t5(t){return ub(t,t.length,[])}function n5(t,e,n){return Math.max(t,Math.min(e,n))}function r5(t,e){if(e==="transparent")return e;var n=HV(e);return e5(de({},n,{lightness:n5(0,1,n.lightness-parseFloat(t))}))}var i5=t5(r5),o5=i5;function s5(t){return vt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}}]})(t)}function a5(t){return vt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"}}]})(t)}const u5=()=>{var X;const[t,e]=b.useState([]),[n,r]=b.useState(!0),[i,o]=b.useState(!1),[s,a]=b.useState(null),[u,l]=b.useState(!1),[c,d]=b.useState([]),[f,m]=b.useState("text"),[y,w]=b.useState(""),[T,p]=b.useState("New Form"),[g,v]=b.useState(""),[_,x]=b.useState({}),[C,k]=b.useState(""),[F,L]=b.useState(""),H=ig(),[te,fe]=b.useState(!1),[be,pe]=b.useState(""),Te=()=>E.jsxs("div",{className:"max-w-md mx-auto p-4",children:[E.jsx("input",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:border-purple-300 placeholder-gray-400",value:be,onChange:R=>pe(R.target.value),placeholder:"Enter email to share with"}),E.jsx("button",{onClick:oe,className:"w-full mt-4 py-2 px-4 bg-black text-white font-bold rounded focus:outline-none hover:bg-gray-600 hover:text-white",children:"Share Form"}),E.jsx("button",{onClick:R=>{R.preventDefault(),fe(!1)},className:"w-full mt-4 py-2 px-4 bg-gray-200 text-black font-bold rounded focus:outline-none hover:bg-gray-300 hover:text-black",children:"Cancel"})]}),Je=()=>{o(!1),l(!1)},Ze=R=>E.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[E.jsx("div",{className:"absolute inset-0 bg-black opacity-50"})," ",E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-11/12 md:max-w-2xl relative max-h-[70vh] overflow-y-auto",children:[E.jsx("button",{onClick:Je,className:"absolute top-4 right-4",children:E.jsx(S3,{className:"h-5 w-5 text-gray-500 hover:text-gray-700"})}),R]})]}),Q=async()=>{try{await Zk(Xe),console.log("Logged out successfully")}catch(R){console.error("Error logging out:",R)}},oe=async R=>{var se;R.preventDefault();const U=(se=Xe.currentUser)==null?void 0:se.uid;if(!U){console.error("User not authenticated"),v("Authentication error.");return}const ee=jr(Sn,"users"),D=await Kp(ee);let K=null;if(D.forEach(P=>{P.data().email===be&&(K=P)}),!K){v("No matching user found.");return}if(s&&s.id){let P=s.allowed||[];P.includes(be)||P.push(be);const $=Zt(Sn,"users",U,"forms",s.id);await yM($,{allowed:P});const re={...s,submitto:{form_id:s.id,parent_id:s.submitto.parent_id},allowed:P};fe(!1),await Il(Zt(jr(Zt(Sn,"users",K.id),"forms"),s.id),re)}},S=async()=>{var U;const R=(U=Xe.currentUser)==null?void 0:U.uid;if(!R){console.error("User not authenticated"),v("Authentication error.");return}if(s&&s.id)try{const ee=Zt(jr(Zt(Sn,"users",R),"forms"),s.id);(await NT(ee)).exists()?H(`/answers/${s.id}`):v("You don't have permission to access this form.")}catch(ee){console.error("Error accessing form: ",ee),v(ee.message)}else v("No form selected.")},h=[{value:"Burning",label:"Burning",color:"#DA9B8C"},{value:"Hot",label:"Hot",color:"#C2A1A9"},{value:"Cold",label:"Cold",color:"#ABA8C9"},{value:"Freezing",label:"Freezing",color:"#94B1EB"}],I=(R,U="",ee={})=>{for(let D in R){let K=U?`${U}_${D}`:D;typeof R[D]=="object"&&R[D]!==null&&!Array.isArray(R[D])?I(R[D],K,ee):ee[K]=R[D]}return ee},O=R=>{k(R),x(U=>({...U,OcrText:R}))},N=R=>{k(R),x(U=>({...U,STT:R}))},M=R=>{const U=I(R.data);L(R),x(ee=>({...ee,...U}))},V={option:(R,U)=>({...R,backgroundColor:U.isFocused?o5(.1,U.data.color):U.data.color,color:"black"}),singleValue:(R,U)=>({...R,color:"black"}),control:(R,U)=>({...R,backgroundColor:U.hasValue?U.getValue()[0].color:"#fff",borderColor:U.isFocused?"#A5ACB3":"#ccc",boxShadow:U.isFocused?"0 3px 10px rgba(0, 0, 0, 0.15)":null,"&:hover":{borderColor:U.isFocused?"#A5ACB3":"#ccc"}})},A=async R=>{var U;try{const ee=(U=Xe.currentUser)==null?void 0:U.uid;if(!ee){console.error("User not authenticated");return}const D=Zt(Sn,"users",ee,"forms",R);await wM(D),Y()}catch(ee){console.error("Error deleting form: ",ee)}},q=async()=>{var R;if(T==="New Form"||T==="")v("Please provide a unique name for your form.");else try{const U=(R=Xe.currentUser)==null?void 0:R.uid;if(!U){console.error("User not authenticated"),v("Authentication error.");return}const ee=jr(Zt(Sn,"users",U),"forms"),D=Zt(ee),K={name:T,fields:c,owner:Xe.currentUser.uid,submitto:{form_id:D.id,parent_id:U},allowed:[Xe.currentUser.email]};await Il(D,K),Y(),v("")}catch(U){console.error("Error saving form: ",U),v(U.message)}},Y=async()=>{var R;try{const U=(R=Xe.currentUser)==null?void 0:R.uid;if(!U){console.error("User not authenticated");return}const ee=jr(Zt(Sn,"users",U),"forms"),K=(await Kp(ee)).docs.map(se=>({id:se.id,...se.data()}));e(K)}catch(U){console.error("Error fetching forms: ",U)}finally{r(!1)}},W=R=>{a(R),o(!0)},Z=()=>{f==="custom"?(d([...c,y]),w("")):d([...c,f])};b.useEffect(()=>{Y()},[]);const G=async R=>{var ee;if(R.preventDefault(),!((ee=Xe.currentUser)==null?void 0:ee.uid)){console.error("User not authenticated");return}try{const D=jr(Zt(Sn,"users",s.submitto.parent_id),"answers");_.parent_form=s.submitto.form_id,await Il(Zt(D),_),console.log("Responses saved successfully."),o(!1)}catch(D){console.error("Error saving responses: ",D)}};return E.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-purple-100 to-purple-300 p-4 md:p-6 font-space-grotesk",children:[E.jsx(vv,{}),E.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 shadow-md p-6 rounded-md bg-white",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("p",{className:"text-gray-700 font-semibold",children:["Currently logged in: ",(X=Xe.currentUser)==null?void 0:X.email]}),E.jsx("button",{onClick:Q,className:"border-2 border-purple-500 text-purple-500 bg-transparent hover:bg-purple-100 hover:text-purple-600 rounded-full py-1 px-3 focus:outline-none",children:"Logout"})]}),E.jsx("button",{onClick:()=>l(!0),className:"w-full p-2 mb-4 border-2 border-black text-black bg-transparent font-bold rounded focus:outline-none hover:bg-gray-200 hover:text-black",children:"+ Add New Form"}),n?E.jsx("p",{className:"text-gray-500",children:"Loading..."}):E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-bold mb-5",children:"My Forms"}),t.length>0?t.map(R=>E.jsx("div",{className:"p-4 rounded shadow mb-4 border bg-gray-100",children:E.jsxs("div",{className:"flex flex-wrap justify-between items-center p-4 space-y-4 md:space-y-0",children:[E.jsxs("div",{className:"flex-1 mb-2 md:mb-0",children:[E.jsx("p",{className:"text-gray-800 font-medium",children:R.name}),E.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["ID: ",R.id]}),E.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Owner:",Xe.currentUser.uid===R.owner?E.jsx("span",{className:"text-green-500",children:"owner"}):"not owned"]})]}),E.jsxs("div",{className:"flex flex-wrap",children:[E.jsx("button",{onClick:()=>W(R),className:"mr-2 mt-2 md:mt-0 border-2 border-purple-500 text-purple-500 bg-transparent hover:bg-purple-100 hover:text-purple-600 rounded-full py-1 px-3 focus:outline-none",children:"Open"}),E.jsx("button",{onClick:()=>H(`/answers/${R.id}`),className:"mr-2 mt-2 md:mt-0 border-2 border-black text-black bg-transparent hover:bg-gray-100 hover:text-gray-600 rounded-full py-1 px-3 focus:outline-none",children:"Answers"}),E.jsx("button",{onClick:()=>A(R.id),className:"mr-2 mt-2 md:mt-0 border-2 border-red-500 text-red-500 bg-transparent hover:bg-red-100 hover:text-red-600 rounded-full py-1 px-3 focus:outline-none",children:E.jsx(s5,{})})]})]})},R.id)):E.jsx("p",{className:"text-gray-500",children:"No forms available"})]}),i&&(s==null?void 0:s.fields)&&Ze(E.jsxs("div",{className:"mt-4 space-y-4",children:[E.jsxs("form",{className:"mt-4 space-y-4",children:[E.jsxs("div",{children:[te&&Te(),E.jsxs("div",{className:"flex items-center",children:[E.jsx("button",{onClick:R=>{R.preventDefault(),fe(!0)},className:"mr-2 bg-gray-100 hover:bg-gray-200 p-3 rounded-full focus:outline-none focus:ring focus:ring-gray-500 focus:ring-opacity-50 transition duration-150 ease-in-out",children:E.jsx(a5,{})}),E.jsx("h1",{className:"text-2xl font-bold mr-2",children:s.name})]})]}),Object.keys(s.fields).map(R=>E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700 mb-2 capitalize",children:s.fields[R]}),s.fields[R]==="Transcript OCR"?E.jsx(OM,{onTextChange:O}):s.fields[R]==="Business Card Scanner"?E.jsx(v3,{onDataExtracted:M}):s.fields[R]==="Audio Transcription"?E.jsx(B3,{setSTTText:N}):s.fields[R]==="Lead Temperature"?E.jsx(PV,{options:h,styles:V,onChange:U=>x(ee=>({...ee,[s.fields[R]]:U.value}))}):E.jsx("input",{type:"text",name:R,className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",onChange:U=>x(ee=>({...ee,[s.fields[R]]:U.target.value}))})]},R)),E.jsx("button",{onClick:G,className:"w-full flex justify-center items-center py-2 px-4 border-2 border-green-200 text-green-600 bg-green-100 font-bold rounded hover:bg-green-200 hover:border-green-300 hover:text-green-700 focus:outline-none",children:E.jsx(I3,{})})]}),E.jsx("button",{onClick:()=>o(!1),className:"w-full flex justify-center items-center py-2 border-2 border-gray-200 text-gray-600 bg-gray-100 rounded hover:bg-gray-200 hover:border-gray-300 hover:text-gray-700 focus:outline-none",children:E.jsx(T3,{})}),E.jsx("button",{onClick:S,className:"w-full flex justify-center items-center py-2 border-2 border-purple-200 text-purple-600 bg-purple-100 rounded hover:bg-purple-200 hover:border-purple-300 hover:text-purple-700 focus:outline-none",children:"Go to Answers"})]})),u&&Ze(E.jsxs("div",{className:"mt-4 space-y-4",children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"formName",children:"Form Name"}),E.jsx("input",{id:"formName",type:"text",value:T,placeholder:"Enter form name",onChange:R=>p(R.target.value),className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400"}),g&&E.jsx("p",{className:"text-red-500 mt-2",children:g})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"dropdown",children:"Choose a Field"}),E.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-2 space-y-2 md:space-y-0",children:[E.jsxs("select",{id:"dropdown",value:f,onChange:R=>{c.includes(R.target.value)||m(R.target.value)},className:"flex-grow p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",children:[E.jsx("option",{disabled:!0,value:"",children:"Select an option"}),E.jsx("option",{disabled:c.includes("Business Card Scanner"),value:"Business Card Scanner",children:"Business Card Reader"}),E.jsx("option",{disabled:c.includes("Audio Transcription"),value:"Audio Transcription",children:"Audio - Text"}),E.jsx("option",{disabled:c.includes("Transcript OCR"),value:"Transcript OCR",children:"Transcript OCR"}),E.jsx("option",{disabled:c.includes("text"),value:"text",children:"Base Text"}),E.jsx("option",{disabled:c.includes("Lead Temperature"),value:"Lead Temperature",children:"Lead Temperature"}),E.jsx("option",{disabled:c.includes("custom"),value:"custom",children:"Custom"})]}),f==="custom"&&E.jsx("input",{type:"text",value:y,placeholder:"Enter custom field",onChange:R=>w(R.target.value),className:"flex-grow p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400"})]}),E.jsx("button",{onClick:Z,className:"w-full p-2 mb-4 mt-4 border-2 border-black text-black bg-transparent font-bold rounded focus:outline-none hover:bg-gray-200 hover:text-black",children:"Add Field"})]}),E.jsx("div",{className:"mb-4",children:c.map((R,U)=>E.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded shadow mb-2",children:[E.jsx("span",{className:"text-gray-700",children:R}),E.jsx("button",{onClick:()=>{const ee=[...c];ee.splice(U,1),d(ee)},className:"text-pink-300 hover:underline",children:"Remove"})]},U))}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Load a template"}),E.jsxs("div",{className:"flex space-x-4",children:[E.jsx("button",{onClick:()=>d(["Transcript OCR","Business Card Scanner","Audio Transcription","Lead Temperature"]),className:"flex-1 py-2 px-4 bg-gray-300 hover:bg-gray-400 rounded focus:outline-none",children:"Ausführlich"}),E.jsx("button",{onClick:()=>d(["Business Card Scanner","Audio Transcription"]),className:"flex-1 py-2 px-4 bg-gray-300 hover:bg-gray-400 rounded focus:outline-none",children:"Quicknotes"})]})]}),E.jsx("button",{onClick:()=>{T!=="New Form"?(console.log(g),l(!1),d([]),m(""),q()):v("Please choose another Name for the form")},className:"w-full p-2 mb-4 border-2 border-black text-black bg-transparent font-bold rounded focus:outline-none hover:bg-gray-200 hover:text-black",children:"Save and Close"})]}))]})]})},l5=()=>{const{formId:t}=fA(),[e,n]=b.useState([]),[r,i]=b.useState(!0),[o,s]=b.useState(null),[a,u]=b.useState(""),l=L=>{const H=[];return L.forEach(te=>{const fe={};f.forEach(pe=>{fe[pe]=te[pe]||""}),m.forEach(pe=>{fe[pe]=te[pe]||""}),fe[y]=te[y]||"",Object.entries(te).filter(([pe])=>!w.includes(pe)).forEach(([pe,Te])=>{fe[pe]=Te||""}),H.push(fe)}),H},c=L=>{const H=[],te=Object.keys(L[0]);return H.push(te.map(fe=>`"${fe}"`).join(",")),L.forEach(fe=>{H.push(Object.values(fe).map(be=>`"${be.toString().replace(/"/g,'""').replace(/\n/g," ↵ ")}"`).join(","))}),H.join(`\r
`)},d=(L,H="answers.csv")=>{const te=new Blob([L],{type:"text/csv"}),fe=window.URL.createObjectURL(te),be=document.createElement("a");be.href=fe,be.download=H,be.click(),window.URL.revokeObjectURL(fe)},f=["first_name","last_name","occupation","street","house_number","postal_code","city","phone","email"],m=["OcrText","STT","text"],y="website",w=[...f,...m,y,"parent_form","id"],T=(L,H)=>E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-600 capitalize",children:L.replace("_"," ")}),E.jsx("input",{type:"text",className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",value:H,readOnly:!0})]},L),p=(L,H,te=3)=>E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-600 capitalize",children:L.replace("_"," ")}),E.jsx("textarea",{className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",value:H,readOnly:!0,rows:te})]},L),g=(L,H)=>E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-600 capitalize",children:L.replace("_"," ")}),E.jsx("a",{href:H,target:"_blank",rel:"noopener noreferrer",children:H})]},L),v=L=>{const H=encodeURIComponent("Outreach Subject Dummy"),te=encodeURIComponent("Hey, we talked today and bla bla...");window.location.href=`mailto:${L}?subject=${H}&body=${te}`},_=L=>f.some(te=>L[te])?E.jsx(E.Fragment,{children:E.jsxs("div",{className:"bg-gray-200 p-4 rounded",children:[E.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Contact Card:"}),f.map(te=>te==="email"&&L[te]?E.jsxs("div",{children:[E.jsx("label",{className:"block text-gray-600 capitalize",children:te.replace("_"," ")}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("input",{type:"text",className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",value:L[te],readOnly:!0}),E.jsx("button",{onClick:()=>v(L[te]),className:"ml-2 bg-green-500 text-white px-3 py-3 rounded focus:outline-none",children:E.jsx(y3,{})})]})]},te):L[te]?T(te,L[te]):null)]})}):null,x=L=>m.some(te=>L[te])?E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Textareas:"}),m.map(te=>L[te]?p(te,L[te]):null)]}):null,C=L=>L[y]?E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Website:"}),g(y,L[y])]}):null,k=L=>{const H=Object.entries(L).filter(([te])=>!w.includes(te));return H.length===0?null:E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"The rest:"}),H.map(([te,fe])=>p(te,fe,1))]})};b.useEffect(()=>{(async()=>{try{const te=(await NT(Zt(Sn,"users",Xe.currentUser.uid,"forms",t))).data();if(te&&te.allowed.map(fe=>fe.toLowerCase()).includes(Xe.currentUser.email.toLowerCase())){const fe=te.submitto;u(te.name);const pe=(await Kp(jr(Sn,"users",fe.parent_id,"answers"))).docs.filter(Te=>Te.data().parent_form===fe.form_id);n(pe.map(Te=>({id:Te.id,...Te.data()})))}}catch(H){console.error("Error fetching form details or answers:",H)}finally{i(!1)}})()},[t]);const F=L=>{s(o===L?null:L)};return E.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-purple-100 to-purple-300 p-4 md:p-6 font-space-grotesk",children:[E.jsx(vv,{}),E.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 shadow-md p-6 rounded-md bg-white",children:[E.jsxs("p",{className:"mb-6 text-gray-700 font-semibold",children:["Form: ",a===""?"loading...":a]}),E.jsxs("p",{className:"mb-6 text-gray-500",children:["Viewing answers as: ",Xe.currentUser.email]}),E.jsx("button",{onClick:()=>{const L=l(e),H=c(L);d(H)},className:"border-2 border-green-500 text-green-500 bg-transparent hover:bg-green-100 hover:text-green-600 rounded-full py-1 px-3 focus:outline-none",children:"Export Answers to CSV"}),r&&E.jsx("p",{className:"text-gray-500",children:"Loading answers..."}),!r&&e.map(L=>E.jsxs("div",{className:"p-4 rounded shadow mb-4 border bg-gray-100",children:[E.jsxs("div",{className:"flex flex-wrap justify-between items-center cursor-pointer p-4 space-y-4 md:space-y-0",onClick:()=>F(L.id),children:[E.jsx("div",{className:"flex-1 mb-2 md:mb-0",children:E.jsxs("p",{className:"text-gray-800 font-medium",children:["Prospect:"," ",L.first_name+" "+L.last_name||"Anonymous"]})}),E.jsx("div",{className:"flex flex-wrap",children:o===L.id?E.jsx("button",{className:"border-2 border-red-500 text-red-500 bg-transparent hover:bg-red-100 hover:text-red-600 rounded-full py-1 px-3 focus:outline-none",children:"Close"}):E.jsx("button",{className:"border-2 border-blue-500 text-blue-500 bg-transparent hover:bg-blue-100 hover:text-blue-600 rounded-full py-1 px-3 focus:outline-none",children:"View"})})]}),o===L.id&&E.jsxs("div",{className:"mt-4 space-y-4",children:[_(L),x(L),C(L),k(L)]})]},L.id))]})]})};function c5(){return E.jsx(TM,{children:E.jsx(kA,{children:E.jsxs(AA,{children:[E.jsx(Ms,{path:"/login",element:E.jsx(SM,{})}),E.jsx(Ms,{path:"/dashboard",element:E.jsx(g1,{children:E.jsx(u5,{})})}),E.jsx(Ms,{path:"/answers/:formId",element:E.jsx(g1,{children:E.jsx(l5,{})})}),E.jsx(Ms,{path:"/",element:E.jsx(kM,{})})]})})})}_f.createRoot(document.getElementById("root")).render(E.jsx(vr.StrictMode,{children:E.jsx(c5,{})}));
