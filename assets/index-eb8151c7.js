function sb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q1={exports:{}},qc={},X1={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),ob=Symbol.for("react.portal"),ab=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),cb=Symbol.for("react.provider"),db=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),fb=Symbol.for("react.suspense"),pb=Symbol.for("react.memo"),mb=Symbol.for("react.lazy"),Dv=Symbol.iterator;function gb(t){return t===null||typeof t!="object"?null:(t=Dv&&t[Dv]||t["@@iterator"],typeof t=="function"?t:null)}var Y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J1=Object.assign,Z1={};function no(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||Y1}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ew(){}ew.prototype=no.prototype;function am(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||Y1}var um=am.prototype=new ew;um.constructor=am;J1(um,no.prototype);um.isPureReactComponent=!0;var Ov=Array.isArray,tw=Object.prototype.hasOwnProperty,lm={current:null},nw={key:!0,ref:!0,__self:!0,__source:!0};function rw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tw.call(e,r)&&!nw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ka,type:t,key:s,ref:o,props:i,_owner:lm.current}}function vb(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function yb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nv=/\/+/g;function hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yb(""+t.key):e.toString(36)}function il(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ka:case ob:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hh(o,0):r,Ov(i)?(n="",t!=null&&(n=t.replace(Nv,"$&/")+"/"),il(i,e,n,"",function(l){return l})):i!=null&&(cm(i)&&(i=vb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Nv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ov(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+hh(s,a);o+=il(s,e,n,u,i)}else if(u=gb(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+hh(s,a++),o+=il(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Iu(t,e,n){if(t==null)return t;var r=[],i=0;return il(t,r,"","",function(s){return e.call(n,s,i++)}),r}function wb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},sl={transition:null},_b={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:sl,ReactCurrentOwner:lm};we.Children={map:Iu,forEach:function(t,e,n){Iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Iu(t,function(){e++}),e},toArray:function(t){return Iu(t,function(e){return e})||[]},only:function(t){if(!cm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=no;we.Fragment=ab;we.Profiler=lb;we.PureComponent=am;we.StrictMode=ub;we.Suspense=fb;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_b;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=lm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)tw.call(e,u)&&!nw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Ka,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:db,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cb,_context:t},t.Consumer=t};we.createElement=rw;we.createFactory=function(t){var e=rw.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:hb,render:t}};we.isValidElement=cm;we.lazy=function(t){return{$$typeof:mb,_payload:{_status:-1,_result:t},_init:wb}};we.memo=function(t,e){return{$$typeof:pb,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=sl.transition;sl.transition={};try{t()}finally{sl.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return Qt.current.useCallback(t,e)};we.useContext=function(t){return Qt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Qt.current.useEffect(t,e)};we.useId=function(){return Qt.current.useId()};we.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Qt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};we.useRef=function(t){return Qt.current.useRef(t)};we.useState=function(t){return Qt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Qt.current.useTransition()};we.version="18.2.0";X1.exports=we;var C=X1.exports;const vr=G1(C),wf=sb({__proto__:null,default:vr},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=C,Sb=Symbol.for("react.element"),Tb=Symbol.for("react.fragment"),Ib=Object.prototype.hasOwnProperty,Cb=Eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bb={key:!0,ref:!0,__self:!0,__source:!0};function iw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ib.call(e,r)&&!bb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Sb,type:t,key:s,ref:o,props:i,_owner:Cb.current}}qc.Fragment=Tb;qc.jsx=iw;qc.jsxs=iw;Q1.exports=qc;var I=Q1.exports,_f={},sw={exports:{}},gn={},ow={exports:{}},aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,re){var E=q.length;q.push(re);e:for(;0<E;){var h=E-1>>>1,T=q[h];if(0<i(T,re))q[h]=re,q[E]=T,E=h;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var re=q[0],E=q.pop();if(E!==re){q[0]=E;e:for(var h=0,T=q.length,k=T>>>1;h<k;){var O=2*(h+1)-1,M=q[O],V=O+1,R=q[V];if(0>i(M,E))V<T&&0>i(R,M)?(q[h]=R,q[V]=E,h=V):(q[h]=M,q[O]=E,h=O);else if(V<T&&0>i(R,E))q[h]=R,q[V]=E,h=V;else break e}}return re}function i(q,re){var E=q.sortIndex-re.sortIndex;return E!==0?E:q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,f=3,m=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(q){for(var re=n(l);re!==null;){if(re.callback===null)r(l);else if(re.startTime<=q)r(l),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(l)}}function _(q){if(y=!1,v(q),!w)if(n(u)!==null)w=!0,Ye(x);else{var re=n(l);re!==null&&rt(_,re.startTime-q)}}function x(q,re){w=!1,y&&(y=!1,p(U),U=-1),m=!0;var E=f;try{for(v(re),d=n(u);d!==null&&(!(d.expirationTime>re)||q&&!Ae());){var h=d.callback;if(typeof h=="function"){d.callback=null,f=d.priorityLevel;var T=h(d.expirationTime<=re);re=t.unstable_now(),typeof T=="function"?d.callback=T:d===n(u)&&r(u),v(re)}else r(u);d=n(u)}if(d!==null)var k=!0;else{var O=n(l);O!==null&&rt(_,O.startTime-re),k=!1}return k}finally{d=null,f=E,m=!1}}var b=!1,N=null,U=-1,Z=5,ee=-1;function Ae(){return!(t.unstable_now()-ee<Z)}function De(){if(N!==null){var q=t.unstable_now();ee=q;var re=!0;try{re=N(!0,q)}finally{re?Me():(b=!1,N=null)}}else b=!1}var Me;if(typeof g=="function")Me=function(){g(De)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Oe=_e.port2;_e.port1.onmessage=De,Me=function(){Oe.postMessage(null)}}else Me=function(){S(De,0)};function Ye(q){N=q,b||(b=!0,Me())}function rt(q,re){U=S(function(){q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,Ye(x))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var re=3;break;default:re=f}var E=f;f=re;try{return q()}finally{f=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var E=f;f=q;try{return re()}finally{f=E}},t.unstable_scheduleCallback=function(q,re,E){var h=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?h+E:h):E=h,q){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=E+T,q={id:c++,callback:re,priorityLevel:q,startTime:E,expirationTime:T,sortIndex:-1},E>h?(q.sortIndex=E,e(l,q),n(u)===null&&q===n(l)&&(y?(p(U),U=-1):y=!0,rt(_,E-h))):(q.sortIndex=T,e(u,q),w||m||(w=!0,Ye(x))),q},t.unstable_shouldYield=Ae,t.unstable_wrapCallback=function(q){var re=f;return function(){var E=f;f=re;try{return q.apply(this,arguments)}finally{f=E}}}})(aw);ow.exports=aw;var Rb=ow.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw=C,pn=Rb;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lw=new Set,sa={};function Yi(t,e){Fs(t,e),Fs(t+"Capture",e)}function Fs(t,e){for(sa[t]=e,t=0;t<e.length;t++)lw.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=Object.prototype.hasOwnProperty,Ab=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mv={},Lv={};function xb(t){return Ef.call(Lv,t)?!0:Ef.call(Mv,t)?!1:Ab.test(t)?Lv[t]=!0:(Mv[t]=!0,!1)}function Pb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kb(t,e,n,r){if(e===null||typeof e>"u"||Pb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dm=/[\-:]([a-z])/g;function hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dm,hm);It[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dm,hm);It[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dm,hm);It[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fm(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kb(e,n,i,r)&&(n=null),r||i===null?xb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cu=Symbol.for("react.element"),cs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),cw=Symbol.for("react.provider"),dw=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),hw=Symbol.for("react.offscreen"),Fv=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=Fv&&t[Fv]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,fh;function Po(t){if(fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fh=e&&e[1]||""}return`
`+fh+t}var ph=!1;function mh(t,e){if(!t||ph)return"";ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Po(t):""}function Db(t){switch(t.tag){case 5:return Po(t.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return t=mh(t.type,!1),t;case 11:return t=mh(t.type.render,!1),t;case 1:return t=mh(t.type,!0),t;default:return""}}function Cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case cs:return"Portal";case Sf:return"Profiler";case pm:return"StrictMode";case Tf:return"Suspense";case If:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dw:return(t.displayName||"Context")+".Consumer";case cw:return(t._context.displayName||"Context")+".Provider";case mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gm:return e=t.displayName||null,e!==null?e:Cf(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return Cf(t(e))}catch{}}return null}function Ob(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(e);case 8:return e===pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nb(t){var e=fw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bu(t){t._valueTracker||(t._valueTracker=Nb(t))}function pw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bf(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mw(t,e){e=e.checked,e!=null&&fm(t,"checked",e,!1)}function Rf(t,e){mw(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Af(t,e.type,n):e.hasOwnProperty("defaultValue")&&Af(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Af(t,e,n){(e!=="number"||Al(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ko=Array.isArray;function Is(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $v(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ko(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function gw(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,yw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mb=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(t){Mb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zo[e]=zo[t]})});function ww(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zo.hasOwnProperty(t)&&zo[t]?(""+e).trim():e+"px"}function _w(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ww(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Lb=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kf(t,e){if(e){if(Lb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Df(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nf=null,Cs=null,bs=null;function Bv(t){if(t=Xa(t)){if(typeof Nf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Yc(e),Nf(t.stateNode,t.type,e))}}function Ew(t){Cs?bs?bs.push(t):bs=[t]:Cs=t}function Sw(){if(Cs){var t=Cs,e=bs;if(bs=Cs=null,Bv(t),e)for(t=0;t<e.length;t++)Bv(e[t])}}function Tw(t,e){return t(e)}function Iw(){}var gh=!1;function Cw(t,e,n){if(gh)return t(e,n);gh=!0;try{return Tw(t,e,n)}finally{gh=!1,(Cs!==null||bs!==null)&&(Iw(),Sw())}}function aa(t,e){var n=t.stateNode;if(n===null)return null;var r=Yc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Mf=!1;if(Er)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Mf=!1}function Fb(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Ho=!1,xl=null,Pl=!1,Lf=null,Vb={onError:function(t){Ho=!0,xl=t}};function Ub(t,e,n,r,i,s,o,a,u){Ho=!1,xl=null,Fb.apply(Vb,arguments)}function $b(t,e,n,r,i,s,o,a,u){if(Ub.apply(this,arguments),Ho){if(Ho){var l=xl;Ho=!1,xl=null}else throw Error(B(198));Pl||(Pl=!0,Lf=l)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zv(t){if(Ji(t)!==t)throw Error(B(188))}function jb(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zv(i),t;if(s===r)return zv(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Rw(t){return t=jb(t),t!==null?Aw(t):null}function Aw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Aw(t);if(e!==null)return e;t=t.sibling}return null}var xw=pn.unstable_scheduleCallback,Hv=pn.unstable_cancelCallback,Bb=pn.unstable_shouldYield,zb=pn.unstable_requestPaint,Xe=pn.unstable_now,Hb=pn.unstable_getCurrentPriorityLevel,ym=pn.unstable_ImmediatePriority,Pw=pn.unstable_UserBlockingPriority,kl=pn.unstable_NormalPriority,Wb=pn.unstable_LowPriority,kw=pn.unstable_IdlePriority,Kc=null,Zn=null;function qb(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Kc,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Qb,Kb=Math.log,Gb=Math.LN2;function Qb(t){return t>>>=0,t===0?32:31-(Kb(t)/Gb|0)|0}var Au=64,xu=4194304;function Do(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Do(a):(s&=o,s!==0&&(r=Do(s)))}else o=n&~i,o!==0?r=Do(o):s!==0&&(r=Do(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),i=1<<n,r|=t[n],e&=~i;return r}function Xb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Xb(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dw(){var t=Au;return Au<<=1,!(Au&4194240)&&(Au=64),t}function vh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function Jb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function Ow(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nw,_m,Mw,Lw,Fw,Vf=!1,Pu=[],Xr=null,Yr=null,Jr=null,ua=new Map,la=new Map,$r=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wv(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function _o(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xa(e),e!==null&&_m(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function e2(t,e,n,r,i){switch(e){case"focusin":return Xr=_o(Xr,t,e,n,r,i),!0;case"dragenter":return Yr=_o(Yr,t,e,n,r,i),!0;case"mouseover":return Jr=_o(Jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ua.set(s,_o(ua.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,la.set(s,_o(la.get(s)||null,t,e,n,r,i)),!0}return!1}function Vw(t){var e=Ri(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=bw(n),e!==null){t.blockedOn=e,Fw(t.priority,function(){Mw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ol(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Of=r,n.target.dispatchEvent(r),Of=null}else return e=Xa(n),e!==null&&_m(e),t.blockedOn=n,!1;e.shift()}return!0}function qv(t,e,n){ol(t)&&n.delete(e)}function t2(){Vf=!1,Xr!==null&&ol(Xr)&&(Xr=null),Yr!==null&&ol(Yr)&&(Yr=null),Jr!==null&&ol(Jr)&&(Jr=null),ua.forEach(qv),la.forEach(qv)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,Vf||(Vf=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,t2)))}function ca(t){function e(i){return Eo(i,t)}if(0<Pu.length){Eo(Pu[0],t);for(var n=1;n<Pu.length;n++){var r=Pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&Eo(Xr,t),Yr!==null&&Eo(Yr,t),Jr!==null&&Eo(Jr,t),ua.forEach(e),la.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)Vw(n),n.blockedOn===null&&$r.shift()}var Rs=Pr.ReactCurrentBatchConfig,Ol=!0;function n2(t,e,n,r){var i=xe,s=Rs.transition;Rs.transition=null;try{xe=1,Em(t,e,n,r)}finally{xe=i,Rs.transition=s}}function r2(t,e,n,r){var i=xe,s=Rs.transition;Rs.transition=null;try{xe=4,Em(t,e,n,r)}finally{xe=i,Rs.transition=s}}function Em(t,e,n,r){if(Ol){var i=Uf(t,e,n,r);if(i===null)Rh(t,e,r,Nl,n),Wv(t,r);else if(e2(i,t,e,n,r))r.stopPropagation();else if(Wv(t,r),e&4&&-1<Zb.indexOf(t)){for(;i!==null;){var s=Xa(i);if(s!==null&&Nw(s),s=Uf(t,e,n,r),s===null&&Rh(t,e,r,Nl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rh(t,e,r,null,n)}}var Nl=null;function Uf(t,e,n,r){if(Nl=null,t=vm(r),t=Ri(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nl=t,null}function Uw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hb()){case ym:return 1;case Pw:return 4;case kl:case Wb:return 16;case kw:return 536870912;default:return 16}default:return 16}}var qr=null,Sm=null,al=null;function $w(){if(al)return al;var t,e=Sm,n=e.length,r,i="value"in qr?qr.value:qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return al=i.slice(t,1<r?1-r:void 0)}function ul(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ku(){return!0}function Kv(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ku:Kv,this.isPropagationStopped=Kv,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=vn(ro),Qa=We({},ro,{view:0,detail:0}),i2=vn(Qa),yh,wh,So,Gc=We({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?(yh=t.screenX-So.screenX,wh=t.screenY-So.screenY):wh=yh=0,So=t),yh)},movementY:function(t){return"movementY"in t?t.movementY:wh}}),Gv=vn(Gc),s2=We({},Gc,{dataTransfer:0}),o2=vn(s2),a2=We({},Qa,{relatedTarget:0}),_h=vn(a2),u2=We({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),l2=vn(u2),c2=We({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d2=vn(c2),h2=We({},ro,{data:0}),Qv=vn(h2),f2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m2[t])?!!e[t]:!1}function Im(){return g2}var v2=We({},Qa,{key:function(t){if(t.key){var e=f2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(t){return t.type==="keypress"?ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y2=vn(v2),w2=We({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=vn(w2),_2=We({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),E2=vn(_2),S2=We({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),T2=vn(S2),I2=We({},Gc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C2=vn(I2),b2=[9,13,27,32],Cm=Er&&"CompositionEvent"in window,Wo=null;Er&&"documentMode"in document&&(Wo=document.documentMode);var R2=Er&&"TextEvent"in window&&!Wo,jw=Er&&(!Cm||Wo&&8<Wo&&11>=Wo),Yv=String.fromCharCode(32),Jv=!1;function Bw(t,e){switch(t){case"keyup":return b2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function A2(t,e){switch(t){case"compositionend":return zw(e);case"keypress":return e.which!==32?null:(Jv=!0,Yv);case"textInput":return t=e.data,t===Yv&&Jv?null:t;default:return null}}function x2(t,e){if(hs)return t==="compositionend"||!Cm&&Bw(t,e)?(t=$w(),al=Sm=qr=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jw&&e.locale!=="ko"?null:e.data;default:return null}}var P2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P2[t.type]:e==="textarea"}function Hw(t,e,n,r){Ew(r),e=Ml(e,"onChange"),0<e.length&&(n=new Tm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qo=null,da=null;function k2(t){t_(t,0)}function Qc(t){var e=ms(t);if(pw(e))return t}function D2(t,e){if(t==="change")return e}var Ww=!1;if(Er){var Eh;if(Er){var Sh="oninput"in document;if(!Sh){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),Sh=typeof e0.oninput=="function"}Eh=Sh}else Eh=!1;Ww=Eh&&(!document.documentMode||9<document.documentMode)}function t0(){qo&&(qo.detachEvent("onpropertychange",qw),da=qo=null)}function qw(t){if(t.propertyName==="value"&&Qc(da)){var e=[];Hw(e,da,t,vm(t)),Cw(k2,e)}}function O2(t,e,n){t==="focusin"?(t0(),qo=e,da=n,qo.attachEvent("onpropertychange",qw)):t==="focusout"&&t0()}function N2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qc(da)}function M2(t,e){if(t==="click")return Qc(e)}function L2(t,e){if(t==="input"||t==="change")return Qc(e)}function F2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vn=typeof Object.is=="function"?Object.is:F2;function ha(t,e){if(Vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ef.call(e,i)||!Vn(t[i],e[i]))return!1}return!0}function n0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r0(t,e){var n=n0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n0(n)}}function Kw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gw(){for(var t=window,e=Al();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Al(t.document)}return e}function bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V2(t){var e=Gw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Kw(n.ownerDocument.documentElement,n)){if(r!==null&&bm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=r0(n,s);var o=r0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var U2=Er&&"documentMode"in document&&11>=document.documentMode,fs=null,$f=null,Ko=null,jf=!1;function i0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jf||fs==null||fs!==Al(r)||(r=fs,"selectionStart"in r&&bm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ko&&ha(Ko,r)||(Ko=r,r=Ml($f,"onSelect"),0<r.length&&(e=new Tm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fs)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ps={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},Th={},Qw={};Er&&(Qw=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Xc(t){if(Th[t])return Th[t];if(!ps[t])return t;var e=ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Qw)return Th[t]=e[n];return t}var Xw=Xc("animationend"),Yw=Xc("animationiteration"),Jw=Xc("animationstart"),Zw=Xc("transitionend"),e_=new Map,s0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){e_.set(t,e),Yi(e,[t])}for(var Ih=0;Ih<s0.length;Ih++){var Ch=s0[Ih],$2=Ch.toLowerCase(),j2=Ch[0].toUpperCase()+Ch.slice(1);pi($2,"on"+j2)}pi(Xw,"onAnimationEnd");pi(Yw,"onAnimationIteration");pi(Jw,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(Zw,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function o0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$b(r,e,void 0,t),t.currentTarget=null}function t_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;o0(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;o0(i,a,l),s=u}}}if(Pl)throw t=Lf,Pl=!1,Lf=null,t}function Le(t,e){var n=e[qf];n===void 0&&(n=e[qf]=new Set);var r=t+"__bubble";n.has(r)||(n_(e,t,2,!1),n.add(r))}function bh(t,e,n){var r=0;e&&(r|=4),n_(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function fa(t){if(!t[Ou]){t[Ou]=!0,lw.forEach(function(n){n!=="selectionchange"&&(B2.has(n)||bh(n,!1,t),bh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ou]||(e[Ou]=!0,bh("selectionchange",!1,e))}}function n_(t,e,n,r){switch(Uw(e)){case 1:var i=n2;break;case 4:i=r2;break;default:i=Em}n=i.bind(null,e,n,t),i=void 0,!Mf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ri(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Cw(function(){var l=s,c=vm(n),d=[];e:{var f=e_.get(t);if(f!==void 0){var m=Tm,w=t;switch(t){case"keypress":if(ul(n)===0)break e;case"keydown":case"keyup":m=y2;break;case"focusin":w="focus",m=_h;break;case"focusout":w="blur",m=_h;break;case"beforeblur":case"afterblur":m=_h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=o2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=E2;break;case Xw:case Yw:case Jw:m=l2;break;case Zw:m=T2;break;case"scroll":m=i2;break;case"wheel":m=C2;break;case"copy":case"cut":case"paste":m=d2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xv}var y=(e&4)!==0,S=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var g=l,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,p!==null&&(_=aa(g,p),_!=null&&y.push(pa(g,_,v)))),S)break;g=g.return}0<y.length&&(f=new m(f,w,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Of&&(w=n.relatedTarget||n.fromElement)&&(Ri(w)||w[Sr]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=l,w=w?Ri(w):null,w!==null&&(S=Ji(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=l),m!==w)){if(y=Gv,_="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Xv,_="onPointerLeave",p="onPointerEnter",g="pointer"),S=m==null?f:ms(m),v=w==null?f:ms(w),f=new y(_,g+"leave",m,n,c),f.target=S,f.relatedTarget=v,_=null,Ri(c)===l&&(y=new y(p,g+"enter",w,n,c),y.target=v,y.relatedTarget=S,_=y),S=_,m&&w)t:{for(y=m,p=w,g=0,v=y;v;v=is(v))g++;for(v=0,_=p;_;_=is(_))v++;for(;0<g-v;)y=is(y),g--;for(;0<v-g;)p=is(p),v--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=is(y),p=is(p)}y=null}else y=null;m!==null&&a0(d,f,m,y,!1),w!==null&&S!==null&&a0(d,S,w,y,!0)}}e:{if(f=l?ms(l):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=D2;else if(Zv(f))if(Ww)x=L2;else{x=N2;var b=O2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=M2);if(x&&(x=x(t,l))){Hw(d,x,n,c);break e}b&&b(t,f,l),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Af(f,"number",f.value)}switch(b=l?ms(l):window,t){case"focusin":(Zv(b)||b.contentEditable==="true")&&(fs=b,$f=l,Ko=null);break;case"focusout":Ko=$f=fs=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,i0(d,n,c);break;case"selectionchange":if(U2)break;case"keydown":case"keyup":i0(d,n,c)}var N;if(Cm)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else hs?Bw(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(jw&&n.locale!=="ko"&&(hs||U!=="onCompositionStart"?U==="onCompositionEnd"&&hs&&(N=$w()):(qr=c,Sm="value"in qr?qr.value:qr.textContent,hs=!0)),b=Ml(l,U),0<b.length&&(U=new Qv(U,t,null,n,c),d.push({event:U,listeners:b}),N?U.data=N:(N=zw(n),N!==null&&(U.data=N)))),(N=R2?A2(t,n):x2(t,n))&&(l=Ml(l,"onBeforeInput"),0<l.length&&(c=new Qv("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:l}),c.data=N))}t_(d,e)})}function pa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ml(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=aa(t,n),s!=null&&r.unshift(pa(t,s,i)),s=aa(t,e),s!=null&&r.push(pa(t,s,i))),t=t.return}return r}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=aa(n,s),u!=null&&o.unshift(pa(n,u,a))):i||(u=aa(n,s),u!=null&&o.push(pa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var z2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function u0(t){return(typeof t=="string"?t:""+t).replace(z2,`
`).replace(H2,"")}function Nu(t,e,n){if(e=u0(e),u0(t)!==e&&n)throw Error(B(425))}function Ll(){}var Bf=null,zf=null;function Hf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(t){return l0.resolve(null).then(t).catch(K2)}:Wf;function K2(t){setTimeout(function(){throw t})}function Ah(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ca(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ca(e)}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var io=Math.random().toString(36).slice(2),Gn="__reactFiber$"+io,ma="__reactProps$"+io,Sr="__reactContainer$"+io,qf="__reactEvents$"+io,G2="__reactListeners$"+io,Q2="__reactHandles$"+io;function Ri(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c0(t);t!==null;){if(n=t[Gn])return n;t=c0(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){return t=t[Gn]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Yc(t){return t[ma]||null}var Kf=[],gs=-1;function mi(t){return{current:t}}function Ve(t){0>gs||(t.current=Kf[gs],Kf[gs]=null,gs--)}function Ne(t,e){gs++,Kf[gs]=t.current,t.current=e}var ci={},Vt=mi(ci),nn=mi(!1),Vi=ci;function Vs(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Fl(){Ve(nn),Ve(Vt)}function d0(t,e,n){if(Vt.current!==ci)throw Error(B(168));Ne(Vt,e),Ne(nn,n)}function r_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,Ob(t)||"Unknown",i));return We({},n,r)}function Vl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,Vi=Vt.current,Ne(Vt,t),Ne(nn,nn.current),!0}function h0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=r_(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,Ve(nn),Ve(Vt),Ne(Vt,t)):Ve(nn),Ne(nn,n)}var dr=null,Jc=!1,xh=!1;function i_(t){dr===null?dr=[t]:dr.push(t)}function X2(t){Jc=!0,i_(t)}function gi(){if(!xh&&dr!==null){xh=!0;var t=0,e=xe;try{var n=dr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Jc=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),xw(ym,gi),i}finally{xe=e,xh=!1}}return null}var vs=[],ys=0,Ul=null,$l=0,Tn=[],In=0,Ui=null,hr=1,fr="";function Ti(t,e){vs[ys++]=$l,vs[ys++]=Ul,Ul=t,$l=e}function s_(t,e,n){Tn[In++]=hr,Tn[In++]=fr,Tn[In++]=Ui,Ui=t;var r=hr;t=fr;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var s=32-Nn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Nn(e)+i|n<<i|r,fr=s+t}else hr=1<<s|n<<i|r,fr=t}function Rm(t){t.return!==null&&(Ti(t,1),s_(t,1,0))}function Am(t){for(;t===Ul;)Ul=vs[--ys],vs[ys]=null,$l=vs[--ys],vs[ys]=null;for(;t===Ui;)Ui=Tn[--In],Tn[In]=null,fr=Tn[--In],Tn[In]=null,hr=Tn[--In],Tn[In]=null}var hn=null,cn=null,je=!1,On=null;function o_(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function f0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,cn=Zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ui!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,cn=null,!0):!1;default:return!1}}function Gf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qf(t){if(je){var e=cn;if(e){var n=e;if(!f0(t,e)){if(Gf(t))throw Error(B(418));e=Zr(n.nextSibling);var r=hn;e&&f0(t,e)?o_(r,n):(t.flags=t.flags&-4097|2,je=!1,hn=t)}}else{if(Gf(t))throw Error(B(418));t.flags=t.flags&-4097|2,je=!1,hn=t}}}function p0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Mu(t){if(t!==hn)return!1;if(!je)return p0(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hf(t.type,t.memoizedProps)),e&&(e=cn)){if(Gf(t))throw a_(),Error(B(418));for(;e;)o_(t,e),e=Zr(e.nextSibling)}if(p0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=hn?Zr(t.stateNode.nextSibling):null;return!0}function a_(){for(var t=cn;t;)t=Zr(t.nextSibling)}function Us(){cn=hn=null,je=!1}function xm(t){On===null?On=[t]:On.push(t)}var Y2=Pr.ReactCurrentBatchConfig;function kn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var jl=mi(null),Bl=null,ws=null,Pm=null;function km(){Pm=ws=Bl=null}function Dm(t){var e=jl.current;Ve(jl),t._currentValue=e}function Xf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function As(t,e){Bl=t,Pm=ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(Pm!==t)if(t={context:t,memoizedValue:e,next:null},ws===null){if(Bl===null)throw Error(B(308));ws=t,Bl.dependencies={lanes:0,firstContext:t}}else ws=ws.next=t;return e}var Ai=null;function Om(t){Ai===null?Ai=[t]:Ai.push(t)}function u_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Om(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function Nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Om(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tr(t,n)}function ll(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}function m0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zl(t,e,n,r){var i=t.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=We({},d,f);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=m,u=d):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ji|=o,t.lanes=o,t.memoizedState=d}}function g0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var c_=new uw.Component().refs;function Yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zc={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=ni(t),s=yr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(Mn(e,t,i,r),ll(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=ni(t),s=yr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(Mn(e,t,i,r),ll(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=ni(t),i=yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ei(t,i,r),e!==null&&(Mn(e,t,r,n),ll(e,t,r))}};function v0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ha(n,r)||!ha(i,s):!0}function d_(t,e,n){var r=!1,i=ci,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=rn(e)?Vi:Vt.current,r=e.contextTypes,s=(r=r!=null)?Vs(t,i):ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function y0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zc.enqueueReplaceState(e,e.state,null)}function Jf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=c_,Nm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=rn(e)?Vi:Vt.current,i.context=Vs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zc.enqueueReplaceState(i,i.state,null),zl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===c_&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Lu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w0(t){var e=t._init;return e(t._payload)}function h_(t){function e(p,g){if(t){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=ri(p,g),p.index=0,p.sibling=null,p}function s(p,g,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,v,_){return g===null||g.tag!==6?(g=Lh(v,p.mode,_),g.return=p,g):(g=i(g,v),g.return=p,g)}function u(p,g,v,_){var x=v.type;return x===ds?c(p,g,v.props.children,_,v.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Fr&&w0(x)===g.type)?(_=i(g,v.props),_.ref=To(p,g,v),_.return=p,_):(_=ml(v.type,v.key,v.props,null,p.mode,_),_.ref=To(p,g,v),_.return=p,_)}function l(p,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Fh(v,p.mode,_),g.return=p,g):(g=i(g,v.children||[]),g.return=p,g)}function c(p,g,v,_,x){return g===null||g.tag!==7?(g=Ni(v,p.mode,_,x),g.return=p,g):(g=i(g,v),g.return=p,g)}function d(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Lh(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cu:return v=ml(g.type,g.key,g.props,null,p.mode,v),v.ref=To(p,null,g),v.return=p,v;case cs:return g=Fh(g,p.mode,v),g.return=p,g;case Fr:var _=g._init;return d(p,_(g._payload),v)}if(ko(g)||yo(g))return g=Ni(g,p.mode,v,null),g.return=p,g;Lu(p,g)}return null}function f(p,g,v,_){var x=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(p,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cu:return v.key===x?u(p,g,v,_):null;case cs:return v.key===x?l(p,g,v,_):null;case Fr:return x=v._init,f(p,g,x(v._payload),_)}if(ko(v)||yo(v))return x!==null?null:c(p,g,v,_,null);Lu(p,v)}return null}function m(p,g,v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(v)||null,a(g,p,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cu:return p=p.get(_.key===null?v:_.key)||null,u(g,p,_,x);case cs:return p=p.get(_.key===null?v:_.key)||null,l(g,p,_,x);case Fr:var b=_._init;return m(p,g,v,b(_._payload),x)}if(ko(_)||yo(_))return p=p.get(v)||null,c(g,p,_,x,null);Lu(g,_)}return null}function w(p,g,v,_){for(var x=null,b=null,N=g,U=g=0,Z=null;N!==null&&U<v.length;U++){N.index>U?(Z=N,N=null):Z=N.sibling;var ee=f(p,N,v[U],_);if(ee===null){N===null&&(N=Z);break}t&&N&&ee.alternate===null&&e(p,N),g=s(ee,g,U),b===null?x=ee:b.sibling=ee,b=ee,N=Z}if(U===v.length)return n(p,N),je&&Ti(p,U),x;if(N===null){for(;U<v.length;U++)N=d(p,v[U],_),N!==null&&(g=s(N,g,U),b===null?x=N:b.sibling=N,b=N);return je&&Ti(p,U),x}for(N=r(p,N);U<v.length;U++)Z=m(N,p,U,v[U],_),Z!==null&&(t&&Z.alternate!==null&&N.delete(Z.key===null?U:Z.key),g=s(Z,g,U),b===null?x=Z:b.sibling=Z,b=Z);return t&&N.forEach(function(Ae){return e(p,Ae)}),je&&Ti(p,U),x}function y(p,g,v,_){var x=yo(v);if(typeof x!="function")throw Error(B(150));if(v=x.call(v),v==null)throw Error(B(151));for(var b=x=null,N=g,U=g=0,Z=null,ee=v.next();N!==null&&!ee.done;U++,ee=v.next()){N.index>U?(Z=N,N=null):Z=N.sibling;var Ae=f(p,N,ee.value,_);if(Ae===null){N===null&&(N=Z);break}t&&N&&Ae.alternate===null&&e(p,N),g=s(Ae,g,U),b===null?x=Ae:b.sibling=Ae,b=Ae,N=Z}if(ee.done)return n(p,N),je&&Ti(p,U),x;if(N===null){for(;!ee.done;U++,ee=v.next())ee=d(p,ee.value,_),ee!==null&&(g=s(ee,g,U),b===null?x=ee:b.sibling=ee,b=ee);return je&&Ti(p,U),x}for(N=r(p,N);!ee.done;U++,ee=v.next())ee=m(N,p,U,ee.value,_),ee!==null&&(t&&ee.alternate!==null&&N.delete(ee.key===null?U:ee.key),g=s(ee,g,U),b===null?x=ee:b.sibling=ee,b=ee);return t&&N.forEach(function(De){return e(p,De)}),je&&Ti(p,U),x}function S(p,g,v,_){if(typeof v=="object"&&v!==null&&v.type===ds&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Cu:e:{for(var x=v.key,b=g;b!==null;){if(b.key===x){if(x=v.type,x===ds){if(b.tag===7){n(p,b.sibling),g=i(b,v.props.children),g.return=p,p=g;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Fr&&w0(x)===b.type){n(p,b.sibling),g=i(b,v.props),g.ref=To(p,b,v),g.return=p,p=g;break e}n(p,b);break}else e(p,b);b=b.sibling}v.type===ds?(g=Ni(v.props.children,p.mode,_,v.key),g.return=p,p=g):(_=ml(v.type,v.key,v.props,null,p.mode,_),_.ref=To(p,g,v),_.return=p,p=_)}return o(p);case cs:e:{for(b=v.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(p,g.sibling),g=i(g,v.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Fh(v,p.mode,_),g.return=p,p=g}return o(p);case Fr:return b=v._init,S(p,g,b(v._payload),_)}if(ko(v))return w(p,g,v,_);if(yo(v))return y(p,g,v,_);Lu(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,v),g.return=p,p=g):(n(p,g),g=Lh(v,p.mode,_),g.return=p,p=g),o(p)):n(p,g)}return S}var $s=h_(!0),f_=h_(!1),Ya={},er=mi(Ya),ga=mi(Ya),va=mi(Ya);function xi(t){if(t===Ya)throw Error(B(174));return t}function Mm(t,e){switch(Ne(va,e),Ne(ga,t),Ne(er,Ya),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pf(e,t)}Ve(er),Ne(er,e)}function js(){Ve(er),Ve(ga),Ve(va)}function p_(t){xi(va.current);var e=xi(er.current),n=Pf(e,t.type);e!==n&&(Ne(ga,t),Ne(er,n))}function Lm(t){ga.current===t&&(Ve(er),Ve(ga))}var ze=mi(0);function Hl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ph=[];function Fm(){for(var t=0;t<Ph.length;t++)Ph[t]._workInProgressVersionPrimary=null;Ph.length=0}var cl=Pr.ReactCurrentDispatcher,kh=Pr.ReactCurrentBatchConfig,$i=0,He=null,it=null,ht=null,Wl=!1,Go=!1,ya=0,J2=0;function Rt(){throw Error(B(321))}function Vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vn(t[n],e[n]))return!1;return!0}function Um(t,e,n,r,i,s){if($i=s,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cl.current=t===null||t.memoizedState===null?nR:rR,t=n(r,i),Go){s=0;do{if(Go=!1,ya=0,25<=s)throw Error(B(301));s+=1,ht=it=null,e.updateQueue=null,cl.current=iR,t=n(r,i)}while(Go)}if(cl.current=ql,e=it!==null&&it.next!==null,$i=0,ht=it=He=null,Wl=!1,e)throw Error(B(300));return t}function $m(){var t=ya!==0;return ya=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?He.memoizedState=ht=t:ht=ht.next=t,ht}function xn(){if(it===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ht===null?He.memoizedState:ht.next;if(e!==null)ht=e,it=t;else{if(t===null)throw Error(B(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ht===null?He.memoizedState=ht=t:ht=ht.next=t}return ht}function wa(t,e){return typeof e=="function"?e(t):e}function Dh(t){var e=xn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if(($i&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,He.lanes|=c,ji|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Vn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,He.lanes|=s,ji|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oh(t){var e=xn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vn(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function m_(){}function g_(t,e){var n=He,r=xn(),i=e(),s=!Vn(r.memoizedState,i);if(s&&(r.memoizedState=i,tn=!0),r=r.queue,jm(w_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,_a(9,y_.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(B(349));$i&30||v_(n,e,i)}return i}function v_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function y_(t,e,n,r){e.value=n,e.getSnapshot=r,__(e)&&E_(t)}function w_(t,e,n){return n(function(){__(e)&&E_(t)})}function __(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vn(t,n)}catch{return!0}}function E_(t){var e=Tr(t,1);e!==null&&Mn(e,t,1,-1)}function _0(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:t},e.queue=t,t=t.dispatch=tR.bind(null,He,t),[e.memoizedState,t]}function _a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function S_(){return xn().memoizedState}function dl(t,e,n,r){var i=Wn();He.flags|=t,i.memoizedState=_a(1|e,n,void 0,r===void 0?null:r)}function ed(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&Vm(r,o.deps)){i.memoizedState=_a(e,n,s,r);return}}He.flags|=t,i.memoizedState=_a(1|e,n,s,r)}function E0(t,e){return dl(8390656,8,t,e)}function jm(t,e){return ed(2048,8,t,e)}function T_(t,e){return ed(4,2,t,e)}function I_(t,e){return ed(4,4,t,e)}function C_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b_(t,e,n){return n=n!=null?n.concat([t]):null,ed(4,4,C_.bind(null,e,t),n)}function Bm(){}function R_(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function A_(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function x_(t,e,n){return $i&21?(Vn(n,e)||(n=Dw(),He.lanes|=n,ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function Z2(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=kh.transition;kh.transition={};try{t(!1),e()}finally{xe=n,kh.transition=r}}function P_(){return xn().memoizedState}function eR(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k_(t))D_(e,n);else if(n=u_(t,e,n,r),n!==null){var i=Kt();Mn(n,t,r,i),O_(n,e,r)}}function tR(t,e,n){var r=ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k_(t))D_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Vn(a,o)){var u=e.interleaved;u===null?(i.next=i,Om(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=u_(t,e,i,r),n!==null&&(i=Kt(),Mn(n,t,r,i),O_(n,e,r))}}function k_(t){var e=t.alternate;return t===He||e!==null&&e===He}function D_(t,e){Go=Wl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function O_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wm(t,n)}}var ql={readContext:An,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},nR={readContext:An,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:E0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dl(4194308,4,C_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dl(4194308,4,t,e)},useInsertionEffect:function(t,e){return dl(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eR.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:_0,useDebugValue:Bm,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=_0(!1),e=t[0];return t=Z2.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=Wn();if(je){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ft===null)throw Error(B(349));$i&30||v_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,E0(w_.bind(null,r,s,t),[t]),r.flags|=2048,_a(9,y_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wn(),e=ft.identifierPrefix;if(je){var n=fr,r=hr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ya++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=J2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rR={readContext:An,useCallback:R_,useContext:An,useEffect:jm,useImperativeHandle:b_,useInsertionEffect:T_,useLayoutEffect:I_,useMemo:A_,useReducer:Dh,useRef:S_,useState:function(){return Dh(wa)},useDebugValue:Bm,useDeferredValue:function(t){var e=xn();return x_(e,it.memoizedState,t)},useTransition:function(){var t=Dh(wa)[0],e=xn().memoizedState;return[t,e]},useMutableSource:m_,useSyncExternalStore:g_,useId:P_,unstable_isNewReconciler:!1},iR={readContext:An,useCallback:R_,useContext:An,useEffect:jm,useImperativeHandle:b_,useInsertionEffect:T_,useLayoutEffect:I_,useMemo:A_,useReducer:Oh,useRef:S_,useState:function(){return Oh(wa)},useDebugValue:Bm,useDeferredValue:function(t){var e=xn();return it===null?e.memoizedState=t:x_(e,it.memoizedState,t)},useTransition:function(){var t=Oh(wa)[0],e=xn().memoizedState;return[t,e]},useMutableSource:m_,useSyncExternalStore:g_,useId:P_,unstable_isNewReconciler:!1};function Bs(t,e){try{var n="",r=e;do n+=Db(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sR=typeof WeakMap=="function"?WeakMap:Map;function N_(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gl||(Gl=!0,lp=r),Zf(t,e)},n}function M_(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zf(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function S0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wR.bind(null,t,e,n),e.then(t,t))}function T0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var oR=Pr.ReactCurrentOwner,tn=!1;function Wt(t,e,n,r){e.child=t===null?f_(e,null,n,r):$s(e,t.child,n,r)}function C0(t,e,n,r,i){n=n.render;var s=e.ref;return As(e,i),r=Um(t,e,n,r,s,i),n=$m(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(je&&n&&Rm(e),e.flags|=1,Wt(t,e,r,i),e.child)}function b0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,L_(t,e,s,r,i)):(t=ml(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(o,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function L_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ha(s,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return ep(t,e,n,r,i)}function F_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Es,ln),ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Es,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(Es,ln),ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(Es,ln),ln|=r;return Wt(t,e,i,n),e.child}function V_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ep(t,e,n,r,i){var s=rn(n)?Vi:Vt.current;return s=Vs(e,s),As(e,i),n=Um(t,e,n,r,s,i),r=$m(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(je&&r&&Rm(e),e.flags|=1,Wt(t,e,n,i),e.child)}function R0(t,e,n,r,i){if(rn(n)){var s=!0;Vl(e)}else s=!1;if(As(e,i),e.stateNode===null)hl(t,e),d_(e,n,r),Jf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=An(l):(l=rn(n)?Vi:Vt.current,l=Vs(e,l));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&y0(e,o,r,l),Vr=!1;var f=e.memoizedState;o.state=f,zl(e,r,o,i),u=e.memoizedState,a!==r||f!==u||nn.current||Vr?(typeof c=="function"&&(Yf(e,n,c,r),u=e.memoizedState),(a=Vr||v0(e,n,a,r,f,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,l_(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:kn(e.type,a),o.props=l,d=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=An(u):(u=rn(n)?Vi:Vt.current,u=Vs(e,u));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==u)&&y0(e,o,r,u),Vr=!1,f=e.memoizedState,o.state=f,zl(e,r,o,i);var w=e.memoizedState;a!==d||f!==w||nn.current||Vr?(typeof m=="function"&&(Yf(e,n,m,r),w=e.memoizedState),(l=Vr||v0(e,n,l,r,f,w,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tp(t,e,n,r,s,i)}function tp(t,e,n,r,i,s){V_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&h0(e,n,!1),Ir(t,e,s);r=e.stateNode,oR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$s(e,t.child,null,s),e.child=$s(e,null,a,s)):Wt(t,e,a,s),e.memoizedState=r.state,i&&h0(e,n,!0),e.child}function U_(t){var e=t.stateNode;e.pendingContext?d0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d0(t,e.context,!1),Mm(t,e.containerInfo)}function A0(t,e,n,r,i){return Us(),xm(i),e.flags|=256,Wt(t,e,n,r),e.child}var np={dehydrated:null,treeContext:null,retryLane:0};function rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function $_(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(ze,i&1),t===null)return Qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rd(o,r,0,null),t=Ni(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rp(n),e.memoizedState=np,t):zm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ri(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ri(a,s):(s=Ni(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=np,r}return s=t.child,t=s.sibling,r=ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zm(t,e){return e=rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&xm(r),$s(e,t.child,null,n),t=zm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nh(Error(B(422))),Fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rd({mode:"visible",children:r.children},i,0,null),s=Ni(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$s(e,t.child,null,o),e.child.memoizedState=rp(o),e.memoizedState=np,s);if(!(e.mode&1))return Fu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Nh(s,r,void 0),Fu(t,e,o,r)}if(a=(o&t.childLanes)!==0,tn||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tr(t,i),Mn(r,t,i,-1))}return Qm(),r=Nh(Error(B(421))),Fu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_R.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=Zr(i.nextSibling),hn=e,je=!0,On=null,t!==null&&(Tn[In++]=hr,Tn[In++]=fr,Tn[In++]=Ui,hr=t.id,fr=t.overflow,Ui=e),e=zm(e,r.children),e.flags|=4096,e)}function x0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xf(t.return,e,n)}function Mh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function j_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x0(t,n,e);else if(t.tag===19)x0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mh(e,!0,n,null,s);break;case"together":Mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uR(t,e,n){switch(e.tag){case 3:U_(e),Us();break;case 5:p_(e);break;case 1:rn(e.type)&&Vl(e);break;case 4:Mm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(jl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?$_(t,e,n):(Ne(ze,ze.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);Ne(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,F_(t,e,n)}return Ir(t,e,n)}var B_,ip,z_,H_;B_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ip=function(){};z_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xi(er.current);var s=null;switch(n){case"input":i=bf(t,i),r=bf(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=xf(t,i),r=xf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ll)}kf(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(sa.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(sa.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Le("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};H_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Io(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lR(t,e,n){var r=e.pendingProps;switch(Am(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return rn(e.type)&&Fl(),At(e),null;case 3:return r=e.stateNode,js(),Ve(nn),Ve(Vt),Fm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(hp(On),On=null))),ip(t,e),At(e),null;case 5:Lm(e);var i=xi(va.current);if(n=e.type,t!==null&&e.stateNode!=null)z_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return At(e),null}if(t=xi(er.current),Mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gn]=e,r[ma]=s,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Oo.length;i++)Le(Oo[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Vv(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":$v(r,s),Le("invalid",r)}kf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),i=["children",""+a]):sa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":bu(r),Uv(r,s,!0);break;case"textarea":bu(r),jv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ll)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[ma]=r,B_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Df(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oo.length;i++)Le(Oo[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":Vv(t,r),i=bf(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Le("invalid",t);break;case"textarea":$v(t,r),i=xf(t,r),Le("invalid",t);break;default:i=r}kf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?_w(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&yw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&oa(t,u):typeof u=="number"&&oa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Le("scroll",t):u!=null&&fm(t,s,u,o))}switch(n){case"input":bu(t),Uv(t,r,!1);break;case"textarea":bu(t),jv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Is(t,!!r.multiple,s,!1):r.defaultValue!=null&&Is(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)H_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=xi(va.current),xi(er.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(s=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:Nu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return At(e),null;case 13:if(Ve(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&cn!==null&&e.mode&1&&!(e.flags&128))a_(),Us(),e.flags|=98560,s=!1;else if(s=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Gn]=e}else Us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else On!==null&&(hp(On),On=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?ot===0&&(ot=3):Qm())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return js(),ip(t,e),t===null&&fa(e.stateNode.containerInfo),At(e),null;case 10:return Dm(e.type._context),At(e),null;case 17:return rn(e.type)&&Fl(),At(e),null;case 19:if(Ve(ze),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Io(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hl(t),o!==null){for(e.flags|=128,Io(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>zs&&(e.flags|=128,r=!0,Io(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Io(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return At(e),null}else 2*Xe()-s.renderingStartTime>zs&&n!==1073741824&&(e.flags|=128,r=!0,Io(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=ze.current,Ne(ze,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return Gm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function cR(t,e){switch(Am(e),e.tag){case 1:return rn(e.type)&&Fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return js(),Ve(nn),Ve(Vt),Fm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lm(e),null;case 13:if(Ve(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(ze),null;case 4:return js(),null;case 10:return Dm(e.type._context),null;case 22:case 23:return Gm(),null;case 24:return null;default:return null}}var Vu=!1,Dt=!1,dR=typeof WeakSet=="function"?WeakSet:Set,J=null;function _s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function sp(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var P0=!1;function hR(t,e){if(Bf=Ol,t=Gw(),bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},Ol=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,S=w.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:kn(e.type,y),S);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){Ke(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return w=P0,P0=!1,w}function Qo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sp(e,n,s)}i=i.next}while(i!==r)}}function td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function op(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function W_(t){var e=t.alternate;e!==null&&(t.alternate=null,W_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[ma],delete e[qf],delete e[G2],delete e[Q2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function q_(t){return t.tag===5||t.tag===3||t.tag===4}function k0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ll));else if(r!==4&&(t=t.child,t!==null))for(ap(t,e,n),t=t.sibling;t!==null;)ap(t,e,n),t=t.sibling}function up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}var vt=null,Dn=!1;function Mr(t,e,n){for(n=n.child;n!==null;)K_(t,e,n),n=n.sibling}function K_(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Kc,n)}catch{}switch(n.tag){case 5:Dt||_s(n,e);case 6:var r=vt,i=Dn;vt=null,Mr(t,e,n),vt=r,Dn=i,vt!==null&&(Dn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Dn?(t=vt,n=n.stateNode,t.nodeType===8?Ah(t.parentNode,n):t.nodeType===1&&Ah(t,n),ca(t)):Ah(vt,n.stateNode));break;case 4:r=vt,i=Dn,vt=n.stateNode.containerInfo,Dn=!0,Mr(t,e,n),vt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sp(n,e,o),i=i.next}while(i!==r)}Mr(t,e,n);break;case 1:if(!Dt&&(_s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Mr(t,e,n);break;case 21:Mr(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,Mr(t,e,n),Dt=r):Mr(t,e,n);break;default:Mr(t,e,n)}}function D0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dR),e.forEach(function(r){var i=ER.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Dn=!1;break e;case 3:vt=a.stateNode.containerInfo,Dn=!0;break e;case 4:vt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(vt===null)throw Error(B(160));K_(s,o,i),vt=null,Dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ke(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G_(e,t),e=e.sibling}function G_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),Hn(t),r&4){try{Qo(3,t,t.return),td(3,t)}catch(y){Ke(t,t.return,y)}try{Qo(5,t,t.return)}catch(y){Ke(t,t.return,y)}}break;case 1:Pn(e,t),Hn(t),r&512&&n!==null&&_s(n,n.return);break;case 5:if(Pn(e,t),Hn(t),r&512&&n!==null&&_s(n,n.return),t.flags&32){var i=t.stateNode;try{oa(i,"")}catch(y){Ke(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mw(i,s),Df(a,o);var l=Df(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?_w(i,d):c==="dangerouslySetInnerHTML"?yw(i,d):c==="children"?oa(i,d):fm(i,c,d,l)}switch(a){case"input":Rf(i,s);break;case"textarea":gw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Is(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Is(i,!!s.multiple,s.defaultValue,!0):Is(i,!!s.multiple,s.multiple?[]:"",!1))}i[ma]=s}catch(y){Ke(t,t.return,y)}}break;case 6:if(Pn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ke(t,t.return,y)}}break;case 3:if(Pn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(e.containerInfo)}catch(y){Ke(t,t.return,y)}break;case 4:Pn(e,t),Hn(t);break;case 13:Pn(e,t),Hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qm=Xe())),r&4&&D0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(l=Dt)||c,Pn(e,t),Dt=l):Pn(e,t),Hn(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(J=t,c=t.child;c!==null;){for(d=J=c;J!==null;){switch(f=J,m=f.child,f.tag){case 0:case 11:case 14:case 15:Qo(4,f,f.return);break;case 1:_s(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Ke(r,n,y)}}break;case 5:_s(f,f.return);break;case 22:if(f.memoizedState!==null){N0(d);continue}}m!==null?(m.return=f,J=m):N0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ww("display",o))}catch(y){Ke(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){Ke(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pn(e,t),Hn(t),r&4&&D0(t);break;case 21:break;default:Pn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(q_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oa(i,""),r.flags&=-33);var s=k0(t);up(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=k0(t);ap(t,a,o);break;default:throw Error(B(161))}}catch(u){Ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fR(t,e,n){J=t,Q_(t)}function Q_(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Dt;a=Vu;var l=Dt;if(Vu=o,(Dt=u)&&!l)for(J=i;J!==null;)o=J,u=o.child,o.tag===22&&o.memoizedState!==null?M0(i):u!==null?(u.return=o,J=u):M0(i);for(;s!==null;)J=s,Q_(s),s=s.sibling;J=i,Vu=a,Dt=l}O0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):O0(t)}}function O0(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&g0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}g0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ca(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Dt||e.flags&512&&op(e)}catch(f){Ke(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function N0(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function M0(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{td(4,e)}catch(u){Ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ke(e,i,u)}}var s=e.return;try{op(e)}catch(u){Ke(e,s,u)}break;case 5:var o=e.return;try{op(e)}catch(u){Ke(e,o,u)}}}catch(u){Ke(e,e.return,u)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var pR=Math.ceil,Kl=Pr.ReactCurrentDispatcher,Hm=Pr.ReactCurrentOwner,Rn=Pr.ReactCurrentBatchConfig,Te=0,ft=null,tt=null,St=0,ln=0,Es=mi(0),ot=0,Ea=null,ji=0,nd=0,Wm=0,Xo=null,Zt=null,qm=0,zs=1/0,cr=null,Gl=!1,lp=null,ti=null,Uu=!1,Kr=null,Ql=0,Yo=0,cp=null,fl=-1,pl=0;function Kt(){return Te&6?Xe():fl!==-1?fl:fl=Xe()}function ni(t){return t.mode&1?Te&2&&St!==0?St&-St:Y2.transition!==null?(pl===0&&(pl=Dw()),pl):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Uw(t.type)),t):1}function Mn(t,e,n,r){if(50<Yo)throw Yo=0,cp=null,Error(B(185));Ga(t,n,r),(!(Te&2)||t!==ft)&&(t===ft&&(!(Te&2)&&(nd|=n),ot===4&&jr(t,St)),sn(t,r),n===1&&Te===0&&!(e.mode&1)&&(zs=Xe()+500,Jc&&gi()))}function sn(t,e){var n=t.callbackNode;Yb(t,e);var r=Dl(t,t===ft?St:0);if(r===0)n!==null&&Hv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hv(n),e===1)t.tag===0?X2(L0.bind(null,t)):i_(L0.bind(null,t)),q2(function(){!(Te&6)&&gi()}),n=null;else{switch(Ow(r)){case 1:n=ym;break;case 4:n=Pw;break;case 16:n=kl;break;case 536870912:n=kw;break;default:n=kl}n=rE(n,X_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function X_(t,e){if(fl=-1,pl=0,Te&6)throw Error(B(327));var n=t.callbackNode;if(xs()&&t.callbackNode!==n)return null;var r=Dl(t,t===ft?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xl(t,r);else{e=r;var i=Te;Te|=2;var s=J_();(ft!==t||St!==e)&&(cr=null,zs=Xe()+500,Oi(t,e));do try{vR();break}catch(a){Y_(t,a)}while(1);km(),Kl.current=s,Te=i,tt!==null?e=0:(ft=null,St=0,e=ot)}if(e!==0){if(e===2&&(i=Ff(t),i!==0&&(r=i,e=dp(t,i))),e===1)throw n=Ea,Oi(t,0),jr(t,r),sn(t,Xe()),n;if(e===6)jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!mR(i)&&(e=Xl(t,r),e===2&&(s=Ff(t),s!==0&&(r=s,e=dp(t,s))),e===1))throw n=Ea,Oi(t,0),jr(t,r),sn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ii(t,Zt,cr);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=qm+500-Xe(),10<e)){if(Dl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wf(Ii.bind(null,t,Zt,cr),e);break}Ii(t,Zt,cr);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pR(r/1960))-r,10<r){t.timeoutHandle=Wf(Ii.bind(null,t,Zt,cr),r);break}Ii(t,Zt,cr);break;case 5:Ii(t,Zt,cr);break;default:throw Error(B(329))}}}return sn(t,Xe()),t.callbackNode===n?X_.bind(null,t):null}function dp(t,e){var n=Xo;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=Xl(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&hp(e)),t}function hp(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function mR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Wm,e&=~nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function L0(t){if(Te&6)throw Error(B(327));xs();var e=Dl(t,0);if(!(e&1))return sn(t,Xe()),null;var n=Xl(t,e);if(t.tag!==0&&n===2){var r=Ff(t);r!==0&&(e=r,n=dp(t,r))}if(n===1)throw n=Ea,Oi(t,0),jr(t,e),sn(t,Xe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ii(t,Zt,cr),sn(t,Xe()),null}function Km(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(zs=Xe()+500,Jc&&gi())}}function Bi(t){Kr!==null&&Kr.tag===0&&!(Te&6)&&xs();var e=Te;Te|=1;var n=Rn.transition,r=xe;try{if(Rn.transition=null,xe=1,t)return t()}finally{xe=r,Rn.transition=n,Te=e,!(Te&6)&&gi()}}function Gm(){ln=Es.current,Ve(Es)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,W2(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Am(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fl();break;case 3:js(),Ve(nn),Ve(Vt),Fm();break;case 5:Lm(r);break;case 4:js();break;case 13:Ve(ze);break;case 19:Ve(ze);break;case 10:Dm(r.type._context);break;case 22:case 23:Gm()}n=n.return}if(ft=t,tt=t=ri(t.current,null),St=ln=e,ot=0,Ea=null,Wm=nd=ji=0,Zt=Xo=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ai=null}return t}function Y_(t,e){do{var n=tt;try{if(km(),cl.current=ql,Wl){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wl=!1}if($i=0,ht=it=He=null,Go=!1,ya=0,Hm.current=null,n===null||n.return===null){ot=1,Ea=e,tt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=St,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=T0(o);if(m!==null){m.flags&=-257,I0(m,o,a,s,e),m.mode&1&&S0(s,l,e),e=m,u=l;var w=e.updateQueue;if(w===null){var y=new Set;y.add(u),e.updateQueue=y}else w.add(u);break e}else{if(!(e&1)){S0(s,l,e),Qm();break e}u=Error(B(426))}}else if(je&&a.mode&1){var S=T0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),I0(S,o,a,s,e),xm(Bs(u,a));break e}}s=u=Bs(u,a),ot!==4&&(ot=2),Xo===null?Xo=[s]:Xo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=N_(s,u,e);m0(s,p);break e;case 1:a=u;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ti===null||!ti.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=M_(s,a,e);m0(s,_);break e}}s=s.return}while(s!==null)}eE(n)}catch(x){e=x,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function J_(){var t=Kl.current;return Kl.current=ql,t===null?ql:t}function Qm(){(ot===0||ot===3||ot===2)&&(ot=4),ft===null||!(ji&268435455)&&!(nd&268435455)||jr(ft,St)}function Xl(t,e){var n=Te;Te|=2;var r=J_();(ft!==t||St!==e)&&(cr=null,Oi(t,e));do try{gR();break}catch(i){Y_(t,i)}while(1);if(km(),Te=n,Kl.current=r,tt!==null)throw Error(B(261));return ft=null,St=0,ot}function gR(){for(;tt!==null;)Z_(tt)}function vR(){for(;tt!==null&&!Bb();)Z_(tt)}function Z_(t){var e=nE(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?eE(t):tt=e,Hm.current=null}function eE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cR(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,tt=null;return}}else if(n=lR(n,e,ln),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ot===0&&(ot=5)}function Ii(t,e,n){var r=xe,i=Rn.transition;try{Rn.transition=null,xe=1,yR(t,e,n,r)}finally{Rn.transition=i,xe=r}return null}function yR(t,e,n,r){do xs();while(Kr!==null);if(Te&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Jb(t,s),t===ft&&(tt=ft=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uu||(Uu=!0,rE(kl,function(){return xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var o=xe;xe=1;var a=Te;Te|=4,Hm.current=null,hR(t,n),G_(n,t),V2(zf),Ol=!!Bf,zf=Bf=null,t.current=n,fR(n),zb(),Te=a,xe=o,Rn.transition=s}else t.current=n;if(Uu&&(Uu=!1,Kr=t,Ql=i),s=t.pendingLanes,s===0&&(ti=null),qb(n.stateNode),sn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,t=lp,lp=null,t;return Ql&1&&t.tag!==0&&xs(),s=t.pendingLanes,s&1?t===cp?Yo++:(Yo=0,cp=t):Yo=0,gi(),null}function xs(){if(Kr!==null){var t=Ow(Ql),e=Rn.transition,n=xe;try{if(Rn.transition=null,xe=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,Ql=0,Te&6)throw Error(B(331));var i=Te;for(Te|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(J=l;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Qo(8,c,s)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var f=c.sibling,m=c.return;if(W_(c),c===l){J=null;break}if(f!==null){f.return=m,J=f;break}J=m}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qo(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,J=p;break e}J=s.return}}var g=t.current;for(J=g;J!==null;){o=J;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,J=v;else e:for(o=g;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:td(9,a)}}catch(x){Ke(a,a.return,x)}if(a===o){J=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,J=_;break e}J=a.return}}if(Te=i,gi(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Kc,t)}catch{}r=!0}return r}finally{xe=n,Rn.transition=e}}return!1}function F0(t,e,n){e=Bs(n,e),e=N_(t,e,1),t=ei(t,e,1),e=Kt(),t!==null&&(Ga(t,1,e),sn(t,e))}function Ke(t,e,n){if(t.tag===3)F0(t,t,n);else for(;e!==null;){if(e.tag===3){F0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Bs(n,t),t=M_(e,t,1),e=ei(e,t,1),t=Kt(),e!==null&&(Ga(e,1,t),sn(e,t));break}}e=e.return}}function wR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(St&n)===n&&(ot===4||ot===3&&(St&130023424)===St&&500>Xe()-qm?Oi(t,0):Wm|=n),sn(t,e)}function tE(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var n=Kt();t=Tr(t,e),t!==null&&(Ga(t,e,n),sn(t,n))}function _R(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tE(t,n)}function ER(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),tE(t,n)}var nE;nE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,uR(t,e,n);tn=!!(t.flags&131072)}else tn=!1,je&&e.flags&1048576&&s_(e,$l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hl(t,e),t=e.pendingProps;var i=Vs(e,Vt.current);As(e,n),i=Um(null,e,r,t,i,n);var s=$m();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(s=!0,Vl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nm(e),i.updater=Zc,e.stateNode=i,i._reactInternals=e,Jf(e,r,t,n),e=tp(null,e,r,!0,s,n)):(e.tag=0,je&&s&&Rm(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TR(r),t=kn(r,t),i){case 0:e=ep(null,e,r,t,n);break e;case 1:e=R0(null,e,r,t,n);break e;case 11:e=C0(null,e,r,t,n);break e;case 14:e=b0(null,e,r,kn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),ep(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),R0(t,e,r,i,n);case 3:e:{if(U_(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,l_(t,e),zl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bs(Error(B(423)),e),e=A0(t,e,r,n,i);break e}else if(r!==i){i=Bs(Error(B(424)),e),e=A0(t,e,r,n,i);break e}else for(cn=Zr(e.stateNode.containerInfo.firstChild),hn=e,je=!0,On=null,n=f_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Us(),r===i){e=Ir(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return p_(e),t===null&&Qf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hf(r,i)?o=null:s!==null&&Hf(r,s)&&(e.flags|=32),V_(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&Qf(e),null;case 13:return $_(t,e,n);case 4:return Mm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$s(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),C0(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ne(jl,r._currentValue),r._currentValue=o,s!==null)if(Vn(s.value,o)){if(s.children===i.children&&!nn.current){e=Ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=yr(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Xf(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,As(e,n),i=An(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=kn(r,e.pendingProps),i=kn(r.type,i),b0(t,e,r,i,n);case 15:return L_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),hl(t,e),e.tag=1,rn(r)?(t=!0,Vl(e)):t=!1,As(e,n),d_(e,r,i),Jf(e,r,i,n),tp(null,e,r,!0,t,n);case 19:return j_(t,e,n);case 22:return F_(t,e,n)}throw Error(B(156,e.tag))};function rE(t,e){return xw(t,e)}function SR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new SR(t,e,n,r)}function Xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TR(t){if(typeof t=="function")return Xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mm)return 11;if(t===gm)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ml(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ds:return Ni(n.children,i,s,e);case pm:o=8,i|=8;break;case Sf:return t=bn(12,n,e,i|2),t.elementType=Sf,t.lanes=s,t;case Tf:return t=bn(13,n,e,i),t.elementType=Tf,t.lanes=s,t;case If:return t=bn(19,n,e,i),t.elementType=If,t.lanes=s,t;case hw:return rd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cw:o=10;break e;case dw:o=9;break e;case mm:o=11;break e;case gm:o=14;break e;case Fr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ni(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function rd(t,e,n,r){return t=bn(22,t,r,e),t.elementType=hw,t.lanes=n,t.stateNode={isHidden:!1},t}function Lh(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Fh(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vh(0),this.expirationTimes=vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ym(t,e,n,r,i,s,o,a,u){return t=new IR(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(s),t}function CR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iE(t){if(!t)return ci;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(rn(n))return r_(t,n,e)}return e}function sE(t,e,n,r,i,s,o,a,u){return t=Ym(n,r,!0,t,i,s,o,a,u),t.context=iE(null),n=t.current,r=Kt(),i=ni(n),s=yr(r,i),s.callback=e??null,ei(n,s,i),t.current.lanes=i,Ga(t,i,r),sn(t,r),t}function id(t,e,n,r){var i=e.current,s=Kt(),o=ni(i);return n=iE(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(i,e,o),t!==null&&(Mn(t,i,o,s),ll(t,i,o)),o}function Yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jm(t,e){V0(t,e),(t=t.alternate)&&V0(t,e)}function bR(){return null}var oE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zm(t){this._internalRoot=t}sd.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));id(t,e,null,null)};sd.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bi(function(){id(null,t,null,null)}),e[Sr]=null}};function sd(t){this._internalRoot=t}sd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&Vw(t)}};function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U0(){}function RR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Yl(o);s.call(l)}}var o=sE(e,r,t,0,null,!1,!1,"",U0);return t._reactRootContainer=o,t[Sr]=o.current,fa(t.nodeType===8?t.parentNode:t),Bi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Yl(u);a.call(l)}}var u=Ym(t,0,!1,null,null,!1,!1,"",U0);return t._reactRootContainer=u,t[Sr]=u.current,fa(t.nodeType===8?t.parentNode:t),Bi(function(){id(e,u,n,r)}),u}function ad(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Yl(o);a.call(u)}}id(e,o,t,i)}else o=RR(n,e,t,i,r);return Yl(o)}Nw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Do(e.pendingLanes);n!==0&&(wm(e,n|1),sn(e,Xe()),!(Te&6)&&(zs=Xe()+500,gi()))}break;case 13:Bi(function(){var r=Tr(t,1);if(r!==null){var i=Kt();Mn(r,t,1,i)}}),Jm(t,1)}};_m=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Kt();Mn(e,t,134217728,n)}Jm(t,134217728)}};Mw=function(t){if(t.tag===13){var e=ni(t),n=Tr(t,e);if(n!==null){var r=Kt();Mn(n,t,e,r)}Jm(t,e)}};Lw=function(){return xe};Fw=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Nf=function(t,e,n){switch(e){case"input":if(Rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yc(r);if(!i)throw Error(B(90));pw(r),Rf(r,i)}}}break;case"textarea":gw(t,n);break;case"select":e=n.value,e!=null&&Is(t,!!n.multiple,e,!1)}};Tw=Km;Iw=Bi;var AR={usingClientEntryPoint:!1,Events:[Xa,ms,Yc,Ew,Sw,Km]},Co={findFiberByHostInstance:Ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xR={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rw(t),t===null?null:t.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||bR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Kc=$u.inject(xR),Zn=$u}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eg(e))throw Error(B(200));return CR(t,e,null,n)};gn.createRoot=function(t,e){if(!eg(t))throw Error(B(299));var n=!1,r="",i=oE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ym(t,1,!1,null,null,n,!1,r,i),t[Sr]=e.current,fa(t.nodeType===8?t.parentNode:t),new Zm(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Rw(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return Bi(t)};gn.hydrate=function(t,e,n){if(!od(e))throw Error(B(200));return ad(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!eg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sE(e,null,t,1,n??null,i,!1,s,o),t[Sr]=e.current,fa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sd(e)};gn.render=function(t,e,n){if(!od(e))throw Error(B(200));return ad(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!od(t))throw Error(B(40));return t._reactRootContainer?(Bi(function(){ad(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};gn.unstable_batchedUpdates=Km;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!od(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return ad(t,e,n,!1,r)};gn.version="18.2.0-next-9e3b772b8-20220608";function aE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aE)}catch(t){console.error(t)}}aE(),sw.exports=gn;var uE=sw.exports,$0=uE;_f.createRoot=$0.createRoot,_f.hydrateRoot=$0.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const j0="popstate";function PR(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Zi(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fp("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,l=u.indexOf("#");a=l===-1?u:u.slice(0,l)}return a+"#"+(typeof s=="string"?s:lE(s))}function r(i,s){ud(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return DR(e,n,r,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ud(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kR(){return Math.random().toString(36).substr(2,8)}function B0(t,e){return{usr:t.state,key:t.key,idx:e}}function fp(t,e,n,r){return n===void 0&&(n=null),Sa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zi(e):e,{state:n,key:e&&e.key||r||kR()})}function lE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gr.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Sa({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Gr.Pop;let S=c(),p=S==null?null:S-l;l=S,u&&u({action:a,location:y.location,delta:p})}function f(S,p){a=Gr.Push;let g=fp(y.location,S,p);n&&n(g,S),l=c()+1;let v=B0(g,l),_=y.createHref(g);try{o.pushState(v,"",_)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(_)}s&&u&&u({action:a,location:y.location,delta:1})}function m(S,p){a=Gr.Replace;let g=fp(y.location,S,p);n&&n(g,S),l=c();let v=B0(g,l),_=y.createHref(g);o.replaceState(v,"",_),s&&u&&u({action:a,location:y.location,delta:0})}function w(S){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof S=="string"?S:lE(S);return nt(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return a},get location(){return t(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(j0,d),u=S,()=>{i.removeEventListener(j0,d),u=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let p=w(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(S){return o.go(S)}};return y}var z0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(z0||(z0={}));function OR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Zi(e):e,i=hE(r.pathname||"/",n);if(i==null)return null;let s=cE(t);NR(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=zR(s[a],qR(i));return o}function cE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(nt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Mi([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),cE(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:jR(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of dE(s.path))i(s,o,u)}),e}function dE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=dE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function NR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MR=/^:\w+$/,LR=3,FR=2,VR=1,UR=10,$R=-2,H0=t=>t==="*";function jR(t,e){let n=t.split("/"),r=n.length;return n.some(H0)&&(r+=$R),e&&(r+=FR),n.filter(i=>!H0(i)).reduce((i,s)=>i+(MR.test(s)?LR:s===""?VR:UR),r)}function BR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zR(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=HR({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Mi([i,c.pathname]),pathnameBase:XR(Mi([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Mi([i,c.pathnameBase]))}return s}function HR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=KR(a[d]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:t}}function WR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ud(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qR(t){try{return decodeURI(t)}catch(e){return ud(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function KR(t,e){try{return decodeURIComponent(t)}catch(n){return ud(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function hE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zi(t):t;return{pathname:n?n.startsWith("/")?n:QR(n,e):e,search:YR(r),hash:JR(i)}}function QR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zi(t):(i=Sa({},t),nt(!i.pathname||!i.pathname.includes("?"),Vh("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),Vh("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),Vh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let u=GR(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Mi=t=>t.join("/").replace(/\/\/+/g,"/"),XR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mE=["post","put","patch","delete"];new Set(mE);const eA=["get",...mE];new Set(eA);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}const tg=C.createContext(null),tA=C.createContext(null),ld=C.createContext(null),cd=C.createContext(null),vi=C.createContext({outlet:null,matches:[],isDataRoute:!1}),gE=C.createContext(null);function Ja(){return C.useContext(cd)!=null}function ng(){return Ja()||nt(!1),C.useContext(cd).location}function vE(t){C.useContext(ld).static||C.useLayoutEffect(t)}function rg(){let{isDataRoute:t}=C.useContext(vi);return t?mA():nA()}function nA(){Ja()||nt(!1);let t=C.useContext(tg),{basename:e,navigator:n}=C.useContext(ld),{matches:r}=C.useContext(vi),{pathname:i}=ng(),s=JSON.stringify(fE(r).map(u=>u.pathnameBase)),o=C.useRef(!1);return vE(()=>{o.current=!0}),C.useCallback(function(u,l){if(l===void 0&&(l={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let c=pE(u,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Mi([e,c.pathname])),(l.replace?n.replace:n.push)(c,l.state,l)},[e,n,s,i,t])}function rA(){let{matches:t}=C.useContext(vi),e=t[t.length-1];return e?e.params:{}}function iA(t,e){return sA(t,e)}function sA(t,e,n){Ja()||nt(!1);let{navigator:r}=C.useContext(ld),{matches:i}=C.useContext(vi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=ng(),l;if(e){var c;let y=typeof e=="string"?Zi(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||nt(!1),l=y}else l=u;let d=l.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",m=OR(t,{pathname:f}),w=cA(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Mi([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Mi([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return e&&w?C.createElement(cd.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Gr.Pop}},w):w}function oA(){let t=pA(),e=ZR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}const aA=C.createElement(oA,null);class uA extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(vi.Provider,{value:this.props.routeContext},C.createElement(gE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lA(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(tg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(vi.Provider,{value:e},r)}function cA(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));a>=0||nt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,u,l)=>{let c=u.route.id?o==null?void 0:o[u.route.id]:null,d=null;n&&(d=u.route.errorElement||aA);let f=e.concat(s.slice(0,l+1)),m=()=>{let w;return c?w=d:u.route.Component?w=C.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=a,C.createElement(lA,{match:u,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:w})};return n&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?C.createElement(uA,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var yE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yE||{}),Zl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zl||{});function dA(t){let e=C.useContext(tg);return e||nt(!1),e}function hA(t){let e=C.useContext(tA);return e||nt(!1),e}function fA(t){let e=C.useContext(vi);return e||nt(!1),e}function wE(t){let e=fA(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function pA(){var t;let e=C.useContext(gE),n=hA(Zl.UseRouteError),r=wE(Zl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function mA(){let{router:t}=dA(yE.UseNavigateStable),e=wE(Zl.UseNavigateStable),n=C.useRef(!1);return vE(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jl({fromRouteId:e},s)))},[t,e])}function gA(t){let{to:e,replace:n,state:r,relative:i}=t;Ja()||nt(!1);let{matches:s}=C.useContext(vi),{pathname:o}=ng(),a=rg(),u=pE(e,fE(s).map(c=>c.pathnameBase),o,i==="path"),l=JSON.stringify(u);return C.useEffect(()=>a(JSON.parse(l),{replace:n,state:r,relative:i}),[a,l,i,n,r]),null}function No(t){nt(!1)}function vA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gr.Pop,navigator:s,static:o=!1}=t;Ja()&&nt(!1);let a=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Zi(r));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:m="default"}=r,w=C.useMemo(()=>{let y=hE(l,a);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:m},navigationType:i}},[a,l,c,d,f,m,i]);return w==null?null:C.createElement(ld.Provider,{value:u},C.createElement(cd.Provider,{children:n,value:w}))}function yA(t){let{children:e,location:n}=t;return iA(pp(e),n)}new Promise(()=>{});function pp(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,pp(r.props.children,s));return}r.type!==No&&nt(!1),!r.props.index||!r.props.children||nt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wA="startTransition",W0=wf[wA];function _A(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=PR({window:i,v5Compat:!0}));let o=s.current,[a,u]=C.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=C.useCallback(d=>{l&&W0?W0(()=>u(d)):u(d)},[u,l]);return C.useLayoutEffect(()=>o.listen(c),[o,c]),C.createElement(vA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}var q0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(q0||(q0={}));var K0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(K0||(K0={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;u||(m=64,o||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new SA;const f=s<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),d!==64){const w=l<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(t){const e=_E(t);return EE.encodeByteArray(e,!0)},ec=function(t){return TA(t).replace(/\./g,"")},SE=function(t){try{return EE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=()=>IA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SE(t[1]);return e&&JSON.parse(e)},ig=()=>{try{return CA()||bA()||RA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TE=t=>{var e,n;return(n=(e=ig())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AA=t=>{const e=TE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IE=()=>{var t;return(t=ig())===null||t===void 0?void 0:t.config},CE=t=>{var e;return(e=ig())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ec(JSON.stringify(n)),ec(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function DA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MA(){try{return typeof indexedDB=="object"}catch{return!1}}function LA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FA,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?VA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kr(i,a,r)}}function VA(t,e){return t.replace(UA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UA=/\{\$([^}]+)}/g;function $A(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(G0(s)&&G0(o)){if(!tc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jA(t,e){const n=new BA(t,e);return n.subscribe.bind(n)}class BA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uh),i.error===void 0&&(i.error=Uh),i.complete===void 0&&(i.complete=Uh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qA(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WA(t){return t===Ci?void 0:t}function qA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const GA={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},QA=Ie.INFO,XA={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},YA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=QA,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const JA=(t,e)=>e.some(n=>t instanceof n);let Q0,X0;function ZA(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ex(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,mp=new WeakMap,RE=new WeakMap,$h=new WeakMap,og=new WeakMap;function tx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bE.set(n,t)}).catch(()=>{}),og.set(e,t),e}function nx(t){if(mp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mp.set(t,e)}let gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rx(t){gp=t(gp)}function ix(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jh(this),e,...n);return RE.set(r,e.sort?e.sort():[e]),ii(r)}:ex().includes(t)?function(...e){return t.apply(jh(this),e),ii(bE.get(this))}:function(...e){return ii(t.apply(jh(this),e))}}function sx(t){return typeof t=="function"?ix(t):(t instanceof IDBTransaction&&nx(t),JA(t,ZA())?new Proxy(t,gp):t)}function ii(t){if(t instanceof IDBRequest)return tx(t);if($h.has(t))return $h.get(t);const e=sx(t);return e!==t&&($h.set(t,e),og.set(e,t)),e}const jh=t=>og.get(t);function ox(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ii(o.result),u.oldVersion,u.newVersion,ii(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const ax=["get","getKey","getAll","getAllKeys","count"],ux=["put","add","delete","clear"],Bh=new Map;function Y0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bh.get(e))return Bh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ux.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ax.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Bh.set(e,s),s}rx(t=>({...t,get:(e,n,r)=>Y0(e,n)||t.get(e,n,r),has:(e,n)=>!!Y0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",J0="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new sg("@firebase/app"),dx="@firebase/app-compat",hx="@firebase/analytics-compat",fx="@firebase/analytics",px="@firebase/app-check-compat",mx="@firebase/app-check",gx="@firebase/auth",vx="@firebase/auth-compat",yx="@firebase/database",wx="@firebase/database-compat",_x="@firebase/functions",Ex="@firebase/functions-compat",Sx="@firebase/installations",Tx="@firebase/installations-compat",Ix="@firebase/messaging",Cx="@firebase/messaging-compat",bx="@firebase/performance",Rx="@firebase/performance-compat",Ax="@firebase/remote-config",xx="@firebase/remote-config-compat",Px="@firebase/storage",kx="@firebase/storage-compat",Dx="@firebase/firestore",Ox="@firebase/firestore-compat",Nx="firebase",Mx="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",Lx={[vp]:"fire-core",[dx]:"fire-core-compat",[fx]:"fire-analytics",[hx]:"fire-analytics-compat",[mx]:"fire-app-check",[px]:"fire-app-check-compat",[gx]:"fire-auth",[vx]:"fire-auth-compat",[yx]:"fire-rtdb",[wx]:"fire-rtdb-compat",[_x]:"fire-fn",[Ex]:"fire-fn-compat",[Sx]:"fire-iid",[Tx]:"fire-iid-compat",[Ix]:"fire-fcm",[Cx]:"fire-fcm-compat",[bx]:"fire-perf",[Rx]:"fire-perf-compat",[Ax]:"fire-rc",[xx]:"fire-rc-compat",[Px]:"fire-gcs",[kx]:"fire-gcs-compat",[Dx]:"fire-fst",[Ox]:"fire-fst-compat","fire-js":"fire-js",[Nx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,wp=new Map;function Fx(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hs(t){const e=t.name;if(wp.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,t);for(const n of nc.values())Fx(n,t);return!0}function ag(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},si=new Za("app","Firebase",Vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=Mx;function AE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=IE()),!n)throw si.create("no-options");const s=nc.get(i);if(s){if(tc(n,s.options)&&tc(r,s.config))return s;throw si.create("duplicate-app",{appName:i})}const o=new KA(i);for(const u of wp.values())o.addComponent(u);const a=new Ux(n,r,o);return nc.set(i,a),a}function xE(t=yp){const e=nc.get(t);if(!e&&t===yp&&IE())return AE();if(!e)throw si.create("no-app",{appName:t});return e}function oi(t,e,n){var r;let i=(r=Lx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(a.join(" "));return}Hs(new zi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firebase-heartbeat-database",jx=1,Ta="firebase-heartbeat-store";let zh=null;function PE(){return zh||(zh=ox($x,jx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ta)}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),zh}async function Bx(t){try{return await(await PE()).transaction(Ta).objectStore(Ta).get(kE(t))}catch(e){if(e instanceof kr)Hi.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(n.message)}}}async function Z0(t,e){try{const r=(await PE()).transaction(Ta,"readwrite");await r.objectStore(Ta).put(e,kE(t)),await r.done}catch(n){if(n instanceof kr)Hi.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(r.message)}}}function kE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1024,Hx=30*24*60*60*1e3;class Wx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ey();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Hx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ey(),{heartbeatsToSend:n,unsentEntries:r}=qx(this._heartbeatsCache.heartbeats),i=ec(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ey(){return new Date().toISOString().substring(0,10)}function qx(t,e=zx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ty(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ty(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MA()?LA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Bx(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ty(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t){Hs(new zi("platform-logger",e=>new lx(e),"PRIVATE")),Hs(new zi("heartbeat",e=>new Wx(e),"PRIVATE")),oi(vp,J0,t),oi(vp,J0,"esm2017"),oi("fire-js","")}Gx("");function ug(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qx=DE,OE=new Za("auth","Firebase",DE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new sg("@firebase/auth");function Xx(t,...e){rc.logLevel<=Ie.WARN&&rc.warn(`Auth (${so}): ${t}`,...e)}function gl(t,...e){rc.logLevel<=Ie.ERROR&&rc.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw lg(t,...e)}function tr(t,...e){return lg(t,...e)}function Yx(t,e,n){const r=Object.assign(Object.assign({},Qx()),{[e]:n});return new Za("auth","Firebase",r).create(e,{appName:t.name})}function lg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OE.create(t,...e)}function he(t,e,...n){if(!t)throw lg(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gl(e),new Error(e)}function Cr(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Jx(){return ny()==="http:"||ny()==="https:"}function ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jx()||DA()||"connection"in navigator)?navigator.onLine:!0}function eP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=kA()||OA()}get(){return Zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new tu(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ao(t,e,n,r,i={}){return ME(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=eu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),NE.fetch()(LE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function ME(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tP),e);try{const i=new rP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ju(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Yx(t,c,l);Un(t,c)}}catch(i){if(i instanceof kr)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function nu(t,e,n,r,i={}){const s=await ao(t,e,n,r,i);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function LE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cg(t.config,i):`${t.config.apiScheme}://${i}`}class rP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),nP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=tr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e){return ao(t,"POST","/v1/accounts:delete",e)}async function sP(t,e){return ao(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oP(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=dg(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jo(Hh(i.auth_time)),issuedAtTime:Jo(Hh(i.iat)),expirationTime:Jo(Hh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hh(t){return Number(t)*1e3}function dg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gl("JWT malformed, contained fewer than 3 sections"),null;try{const i=SE(n);return i?JSON.parse(i):(gl("Failed to decode base64 JWT payload"),null)}catch(i){return gl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aP(t){const e=dg(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&uP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ia(t,sP(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hP(s.providerUserInfo):[],a=dP(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new FE(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function cP(t){const e=Ct(t);await ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hP(t){return t.map(e=>{var{providerId:n}=e,r=ug(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e){const n=await ME(t,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=LE(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await fP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ca;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ug(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new FE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ia(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oP(this,e)}reload(){return cP(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ia(this,iP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,p=(l=n.createdAt)!==null&&l!==void 0?l:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:_,isAnonymous:x,providerData:b,stsTokenManager:N}=n;he(v&&N,e,"internal-error");const U=Ca.fromJSON(this.name,N);he(typeof v=="string",e,"internal-error"),Lr(d,e.name),Lr(f,e.name),he(typeof _=="boolean",e,"internal-error"),he(typeof x=="boolean",e,"internal-error"),Lr(m,e.name),Lr(w,e.name),Lr(y,e.name),Lr(S,e.name),Lr(p,e.name),Lr(g,e.name);const Z=new Li({uid:v,auth:e,email:f,emailVerified:_,displayName:d,isAnonymous:x,photoURL:w,phoneNumber:m,tenantId:y,stsTokenManager:U,createdAt:p,lastLoginAt:g});return b&&Array.isArray(b)&&(Z.providerData=b.map(ee=>Object.assign({},ee))),S&&(Z._redirectEventId=S),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ca;i.updateFromServerResponse(n);const s=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ic(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;function mr(t){Cr(t instanceof Function,"Expected a class definition");let e=ry.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ry.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VE.type="NONE";const iy=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t,e,n){return`firebase:${t}:${e}:${n}`}class Ps{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vl(this.userKey,i.apiKey,s),this.fullPersistenceKey=vl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ps(mr(iy),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||mr(iy);const o=vl(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const d=Li._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ps(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Ps(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zE(e))return"Blackberry";if(HE(e))return"Webos";if(hg(e))return"Safari";if((e.includes("chrome/")||$E(e))&&!e.includes("edge/"))return"Chrome";if(BE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UE(t=Ut()){return/firefox\//i.test(t)}function hg(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $E(t=Ut()){return/crios\//i.test(t)}function jE(t=Ut()){return/iemobile/i.test(t)}function BE(t=Ut()){return/android/i.test(t)}function zE(t=Ut()){return/blackberry/i.test(t)}function HE(t=Ut()){return/webos/i.test(t)}function dd(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pP(t=Ut()){var e;return dd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mP(){return NA()&&document.documentMode===10}function WE(t=Ut()){return dd(t)||BE(t)||HE(t)||zE(t)||/windows phone/i.test(t)||jE(t)}function gP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t,e=[]){let n;switch(t){case"Browser":n=sy(Ut());break;case"Worker":n=`${sy(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${r}`}async function KE(t,e){return ao(t,"GET","/v2/recaptchaConfig",oo(t,e))}function oy(t){return t!==void 0&&t.enterprise!==void 0}class GE{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function QE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=tr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vP().appendChild(r)})}function yP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wP="https://www.google.com/recaptcha/enterprise.js?render=",_P="recaptcha-enterprise",EP="NO_RECAPTCHA";class XE{constructor(e){this.type=_P,this.auth=uo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{KE(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new GE(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;oy(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(EP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&oy(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}QE(wP+a).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function sc(t,e,n,r=!1){const i=new XE(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ay(this),this.idTokenSubscription=new ay(this),this.beforeStateQueue=new SP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ps.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ct(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}async initializeRecaptchaConfig(){const e=await KE(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new GE(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new XE(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Ps.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return he(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Xx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function uo(t){return Ct(t)}class ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=jA(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e){const n=ag(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(tc(s,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function CP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bP(t,e,n){const r=uo(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=YE(e),{host:o,port:a}=RP(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||AP()}function YE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RP(t){const e=YE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uy(o)}}}function uy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function xP(t,e){return ao(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t,e){return nu(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){return nu(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function kP(t,e){return nu(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends fg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ba(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ba(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await sc(e,r,"signInWithPassword");return Wh(e,i)}else return Wh(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await sc(e,r,"signInWithPassword");return Wh(e,s)}else return Promise.reject(i)});case"emailLink":return PP(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return xP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return kP(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ks(t,e){return nu(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="http://localhost";class Wi extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ug(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Wi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ks(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ks(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ks(e,n)}buildRequest(){const e={requestUri:DP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NP(t){const e=Mo(Lo(t)).link,n=e?Mo(Lo(e)).deep_link_id:null,r=Mo(Lo(t)).deep_link_id;return(r?Mo(Lo(r)).link:null)||r||n||e||t}class pg{constructor(e){var n,r,i,s,o,a;const u=Mo(Lo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,d=OP((i=u.mode)!==null&&i!==void 0?i:null);he(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=NP(e);try{return new pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(e,n){return ba._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pg.parseLink(n);return he(r,"argument-error"),ba._fromEmailAndCode(e,r.code,r.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends ru{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wi._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends ru{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ru{constructor(){super("twitter.com")}static credential(e,n){return Wi._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t,e){return nu(t,"POST","/v1/accounts:signUp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Li._fromIdTokenResponse(e,r,i),o=ly(r);return new qi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ly(r);return new qi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ly(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends kr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new oc(e,n,r,i)}}function ZE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(t,s,e,r):s})}async function MP(t,e,n=!1){const r=await Ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ia(t,ZE(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=dg(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),qi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(t,e,n=!1){const r="signIn",i=await ZE(t,r,e),s=await qi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function FP(t,e){return eS(uo(t),e)}async function VP(t,e,n){var r;const i=uo(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const l=await sc(i,s,"signUpPassword");o=qh(i,l)}else o=qh(i,s).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await sc(i,s,"signUpPassword");return qh(i,c)}else return Promise.reject(l)});const a=await o.catch(l=>Promise.reject(l)),u=await qi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function UP(t,e,n){return FP(Ct(t),lo.credential(e,n))}function $P(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function jP(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function BP(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function zP(t){return Ct(t).signOut()}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(){const t=Ut();return hg(t)||dd(t)}const WP=1e3,qP=10;class nS extends tS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HP()&&gP(),this.fallbackToPolling=WE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);mP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nS.type="LOCAL";const KP=nS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends tS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rS.type="SESSION";const iS=rS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await GP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=mg("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function XP(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function YP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZP(){return sS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firebaseLocalStorageDb",ek=1,uc="firebaseLocalStorage",aS="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(t,e){return t.transaction([uc],e?"readwrite":"readonly").objectStore(uc)}function tk(){const t=indexedDB.deleteDatabase(oS);return new iu(t).toPromise()}function Ep(){const t=indexedDB.open(oS,ek);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uc,{keyPath:aS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uc)?e(r):(r.close(),await tk(),e(await Ep()))})})}async function cy(t,e,n){const r=fd(t,!0).put({[aS]:e,value:n});return new iu(r).toPromise()}async function nk(t,e){const n=fd(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function dy(t,e){const n=fd(t,!0).delete(e);return new iu(n).toPromise()}const rk=800,ik=3;class uS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ik)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(ZP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YP(),!this.activeServiceWorker)return;this.sender=new QP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await cy(e,ac,"1"),await dy(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fd(i,!1).getAll();return new iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uS.type="LOCAL";const sk=uS;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){return e?mr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ak(t){return eS(t.auth,new gg(t),t.bypassAuthState)}function uk(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),LP(n,new gg(t),t.bypassAuthState)}async function lk(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),MP(n,new gg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ak;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return uk;default:Un(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new tu(2e3,1e4);class Ss extends lS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ck.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="pendingRedirect",yl=new Map;class hk extends lS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yl.get(this.auth._key());if(!e){try{const r=await fk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yl.set(this.auth._key(),e)}return this.bypassAuthState||yl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fk(t,e){const n=gk(e),r=mk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pk(t,e){yl.set(t._key(),e)}function mk(t){return mr(t._redirectPersistence)}function gk(t){return vl(dk,t.config.apiKey,t.name)}async function vk(t,e,n=!1){const r=uo(t),i=ok(r,e),o=await new hk(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=10*60*1e3;class wk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_k(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(hy(e))}saveEventToCache(e){this.cachedEventUids.add(hy(e)),this.lastProcessedEventTime=Date.now()}}function hy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _k(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e={}){return ao(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tk=/^https?/;async function Ik(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ek(t);for(const n of e)try{if(Ck(n))return}catch{}Un(t,"unauthorized-domain")}function Ck(t){const e=_p(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Tk.test(n))return!1;if(Sk.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new tu(3e4,6e4);function fy(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rk(t){return new Promise((e,n)=>{var r,i,s;function o(){fy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fy(),n(tr(t,"network-request-failed"))},timeout:bk.get()})}if(!((i=(r=nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=nr().gapi)===null||s===void 0)&&s.load)o();else{const a=yP("iframefcb");return nr()[a]=()=>{gapi.load?o():n(tr(t,"network-request-failed"))},QE(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw wl=null,e})}let wl=null;function Ak(t){return wl=wl||Rk(t),wl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new tu(5e3,15e3),Pk="__/auth/iframe",kk="emulator/auth/iframe",Dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ok=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nk(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cg(e,kk):`https://${t.config.authDomain}/${Pk}`,r={apiKey:e.apiKey,appName:t.name,v:so},i=Ok.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${eu(r).slice(1)}`}async function Mk(t){const e=await Ak(t),n=nr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:Nk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dk,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=tr(t,"network-request-failed"),a=nr().setTimeout(()=>{s(o)},xk.get());function u(){nr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fk=500,Vk=600,Uk="_blank",$k="http://localhost";class py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jk(t,e,n,r=Fk,i=Vk){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Lk),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ut().toLowerCase();n&&(a=$E(l)?Uk:n),UE(l)&&(e=e||$k,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(pP(l)&&a!=="_self")return Bk(e||"",a),new py(null);const d=window.open(e||"",a,c);he(d,t,"popup-blocked");try{d.focus()}catch{}return new py(d)}function Bk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="__/auth/handler",Hk="emulator/auth/handler",Wk=encodeURIComponent("fac");async function my(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:so,eventId:i};if(e instanceof JE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$A(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof ru){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${Wk}=${encodeURIComponent(u)}`:"";return`${qk(t)}?${eu(a).slice(1)}${l}`}function qk({config:t}){return t.emulator?cg(t,Hk):`https://${t.authDomain}/${zk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="webStorageSupport";class Kk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iS,this._completeRedirectFn=vk,this._overrideRedirectResult=pk}async _openPopup(e,n,r,i){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await my(e,n,r,_p(),i);return jk(e,o,mg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await my(e,n,r,_p(),i);return XP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Mk(e),r=new wk(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kh,{type:Kh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Kh];o!==void 0&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ik(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WE()||hg()||dd()}}const Gk=Kk;var gy="@firebase/auth",vy="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Yk(t){Hs(new zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(t)},l=new TP(r,i,s,u);return CP(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hs(new zi("auth-internal",e=>{const n=uo(e.getProvider("auth").getImmediate());return(r=>new Qk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(gy,vy,Xk(t)),oi(gy,vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=5*60,Zk=CE("authIdTokenMaxAge")||Jk;let yy=null;const e4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zk)return;const i=n==null?void 0:n.token;yy!==i&&(yy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function t4(t=xE()){const e=ag(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IP(t,{popupRedirectResolver:Gk,persistence:[sk,KP,iS]}),r=CE("authTokenSyncURL");if(r){const s=e4(r);jP(n,s,()=>s(n.currentUser)),$P(n,o=>s(o))}const i=TE("auth");return i&&bP(n,`http://${i}`),n}Yk("Browser");var n4="firebase",r4="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(n4,r4,"app");var i4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,vg=vg||{},pe=i4||self;function pd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function su(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function s4(t){return Object.prototype.hasOwnProperty.call(t,Gh)&&t[Gh]||(t[Gh]=++o4)}var Gh="closure_uid_"+(1e9*Math.random()>>>0),o4=0;function a4(t,e,n){return t.call.apply(t.bind,arguments)}function u4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mt=a4:Mt=u4,Mt.apply(null,arguments)}function Bu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function yi(){this.s=this.s,this.o=this.o}var l4=0;yi.prototype.s=!1;yi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),l4!=0)&&s4(this)};yi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var c4=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",()=>{},e),pe.removeEventListener("test",()=>{},e)}catch{}return t}();function Ra(t){return/^[\s\xa0]*$/.test(t)}function md(){var t=pe.navigator;return t&&(t=t.userAgent)?t:""}function Qn(t){return md().indexOf(t)!=-1}function wg(t){return wg[" "](t),t}wg[" "]=function(){};function d4(t,e){var n=rD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var h4=Qn("Opera"),Ws=Qn("Trident")||Qn("MSIE"),hS=Qn("Edge"),Sp=hS||Ws,fS=Qn("Gecko")&&!(md().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),f4=md().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge");function pS(){var t=pe.document;return t?t.documentMode:void 0}var Tp;e:{var Qh="",Xh=function(){var t=md();if(fS)return/rv:([^\);]+)(\)|;)/.exec(t);if(hS)return/Edge\/([\d\.]+)/.exec(t);if(Ws)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(f4)return/WebKit\/(\S+)/.exec(t);if(h4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Xh&&(Qh=Xh?Xh[1]:""),Ws){var Yh=pS();if(Yh!=null&&Yh>parseFloat(Qh)){Tp=String(Yh);break e}}Tp=Qh}var Ip;if(pe.document&&Ws){var _y=pS();Ip=_y||parseInt(Tp,10)||void 0}else Ip=void 0;var p4=Ip;function Aa(t,e){if(Lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fS){e:{try{wg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:m4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Aa.$.h.call(this)}}mt(Aa,Lt);var m4={2:"touch",3:"pen",4:"mouse"};Aa.prototype.h=function(){Aa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ou="closure_listenable_"+(1e6*Math.random()|0),g4=0;function v4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++g4,this.fa=this.ia=!1}function gd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function _g(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function y4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function mS(t){const e={};for(const n in t)e[n]=t[n];return e}const Ey="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Ey.length;s++)n=Ey[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vd(t){this.src=t,this.g={},this.h=0}vd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=bp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new v4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Cp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=dS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function bp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Eg="closure_lm_"+(1e6*Math.random()|0),Jh={};function vS(t,e,n,r,i){if(r&&r.once)return wS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vS(t,e[s],n,r,i);return null}return n=Ig(n),t&&t[ou]?t.O(e,n,su(r)?!!r.capture:!!r,i):yS(t,e,n,!1,r,i)}function yS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=su(i)?!!i.capture:!!i,a=Tg(t);if(a||(t[Eg]=a=new vd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=w4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)c4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ES(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function w4(){function t(n){return e.call(t.src,t.listener,n)}const e=_4;return t}function wS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wS(t,e[s],n,r,i);return null}return n=Ig(n),t&&t[ou]?t.P(e,n,su(r)?!!r.capture:!!r,i):yS(t,e,n,!0,r,i)}function _S(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_S(t,e[s],n,r,i);else r=su(r)?!!r.capture:!!r,n=Ig(n),t&&t[ou]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=bp(s,n,r,i),-1<n&&(gd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Tg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=bp(e,n,r,i)),(n=-1<t?e[t]:null)&&Sg(n))}function Sg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ou])Cp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ES(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tg(e))?(Cp(n,t),n.h==0&&(n.src=null,e[Eg]=null)):gd(t)}}}function ES(t){return t in Jh?Jh[t]:Jh[t]="on"+t}function _4(t,e){if(t.fa)t=!0;else{e=new Aa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Sg(t),t=n.call(r,e)}return t}function Tg(t){return t=t[Eg],t instanceof vd?t:null}var Zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ig(t){return typeof t=="function"?t:(t[Zh]||(t[Zh]=function(e){return t.handleEvent(e)}),t[Zh])}function pt(){yi.call(this),this.i=new vd(this),this.S=this,this.J=null}mt(pt,yi);pt.prototype[ou]=!0;pt.prototype.removeEventListener=function(t,e,n,r){_S(this,t,e,n,r)};function Tt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Lt(e,t);else if(e instanceof Lt)e.target=e.target||t;else{var i=e;e=new Lt(r,t),gS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zu(o,r,!0,e)&&i}if(o=e.g=t,i=zu(o,r,!0,e)&&i,i=zu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=zu(o,r,!1,e)&&i}pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gd(n[r]);delete t.g[e],t.h--}}this.J=null};pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function zu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Cp(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cg=pe.JSON.stringify;class E4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function S4(){var t=bg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class T4{constructor(){this.h=this.g=null}add(e,n){const r=SS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var SS=new E4(()=>new I4,t=>t.reset());class I4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function C4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function b4(t){pe.setTimeout(()=>{throw t},0)}let xa,Pa=!1,bg=new T4,TS=()=>{const t=pe.Promise.resolve(void 0);xa=()=>{t.then(R4)}};var R4=()=>{for(var t;t=S4();){try{t.h.call(t.g)}catch(n){b4(n)}var e=SS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pa=!1};function yd(t,e){pt.call(this),this.h=t||1,this.g=e||pe,this.j=Mt(this.qb,this),this.l=Date.now()}mt(yd,pt);Q=yd.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(Rg(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){yd.$.N.call(this),Rg(this),delete this.g};function Ag(t,e,n){if(typeof t=="function")n&&(t=Mt(t,n));else if(t&&typeof t.handleEvent=="function")t=Mt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function IS(t){t.g=Ag(()=>{t.g=null,t.i&&(t.i=!1,IS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class A4 extends yi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IS(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(t){yi.call(this),this.h=t,this.g={}}mt(ka,yi);var Sy=[];function CS(t,e,n,r){Array.isArray(n)||(n&&(Sy[0]=n.toString()),n=Sy);for(var i=0;i<n.length;i++){var s=vS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function bS(t){_g(t.g,function(e,n){this.g.hasOwnProperty(n)&&Sg(e)},t),t.g={}}ka.prototype.N=function(){ka.$.N.call(this),bS(this)};ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wd(){this.g=!0}wd.prototype.Ea=function(){this.g=!1};function x4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function P4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ts(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+D4(t,n)+(r?" "+r:"")})}function k4(t,e){t.info(function(){return"TIMEOUT: "+e})}wd.prototype.info=function(){};function D4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Cg(n)}catch{return e}}var es={},Ty=null;function _d(){return Ty=Ty||new pt}es.Ta="serverreachability";function RS(t){Lt.call(this,es.Ta,t)}mt(RS,Lt);function Da(t){const e=_d();Tt(e,new RS(e))}es.STAT_EVENT="statevent";function AS(t,e){Lt.call(this,es.STAT_EVENT,t),this.stat=e}mt(AS,Lt);function qt(t){const e=_d();Tt(e,new AS(e,t))}es.Ua="timingevent";function xS(t,e){Lt.call(this,es.Ua,t),this.size=e}mt(xS,Lt);function au(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var Ed={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xg(){}xg.prototype.h=null;function Iy(t){return t.h||(t.h=t.i())}function kS(){}var uu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pg(){Lt.call(this,"d")}mt(Pg,Lt);function kg(){Lt.call(this,"c")}mt(kg,Lt);var Rp;function Sd(){}mt(Sd,xg);Sd.prototype.g=function(){return new XMLHttpRequest};Sd.prototype.i=function(){return{}};Rp=new Sd;function lu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ka(this),this.P=O4,t=Sp?125:void 0,this.V=new yd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new DS}function DS(){this.i=null,this.g="",this.h=!1}var O4=45e3,Ap={},lc={};Q=lu.prototype;Q.setTimeout=function(t){this.P=t};function xp(t,e,n){t.L=1,t.v=Id(br(e)),t.s=n,t.S=!0,OS(t,null)}function OS(t,e){t.G=Date.now(),cu(t),t.A=br(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),jS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new DS,t.g=uT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new A4(Mt(t.Pa,t,t.g),t.O)),CS(t.U,t.g,"readystatechange",t.nb),e=t.I?mS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Da(),x4(t.j,t.u,t.A,t.m,t.W,t.s)}Q.nb=function(t){t=t.target;const e=this.M;e&&Xn(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=Xn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Sp||this.g&&(this.h.h||this.g.ja()||Ay(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Da(3):Da(2)),Td(this);var n=this.g.da();this.ca=n;t:if(NS(this)){var r=Ay(this.g);t="";var i=r.length,s=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Zo(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,P4(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ra(a)){var l=a;break t}}l=null}if(n=l)Ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pp(this,n);else{this.i=!1,this.o=3,qt(12),Pi(this),Zo(this);break e}}this.S?(MS(this,c,o),Sp&&this.i&&c==3&&(CS(this.U,this.V,"tick",this.mb),this.V.start())):(Ts(this.j,this.m,o,null),Pp(this,o)),c==4&&Pi(this),this.i&&!this.J&&(c==4?iT(this.l,this):(this.i=!1,cu(this)))}else eD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,qt(12)):(this.o=0,qt(13)),Pi(this),Zo(this)}}}catch{}finally{}};function NS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function MS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=N4(t,n),i==lc){e==4&&(t.o=4,qt(14),r=!1),Ts(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ap){t.o=4,qt(15),Ts(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ts(t.j,t.m,i,null),Pp(t,i);NS(t)&&i!=lc&&i!=Ap&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fg(e),e.M=!0,qt(11))):(Ts(t.j,t.m,n,"[Invalid Chunked Response]"),Pi(t),Zo(t))}Q.mb=function(){if(this.g){var t=Xn(this.g),e=this.g.ja();this.C<e.length&&(Td(this),MS(this,t,e),this.i&&t!=4&&cu(this))}};function N4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?lc:(n=Number(e.substring(n,r)),isNaN(n)?Ap:(r+=1,r+n>e.length?lc:(e=e.slice(r,r+n),t.C=r+n,e)))}Q.cancel=function(){this.J=!0,Pi(this)};function cu(t){t.Y=Date.now()+t.P,LS(t,t.P)}function LS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=au(Mt(t.lb,t),e)}function Td(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}Q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(k4(this.j,this.A),this.L!=2&&(Da(),qt(17)),Pi(this),this.o=2,Zo(this)):LS(this,this.Y-t)};function Zo(t){t.l.H==0||t.J||iT(t.l,t)}function Pi(t){Td(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Rg(t.V),bS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||kp(n.i,t))){if(!t.K&&kp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hc(n),Rd(n);else break e;Lg(n),qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=au(Mt(n.ib,n),6e3));if(1>=HS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ki(n,11)}else if((t.K||n.g==t)&&hc(n),!Ra(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Dg(s,s.h),s.h=null))}if(r.F){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Fe(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=aT(r,r.J?r.pa:null,r.Y),o.K){WS(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Td(a),cu(a)),r.g=o}else nT(r);0<n.j.length&&Ad(n)}else l[0]!="stop"&&l[0]!="close"||ki(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ki(n,7):Mg(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Da(4)}catch{}}function M4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function L4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function FS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=L4(t),r=M4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var VS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fi){this.h=t.h,cc(this,t.j),this.s=t.s,this.g=t.g,dc(this,t.m),this.l=t.l;var e=t.i,n=new Oa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Cy(this,n),this.o=t.o}else t&&(e=String(t).match(VS))?(this.h=!1,cc(this,e[1]||"",!0),this.s=Fo(e[2]||""),this.g=Fo(e[3]||"",!0),dc(this,e[4]),this.l=Fo(e[5]||"",!0),Cy(this,e[6]||"",!0),this.o=Fo(e[7]||"")):(this.h=!1,this.i=new Oa(null,this.h))}Fi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vo(e,by,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vo(e,by,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Vo(n,n.charAt(0)=="/"?$4:U4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vo(n,B4)),t.join("")};function br(t){return new Fi(t)}function cc(t,e,n){t.j=n?Fo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function dc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Cy(t,e,n){e instanceof Oa?(t.i=e,z4(t.i,t.h)):(n||(e=Vo(e,j4)),t.i=new Oa(e,t.h))}function Fe(t,e,n){t.i.set(e,n)}function Id(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,V4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function V4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var by=/[#\/\?@]/g,U4=/[#\?:]/g,$4=/[#\?]/g,j4=/[#\?@]/g,B4=/#/g;function Oa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wi(t){t.g||(t.g=new Map,t.h=0,t.i&&F4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=Oa.prototype;Q.add=function(t,e){wi(this),this.i=null,t=co(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function US(t,e){wi(t),e=co(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $S(t,e){return wi(t),e=co(t,e),t.g.has(e)}Q.forEach=function(t,e){wi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){wi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Q.Z=function(t){wi(this);let e=[];if(typeof t=="string")$S(this,t)&&(e=e.concat(this.g.get(co(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return wi(this),this.i=null,t=co(this,t),$S(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jS(t,e,n){US(t,e),0<n.length&&(t.i=null,t.g.set(co(t,e),yg(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function co(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function z4(t,e){e&&!t.j&&(wi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(US(this,r),jS(this,i,n))},t)),t.j=e}var H4=class{constructor(t,e){this.g=t,this.map=e}};function BS(t){this.l=t||W4,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var W4=10;function zS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function HS(t){return t.h?1:t.g?t.g.size:0}function kp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Dg(t,e){t.g?t.g.add(e):t.h=e}function WS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}BS.prototype.cancel=function(){if(this.i=qS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function qS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return yg(t.i)}var q4=class{stringify(t){return pe.JSON.stringify(t,void 0)}parse(t){return pe.JSON.parse(t,void 0)}};function K4(){this.g=new q4}function G4(t,e,n){const r=n||"";try{FS(t,function(i,s){let o=i;su(i)&&(o=Cg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Q4(t,e){const n=new wd;if(pe.Image){const r=new Image;r.onload=Bu(Hu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bu(Hu,n,r,"TestLoadImage: error",!1,e),r.onabort=Bu(Hu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bu(Hu,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function du(t){this.l=t.fc||null,this.j=t.ob||!1}mt(du,xg);du.prototype.g=function(){return new Cd(this.l,this.j)};du.prototype.i=function(t){return function(){return t}}({});function Cd(t,e){pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Og,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(Cd,pt);var Og=0;Q=Cd.prototype;Q.open=function(t,e){if(this.readyState!=Og)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Na(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=Og};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function KS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hu(this):Na(this),this.readyState==3&&KS(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,hu(this))};Q.Ya=function(t){this.g&&(this.response=t,hu(this))};Q.ka=function(){this.g&&hu(this)};function hu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Na(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Na(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Cd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var X4=pe.JSON.parse;function Qe(t){pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GS,this.L=this.M=!1}mt(Qe,pt);var GS="",Y4=/^https?$/i,J4=["POST","PUT"];Q=Qe.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rp.g(),this.C=this.u?Iy(this.u):Iy(Rp),this.g.onreadystatechange=Mt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Ry(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=pe.FormData&&t instanceof pe.FormData,!(0<=dS(J4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{YS(this),0<this.B&&((this.L=Z4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.ua,this)):this.A=Ag(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ry(this,s)}};function Z4(t){return Ws&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof vg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function Ry(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QS(t),bd(t)}function QS(t){t.F||(t.F=!0,Tt(t,"complete"),Tt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),bd(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bd(this,!0)),Qe.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?XS(this):this.kb())};Q.kb=function(){XS(this)};function XS(t){if(t.h&&typeof vg<"u"&&(!t.C[1]||Xn(t)!=4||t.da()!=2)){if(t.v&&Xn(t)==4)Ag(t.La,0,t);else if(Tt(t,"readystatechange"),Xn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(VS)[1]||null;!i&&pe.self&&pe.self.location&&(i=pe.self.location.protocol.slice(0,-1)),r=!Y4.test(i?i.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var s=2<Xn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",QS(t)}}finally{bd(t)}}}}function bd(t,e){if(t.g){YS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function YS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Xn(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),X4(e)}};function Ay(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function eD(t){const e={};t=(t.g&&2<=Xn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ra(t[r]))continue;var n=C4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}y4(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function JS(t){let e="";return _g(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ng(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Fe(t,e,n))}function bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ZS(t){this.Ga=0,this.j=[],this.l=new wd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bo("baseRetryDelayMs",5e3,t),this.hb=bo("retryDelaySeedMs",1e4,t),this.eb=bo("forwardChannelMaxRetries",2,t),this.xa=bo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new BS(t&&t.concurrentRequestLimit),this.Ja=new K4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=ZS.prototype;Q.ra=8;Q.H=1;function Mg(t){if(eT(t),t.H==3){var e=t.W++,n=br(t.I);if(Fe(n,"SID",t.K),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),fu(t,n),e=new lu(t,t.l,e),e.L=2,e.v=Id(br(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon)try{n=pe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=uT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cu(e)}oT(t)}function Rd(t){t.g&&(Fg(t),t.g.cancel(),t.g=null)}function eT(t){Rd(t),t.u&&(pe.clearTimeout(t.u),t.u=null),hc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function Ad(t){if(!zS(t.i)&&!t.m){t.m=!0;var e=t.Na;xa||TS(),Pa||(xa(),Pa=!0),bg.add(e,t),t.C=0}}function tD(t,e){return HS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=au(Mt(t.Na,t,e),sT(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=mS(s),gS(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tT(this,i,e),n=br(this.I),Fe(n,"RID",t),Fe(n,"CVER",22),this.F&&Fe(n,"X-HTTP-Session-Id",this.F),fu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(JS(s)))+"&"+e:this.o&&Ng(n,this.o,s)),Dg(this.i,i),this.bb&&Fe(n,"TYPE","init"),this.P?(Fe(n,"$req",e),Fe(n,"SID","null"),i.aa=!0,xp(i,n,null)):xp(i,n,e),this.H=2}}else this.H==3&&(t?xy(this,t):this.j.length==0||zS(this.i)||xy(this))};function xy(t,e){var n;e?n=e.m:n=t.W++;const r=br(t.I);Fe(r,"SID",t.K),Fe(r,"RID",n),Fe(r,"AID",t.V),fu(t,r),t.o&&t.s&&Ng(r,t.o,t.s),n=new lu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=tT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Dg(t.i,n),xp(n,r,e)}function fu(t,e){t.na&&_g(t.na,function(n,r){Fe(e,r,n)}),t.h&&FS({},function(n,r){Fe(e,r,n)})}function tT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Mt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{G4(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function nT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xa||TS(),Pa||(xa(),Pa=!0),bg.add(e,t),t.A=0}}function Lg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=au(Mt(t.Ma,t),sT(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,rT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=au(Mt(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),Rd(this),rT(this))};function Fg(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function rT(t){t.g=new lu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=br(t.wa);Fe(e,"RID","rpc"),Fe(e,"SID",t.K),Fe(e,"AID",t.V),Fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Fe(e,"TO",t.qa),Fe(e,"TYPE","xmlhttp"),fu(t,e),t.o&&t.s&&Ng(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Id(br(e)),n.s=null,n.S=!0,OS(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Rd(this),Lg(this),qt(19))};function hc(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function iT(t,e){var n=null;if(t.g==e){hc(t),Fg(t),t.g=null;var r=2}else if(kp(t.i,e))n=e.F,WS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=_d(),Tt(r,new xS(r,n)),Ad(t)}else nT(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&tD(t,e)||r==2&&Lg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ki(t,5);break;case 4:ki(t,10);break;case 3:ki(t,6);break;default:ki(t,2)}}}function sT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ki(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Mt(t.pb,t);n||(n=new Fi("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||cc(n,"https"),Id(n)),Q4(n.toString(),r)}else qt(2);t.H=0,t.h&&t.h.za(e),oT(t),eT(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))};function oT(t){if(t.H=0,t.ma=[],t.h){const e=qS(t.i);(e.length!=0||t.j.length!=0)&&(wy(t.ma,e),wy(t.ma,t.j),t.i.i.length=0,yg(t.j),t.j.length=0),t.h.ya()}}function aT(t,e,n){var r=n instanceof Fi?br(n):new Fi(n);if(r.g!="")e&&(r.g=e+"."+r.g),dc(r,r.m);else{var i=pe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Fi(null);r&&cc(s,r),e&&(s.g=e),i&&dc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Fe(r,n,e),Fe(r,"VER",t.ra),fu(t,r),r}function uT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Qe(new du({ob:!0})):new Qe(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function lT(){}Q=lT.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function fc(){if(Ws&&!(10<=Number(p4)))throw Error("Environmental error: no available transport.")}fc.prototype.g=function(t,e){return new mn(t,e)};function mn(t,e){pt.call(this),this.g=new ZS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ra(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ra(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ho(this)}mt(mn,pt);mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=aT(t,null,t.Y),Ad(t)};mn.prototype.close=function(){Mg(this.g)};mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Cg(t),t=n);e.j.push(new H4(e.fb++,t)),e.H==3&&Ad(e)};mn.prototype.N=function(){this.g.h=null,delete this.j,Mg(this.g),delete this.g,mn.$.N.call(this)};function cT(t){Pg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mt(cT,Pg);function dT(){kg.call(this),this.status=1}mt(dT,kg);function ho(t){this.g=t}mt(ho,lT);ho.prototype.Ba=function(){Tt(this.g,"a")};ho.prototype.Aa=function(t){Tt(this.g,new cT(t))};ho.prototype.za=function(t){Tt(this.g,new dT)};ho.prototype.ya=function(){Tt(this.g,"b")};function nD(){this.blockSize=-1}function $n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mt($n,nD);$n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ef(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}$n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ef(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ef(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ef(this,r),i=0;break}}this.h=i,this.i+=e};$n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var rD={};function Vg(t){return-128<=t&&128>t?d4(t,function(e){return new Pe([e|0],0>e?-1:0)}):new Pe([t|0],0>t?-1:0)}function Yn(t){if(isNaN(t)||!isFinite(t))return Ds;if(0>t)return Et(Yn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dp;return new Pe(e,0)}function hT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(hT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yn(Math.pow(e,8)),r=Ds,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Yn(Math.pow(e,s)),r=r.R(s).add(Yn(o))):(r=r.R(n),r=r.add(Yn(o)))}return r}var Dp=4294967296,Ds=Vg(0),Op=Vg(1),Py=Vg(16777216);Q=Pe.prototype;Q.ea=function(){if(Cn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dp+r)*e,e*=Dp}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gr(this))return"0";if(Cn(this))return"-"+Et(this).toString(t);for(var e=Yn(Math.pow(t,6)),n=this,r="";;){var i=mc(n,e).g;n=pc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,gr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Cn(t){return t.h==-1}Q.X=function(t){return t=pc(this,t),Cn(t)?-1:gr(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(Op)}Q.abs=function(){return Cn(this)?Et(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pe(n,n[n.length-1]&-2147483648?-1:0)};function pc(t,e){return t.add(Et(e))}Q.R=function(t){if(gr(this)||gr(t))return Ds;if(Cn(this))return Cn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(Cn(t))return Et(this.R(Et(t)));if(0>this.X(Py)&&0>t.X(Py))return Yn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Wu(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Wu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Wu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Wu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)};function Wu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ro(t,e){this.g=t,this.h=e}function mc(t,e){if(gr(e))throw Error("division by zero");if(gr(t))return new Ro(Ds,Ds);if(Cn(t))return e=mc(Et(t),e),new Ro(Et(e.g),Et(e.h));if(Cn(e))return e=mc(t,Et(e)),new Ro(Et(e.g),e.h);if(30<t.g.length){if(Cn(t)||Cn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Op,r=e;0>=r.X(t);)n=ky(n),r=ky(r);var i=ss(n,1),s=ss(r,1);for(r=ss(r,2),n=ss(n,2);!gr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ss(r,1),n=ss(n,1)}return e=pc(t,i.R(e)),new Ro(i,e)}for(i=Ds;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Yn(n),o=s.R(e);Cn(o)||0<o.X(t);)n-=r,s=Yn(n),o=s.R(e);gr(s)&&(s=Op),i=i.add(s),t=pc(t,o)}return new Ro(i,t)}Q.gb=function(t){return mc(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)};function ky(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function ss(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Pe(i,t.h)}fc.prototype.createWebChannel=fc.prototype.g;mn.prototype.send=mn.prototype.u;mn.prototype.open=mn.prototype.m;mn.prototype.close=mn.prototype.close;Ed.NO_ERROR=0;Ed.TIMEOUT=8;Ed.HTTP_ERROR=6;PS.COMPLETE="complete";kS.EventType=uu;uu.OPEN="a";uu.CLOSE="b";uu.ERROR="c";uu.MESSAGE="d";pt.prototype.listen=pt.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;$n.prototype.digest=$n.prototype.l;$n.prototype.reset=$n.prototype.reset;$n.prototype.update=$n.prototype.j;Pe.prototype.add=Pe.prototype.add;Pe.prototype.multiply=Pe.prototype.R;Pe.prototype.modulo=Pe.prototype.gb;Pe.prototype.compare=Pe.prototype.X;Pe.prototype.toNumber=Pe.prototype.ea;Pe.prototype.toString=Pe.prototype.toString;Pe.prototype.getBits=Pe.prototype.D;Pe.fromNumber=Yn;Pe.fromString=hT;var iD=function(){return new fc},sD=function(){return _d()},tf=Ed,oD=PS,aD=es,Dy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uD=du,qu=kS,lD=Qe,cD=$n,Os=Pe;const Oy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new sg("@firebase/firestore");function Ny(){return Ki.logLevel}function ne(t,...e){if(Ki.logLevel<=Ie.DEBUG){const n=e.map(Ug);Ki.debug(`Firestore (${fo}): ${t}`,...n)}}function Rr(t,...e){if(Ki.logLevel<=Ie.ERROR){const n=e.map(Ug);Ki.error(`Firestore (${fo}): ${t}`,...n)}}function qs(t,...e){if(Ki.logLevel<=Ie.WARN){const n=e.map(Ug);Ki.warn(`Firestore (${fo}): ${t}`,...n)}}function Ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function Ue(t,e){t||fe()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class hD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fD{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new fT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new kt(e)}}class pD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new gD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new at(0,0))}static max(){return new me(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends Ma{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const wD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Ma{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return wD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Be.fromString(e))}static fromName(e){return new ue(Be.fromString(e).popFirst(5))}static empty(){return new ue(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Be(e.slice()))}}function _D(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new di(i,ue.empty(),e)}function ED(t){return new di(t.readTime,t.key,-1)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(me.min(),ue.empty(),-1)}static max(){return new di(me.max(),ue.empty(),-1)}}function SD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ID{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==TD)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$g.ae=-1;function xd(t){return t==null}function gc(t){return t===0&&1/t==-1/0}function CD(t){return typeof t=="number"&&Number.isInteger(t)&&!gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new dn([])}unionWith(e){let n=new Ft(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gT("Invalid base64 string: "+s):s}}(e);return new $t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const bD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=bD.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gi(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bg(t){const e=t.mapValue.fields.__previous_value__;return jg(e)?Bg(e):e}function La(t){const e=hi(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Fa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jg(t)?4:AD(t)?9007199254740991:10:fe()}function sr(t,e){if(t===e)return!0;const n=Qi(t);if(n!==Qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return La(t).isEqual(La(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hi(i.timestampValue),a=hi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Gi(i.bytesValue).isEqual(Gi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ze(i.doubleValue),a=Ze(s.doubleValue);return o===a?gc(o)===gc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ks(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(My(o)!==My(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!sr(o[u],a[u])))return!1;return!0}(t,e);default:return fe()}}function Va(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;const n=Qi(t),r=Qi(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ze(s.integerValue||s.doubleValue),u=Ze(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Fy(t.timestampValue,e.timestampValue);case 4:return Fy(La(t),La(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Gi(s),u=Gi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Re(a[l],u[l]);if(c!==0)return c}return Re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Re(Ze(s.latitude),Ze(o.latitude));return a!==0?a:Re(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Gs(a[l],u[l]);if(c)return c}return Re(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Gu.mapValue&&o===Gu.mapValue)return 0;if(s===Gu.mapValue)return 1;if(o===Gu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let d=0;d<u.length&&d<c.length;++d){const f=Re(u[d],c[d]);if(f!==0)return f;const m=Gs(a[u[d]],l[c[d]]);if(m!==0)return m}return Re(u.length,c.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Fy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=hi(t),r=hi(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function Qs(t){return Np(t)}function Np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Np(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Np(n.fields[o])}`;return i+"}"}(t.mapValue):fe()}function Mp(t){return!!t&&"integerValue"in t}function zg(t){return!!t&&"arrayValue"in t}function Vy(t){return!!t&&"nullValue"in t}function Uy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _l(t){return!!t&&"mapValue"in t}function ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ea(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ea(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_l(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new en(ea(this.value))}}function vT(t){const e=[];return ts(t.fields,(n,r)=>{const i=new Nt([n]);if(_l(r)){const s=vT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,me.min(),me.min(),me.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new Ot(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new Ot(e,2,n,me.min(),me.min(),en.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,me.min(),me.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.position=e,this.inclusive=n}}function $y(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n="asc"){this.field=e,this.dir=n}}function xD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{}class st extends yT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kD(e,n,r):n==="array-contains"?new ND(e,r):n==="in"?new MD(e,r):n==="not-in"?new LD(e,r):n==="array-contains-any"?new FD(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DD(e,r):new OD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class or extends yT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new or(e,n)}matches(e){return wT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function wT(t){return t.op==="and"}function _T(t){return PD(t)&&wT(t)}function PD(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function Lp(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Qs(t.value);if(_T(t))return t.filters.map(e=>Lp(e)).join(",");{const e=t.filters.map(n=>Lp(n)).join(",");return`${t.op}(${e})`}}function ET(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&sr(r.value,i.value)}(t,e):t instanceof or?function(r,i){return i instanceof or&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ET(o,i.filters[a]),!0):!1}(t,e):void fe()}function ST(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(t):t instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(ST).join(" ,")+"}"}(t):"Filter"}class kD extends st{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class DD extends st{constructor(e,n){super(e,"in",n),this.keys=TT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OD extends st{constructor(e,n){super(e,"not-in",n),this.keys=TT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class ND extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zg(n)&&Va(n.arrayValue,this.value)}}class MD extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}}class LD extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}}class FD extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function By(t,e=null,n=[],r=[],i=null,s=null,o=null){return new VD(t,e,n,r,i,s,o)}function Hg(t){const e=ge(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qs(r)).join(",")),e.he=n}return e.he}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ET(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jy(t.startAt,e.startAt)&&jy(t.endAt,e.endAt)}function Fp(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function UD(t,e,n,r,i,s,o,a){return new Pd(t,e,n,r,i,s,o,a)}function qg(t){return new Pd(t)}function zy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $D(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jD(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function BD(t){return t.collectionGroup!==null}function Ns(t){const e=ge(t);if(e.Pe===null){e.Pe=[];const n=jD(e),r=$D(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new ta(n)),e.Pe.push(new ta(Nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new ta(Nt.keyField(),s))}}}return e.Pe}function Ar(t){const e=ge(t);if(!e.Ie)if(e.limitType==="F")e.Ie=By(e.path,e.collectionGroup,Ns(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ns(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ta(s.field,o))}const r=e.endAt?new vc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new vc(e.startAt.position,e.startAt.inclusive):null;e.Ie=By(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function Vp(t,e,n){return new Pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kd(t,e){return Wg(Ar(t),Ar(e))&&t.limitType===e.limitType}function IT(t){return`${Hg(Ar(t))}|lt:${t.limitType}`}function Up(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ST(i)).join(", ")}]`),xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qs(i)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function Dd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ns(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=$y(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Ns(r),i)||r.endAt&&!function(o,a,u){const l=$y(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Ns(r),i))}(t,e)}function zD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CT(t){return(e,n)=>{let r=!1;for(const i of Ns(t)){const s=HD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HD(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Gs(u,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new qe(ue.comparator);function xr(){return WD}const bT=new qe(ue.comparator);function Uo(...t){let e=bT;for(const n of t)e=e.insert(n.key,n);return e}function RT(t){let e=bT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return na()}function AT(){return na()}function na(){return new po(t=>t.toString(),(t,e)=>t.isEqual(e))}const qD=new qe(ue.comparator),KD=new Ft(ue.comparator);function ye(...t){let e=KD;for(const n of t)e=e.add(n);return e}const GD=new Ft(Re);function QD(){return GD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function PT(t){return{integerValue:""+t}}function XD(t,e){return CD(e)?PT(e):xT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function YD(t,e,n){return t instanceof yc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jg(s)&&(s=Bg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ua?DT(t,e):t instanceof $a?OT(t,e):function(i,s){const o=kT(i,s),a=Hy(o)+Hy(i.Te);return Mp(o)&&Mp(i.Te)?PT(a):xT(i.serializer,a)}(t,e)}function JD(t,e,n){return t instanceof Ua?DT(t,e):t instanceof $a?OT(t,e):n}function kT(t,e){return t instanceof wc?function(r){return Mp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yc extends Od{}class Ua extends Od{constructor(e){super(),this.elements=e}}function DT(t,e){const n=NT(e);for(const r of t.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class $a extends Od{constructor(e){super(),this.elements=e}}function OT(t,e){let n=NT(e);for(const r of t.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class wc extends Od{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Hy(t){return Ze(t.integerValue||t.doubleValue)}function NT(t){return zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ua&&i instanceof Ua||r instanceof $a&&i instanceof $a?Ks(r.elements,i.elements,sr):r instanceof wc&&i instanceof wc?sr(r.Te,i.Te):r instanceof yc&&i instanceof yc}(t.transform,e.transform)}class eO{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function El(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function MT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kg(t.key,Ln.none()):new gu(t.key,t.data,Ln.none());{const n=t.data,r=en.empty();let i=new Ft(Nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _i(t.key,r,new dn(i.toArray()),Ln.none())}}function tO(t,e,n){t instanceof gu?function(i,s,o){const a=i.value.clone(),u=qy(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _i?function(i,s,o){if(!El(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qy(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(LT(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ra(t,e,n,r){return t instanceof gu?function(s,o,a,u){if(!El(s.precondition,o))return a;const l=s.value.clone(),c=Ky(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof _i?function(s,o,a,u){if(!El(s.precondition,o))return a;const l=Ky(s.fieldTransforms,u,o),c=o.data;return c.setAll(LT(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return El(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kT(r.transform,i||null);s!=null&&(n===null&&(n=en.empty()),n.set(r.field,s))}return n||null}function Wy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ks(r,i,(s,o)=>ZD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gu extends Nd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _i extends Nd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qy(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JD(o,a,n[i]))}return r}function Ky(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,YD(s,o,e))}return r}class Kg extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rO extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ra(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ra(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=MT(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,(n,r)=>Wy(n,r))&&Ks(this.baseMutations,e.baseMutations,(n,r)=>Wy(n,r))}}class Gg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return qD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Gg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,Ee;function aO(t){switch(t){default:return fe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function FT(t){if(t===void 0)return Rr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Je.OK:return $.OK;case Je.CANCELLED:return $.CANCELLED;case Je.UNKNOWN:return $.UNKNOWN;case Je.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Je.INTERNAL:return $.INTERNAL;case Je.UNAVAILABLE:return $.UNAVAILABLE;case Je.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Je.NOT_FOUND:return $.NOT_FOUND;case Je.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Je.ABORTED:return $.ABORTED;case Je.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Je.DATA_LOSS:return $.DATA_LOSS;default:return fe()}}(Ee=Je||(Je={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Qu}static getOrCreateInstance(){return Qu===null&&(Qu=new Qg),Qu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Qu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new Os([4294967295,4294967295],0);function Gy(t){const e=uO().encode(t),n=new cD;return n.update(e),new Uint8Array(n.digest())}function Qy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Os([n,r],0),new Os([i,s],0)]}class Xg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(r<0)throw new $o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=Os.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(Os.fromNumber(r)));return i.compare(lO)===1&&(i=new Os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=Gy(e),[r,i]=Qy(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Xg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.de===0)return;const n=Gy(e),[r,i]=Qy(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Md(me.min(),i,new qe(Re),xr(),ye())}}class vu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class VT{constructor(e,n){this.targetId=e,this.pe=n}}class UT{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xy{constructor(){this.ye=0,this.we=Jy(),this.Se=$t.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=ye(),n=ye(),r=ye();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new vu(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=Jy()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class cO{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=xr(),this.$e=Yy(),this.Ue=new qe(Re)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const a=o.target;if(Fp(a))if(s===0){const u=new ue(a.path);this.ze(i,u,Ot.newNoDocument(u,me.min()))}else Ue(s===1);else{const u=this.et(i);if(u!==s){const l=this.tt(e,u);if(l.status!==0){this.Ye(i);const c=l.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=Qg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,f,m,w){var y,S,p,g,v,_;const x={localCacheCount:m,existenceFilterCount:w.count},b=w.unchangedNames;return b&&(x.bloomFilter={applied:d===0,hashCount:(y=b==null?void 0:b.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(g=(p=(S=b==null?void 0:b.bits)===null||S===void 0?void 0:S.bitmap)===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0,padding:(_=(v=b==null?void 0:b.bits)===null||v===void 0?void 0:v.padding)!==null&&_!==void 0?_:0},f&&(x.bloomFilter.mightContain=f)),x}(l.status,(r=l.nt)!==null&&r!==void 0?r:null,u,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,l;try{u=Gi(s).toUint8Array()}catch(d){if(d instanceof gT)return qs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw d}try{l=new Xg(u,o,a)}catch(d){return qs(d instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",d),{status:1}}const c=d=>{const f=this.qe.rt();return l.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${d}`)};return l.de===0?{status:1}:{status:i===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Fp(a.target)){const u=new ue(a.target.path);this.Ke.get(u)!==null||this.ot(o,u)||this.ze(o,u,Ot.newNoDocument(u,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=ye();this.$e.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new Md(e,n,this.Ue,this.Ke,r);return this.Ke=xr(),this.$e=Yy(),this.Ue=new qe(Re),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new Xy,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ft(Re),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new Xy),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function Yy(){return new qe(ue.comparator)}function Jy(){return new qe(ue.comparator)}const dO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),fO=(()=>({and:"AND",or:"OR"}))();class pO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $p(t,e){return t.useProto3Json||xd(e)?e:{value:e}}function _c(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mO(t,e){return _c(t,e.toTimestamp())}function rr(t){return Ue(!!t),me.fromTimestamp(function(n){const r=hi(n);return new at(r.seconds,r.nanos)}(t))}function Yg(t,e){return function(r){return new Be(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function jT(t){const e=Be.fromString(t);return Ue(WT(e)),e}function jp(t,e){return Yg(t.databaseId,e.path)}function nf(t,e){const n=jT(e);if(n.get(1)!==t.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(BT(n))}function Bp(t,e){return Yg(t.databaseId,e)}function gO(t){const e=jT(t);return e.length===4?Be.emptyPath():BT(e)}function zp(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BT(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zy(t,e,n){return{name:jp(t,e),fields:n.value.mapValue.fields}}function vO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Ue(c===void 0||typeof c=="string"),$t.fromBase64String(c||"")):(Ue(c===void 0||c instanceof Uint8Array),$t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?$.UNKNOWN:FT(l.code);return new ie(c,l.message||"")}(o);n=new UT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nf(t,r.document.name),s=rr(r.document.updateTime),o=r.document.createTime?rr(r.document.createTime):me.min(),a=new en({mapValue:{fields:r.document.fields}}),u=Ot.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Sl(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nf(t,r.document),s=r.readTime?rr(r.readTime):me.min(),o=Ot.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Sl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nf(t,r.document),s=r.removedTargetIds||[];n=new Sl([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new oO(i,s),a=r.targetId;n=new VT(a,o)}}return n}function yO(t,e){let n;if(e instanceof gu)n={update:Zy(t,e.key,e.value)};else if(e instanceof Kg)n={delete:jp(t,e.key)};else if(e instanceof _i)n={update:Zy(t,e.key,e.data),updateMask:RO(e.fieldMask)};else{if(!(e instanceof rO))return fe();n={verify:jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ua)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $a)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function wO(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?rr(i.updateTime):rr(s);return o.isEqual(me.min())&&(o=rr(s)),new eO(o,i.transformResults||[])}(n,e))):[]}function _O(t,e){return{documents:[Bp(t,e.path)]}}function EO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Bp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return HT(or.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(d){return{field:as(d.field),direction:IO(d.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$p(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function SO(t){let e=gO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=zT(d);return f instanceof or&&_T(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(w){return new ta(us(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,xd(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(d){const f=!!d.before,m=d.values||[];return new vc(m,f)}(n.startAt));let l=null;return n.endAt&&(l=function(d){const f=!d.before,m=d.values||[];return new vc(m,f)}(n.endAt)),UD(e,i,o,s,a,"F",u,l)}function TO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=us(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=us(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=us(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=us(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return st.create(us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(r=>zT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function IO(t){return dO[t]}function CO(t){return hO[t]}function bO(t){return fO[t]}function as(t){return{fieldPath:t.canonicalString()}}function us(t){return Nt.fromServerFormat(t.fieldPath)}function HT(t){return t instanceof st?function(n){if(n.op==="=="){if(Uy(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NAN"}};if(Vy(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uy(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NAN"}};if(Vy(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(n.field),op:CO(n.op),value:n.value}}}(t):t instanceof or?function(n){const r=n.getFilters().map(i=>HT(i));return r.length===1?r[0]:{compositeFilter:{op:bO(n.op),filters:r}}}(t):fe()}function RO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r,i,s=me.min(),o=me.min(),a=$t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.ct=e}}function xO(t){const e=SO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.sn=new kO}addToCollectionParentIndex(e,n){return this.sn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(di.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class kO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Xs(0)}static On(){return new Xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.changes=new po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ra(r.mutation,i,dn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=Di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Uo();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xr();const o=na(),a=function(){return na()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof _i)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),ra(c.mutation,l,c.mutation.getFieldMask(),at.now())):o.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var d;return a.set(l,new OO(c,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=na();let i=new qe((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||dn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const d=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,d=AT();c.forEach(f=>{if(!s.has(f)){const m=MT(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Di());let a=-1,u=s;return o.next(l=>z.forEach(l,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ye())).next(c=>({batchId:a,changes:RT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Uo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Uo();return this.indexManager.getCollectionParents(e,i).next(o=>z.forEach(o,a=>{const u=function(c,d){return new Pd(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const l=u.getKey();s.get(l)===null&&(s=s.insert(l,Ot.newInvalidDocument(l)))});let o=Uo();return s.forEach((a,u)=>{const l=i.get(a);l!==void 0&&ra(l.mutation,u,dn.empty(),at.now()),Dd(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return z.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:xO(i.bundledQuery),readTime:rr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.overlays=new qe(ue.comparator),this.cr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Di();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Di(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Di(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Di(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sO(n,r));let s=this.cr.get(n);s===void 0&&(s=ye(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.lr=new Ft(dt.hr),this.Pr=new Ft(dt.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new dt(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new ue(new Be([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new ue(new Be([])),r=new dt(n,e),i=new dt(n,e+1);let s=ye();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return ue.comparator(e.key,n.key)||Re(e.mr,n.mr)}static Ir(e,n){return Re(e.mr,n.mr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Ft(dt.hr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.pr=this.pr.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const a=this.yr(o.mr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Re);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],a=>{r=r.add(a.mr)})}),z.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new dt(new ue(s),0);let a=new Ft(Re);return this.pr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.mr)),!0)},o),z.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return z.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new dt(n,0),i=this.pr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.Dr=e,this.docs=function(){return new qe(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ot.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xr();const o=n.path,a=new ue(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||SD(ED(c),r)<=0||(i.has(c.key)||Dd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe()}vr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UO(this)}getSize(e){return z.resolve(this.size)}}class UO extends DO{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.persistence=e,this.Cr=new po(n=>Hg(n),Wg),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Jg,this.targetCount=0,this.Or=Xs.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),z.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Xs(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Ln(n),z.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.Nr={},this.overlays={},this.Br=new $g(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new $O(this),this.indexManager=new PO,this.remoteDocumentCache=function(i){return new VO(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new AO(n),this.Qr=new MO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new FO(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new BO(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return z.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class BO extends ID{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Wr=new Jg,this.Gr=null}static zr(e){return new Zg(e)}get jr(){if(this.Gr)return this.Gr;throw fe()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.jr,r=>{const i=ue.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return z.or([()=>z.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ev(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(zy(n))return z.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vp(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.Ki.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Gi(n,a);return this.zi(n,l,o,u.readTime)?this.$i(e,Vp(n,null,"F")):this.ji(e,l,n,u)}))})))}Ui(e,n,r,i){return zy(n)||i.isEqual(me.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(Ny()<=Ie.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Up(n)),this.ji(e,o,n,_D(i,-1)))})}Gi(e,n){let r=new Ft(CT(e));return n.forEach((i,s)=>{Dd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return Ny()<=Ie.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Up(n)),this.Ki.getDocumentsMatchingQuery(e,n,di.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new qe(Re),this.Yi=new po(s=>Hg(s),Wg),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function WO(t,e,n,r){return new HO(t,e,n,r)}async function qT(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ye();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ts:l,removedBatchIds:o,addedBatchIds:a}))})})}function qO(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const d=l.batch,f=d.keys();let m=z.resolve();return f.forEach(w=>{m=m.next(()=>c.getEntry(u,w)).next(y=>{const S=l.docVersions.get(w);Ue(S!==null),y.version.compareTo(S)<0&&(d.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KT(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function KO(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.kr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.kr.addMatchingKeys(s,c.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken($t.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(y,S,p){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,m,c)&&a.push(n.kr.updateTargetData(s,m))});let u=xr(),l=ye();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(GO(s,o,e.documentUpdates).next(c=>{u=c.ns,l=c.rs})),!r.isEqual(me.min())){const c=n.kr.getLastRemoteSnapshotVersion(s).next(d=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.Ji=i,s))}function GO(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xr();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(me.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ns:o,rs:i}})}function QO(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XO(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new Qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Hp(t,e,n){const r=ge(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!mu(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function e1(t,e,n){const r=ge(t);let i=me.min(),s=ye();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,l,c){const d=ge(u),f=d.Yi.get(c);return f!==void 0?z.resolve(d.Ji.get(f)):d.kr.getTargetData(l,c)}(r,o,Ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:ye())).next(a=>(YO(r,zD(e),a),{documents:a,ss:s})))}function YO(t,e,n){let r=t.Zi.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class t1{constructor(){this.activeTargetIds=QD()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JO{constructor(){this.Hs=new t1,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new t1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function rf(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class nN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${s}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Ro(){return!1}Vo(n,r,i,s,o){const a=rf(),u=this.mo(n,r);ne("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(l,s,o),this.po(n,u,l,i).then(c=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw qs("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}yo(n,r,i,s,o,a){return this.Vo(n,r,i,s,o)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}mo(n,r){const i=eN[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,i){const s=rf();return new Promise((o,a)=>{const u=new lD;u.setWithCredentials(!0),u.listenOnce(oD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tf.NO_ERROR:const c=u.getResponseJson();ne(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case tf.TIMEOUT:ne(xt,`RPC '${e}' ${s} timed out`),a(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const d=u.getStatus();if(ne(xt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(S){const p=S.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(p)>=0?p:$.UNKNOWN}(m.status);a(new ie(w,m.message))}else a(new ie($.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie($.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ne(xt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ne(xt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}wo(e,n,r){const i=rf(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iD(),a=sD(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new uD({})),this.fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");ne(xt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const d=o.createWebChannel(c,u);let f=!1,m=!1;const w=new tN({so:S=>{m?ne(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(ne(xt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ne(xt,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},oo:()=>d.close()}),y=(S,p,g)=>{S.listen(p,v=>{try{g(v)}catch(_){setTimeout(()=>{throw _},0)}})};return y(d,qu.EventType.OPEN,()=>{m||ne(xt,`RPC '${e}' stream ${i} transport opened.`)}),y(d,qu.EventType.CLOSE,()=>{m||(m=!0,ne(xt,`RPC '${e}' stream ${i} transport closed`),w.Po())}),y(d,qu.EventType.ERROR,S=>{m||(m=!0,qs(xt,`RPC '${e}' stream ${i} transport errored:`,S),w.Po(new ie($.UNAVAILABLE,"The operation could not be completed")))}),y(d,qu.EventType.MESSAGE,S=>{var p;if(!m){const g=S.data[0];Ue(!!g);const v=g,_=v.error||((p=v[0])===null||p===void 0?void 0:p.error);if(_){ne(xt,`RPC '${e}' stream ${i} received error:`,_);const x=_.status;let b=function(Z){const ee=Je[Z];if(ee!==void 0)return FT(ee)}(x),N=_.message;b===void 0&&(b=$.INTERNAL,N="Unknown error status: "+x+" with message "+_.message),m=!0,w.Po(new ie(b,N)),d.close()}else ne(xt,`RPC '${e}' stream ${i} received:`,g),w.Io(g)}}),y(a,aD.STAT_EVENT,S=>{S.stat===Dy.PROXY?ne(xt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Dy.NOPROXY&&ne(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.ho()},0),w}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){return new pO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=i,this.Do=s,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.Bo=r,this.Lo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new GT(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{e(()=>{const i=new ie($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rN extends QT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=vO(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?rr(o.readTime):me.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=zp(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Fp(u)?{documents:_O(s,u)}:{query:EO(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$T(s,o.resumeToken);const l=$p(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=_c(s,o.snapshotVersion.toTimestamp());const l=$p(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=TO(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=zp(this.serializer),n.removeTarget=e,this.Ho(n)}}class iN extends QT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=wO(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.u_(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=zp(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yO(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Vo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie($.UNKNOWN,i.toString())})}yo(e,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.yo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie($.UNKNOWN,s.toString())})}terminate(){this.h_=!0}}class oN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(Rr(n),this.d_=!1):ne("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=s,this.S_.Ys(o=>{r.enqueueAndForget(async()=>{ns(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ge(u);l.y_.add(4),await yu(l),l.b_.set("Unknown"),l.y_.delete(4),await Fd(l)}(this))})}),this.b_=new oN(r,i)}}async function Fd(t){if(ns(t))for(const e of t.w_)await e(!0)}async function yu(t){for(const e of t.w_)await e(!1)}function XT(t,e){const n=ge(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),rv(n)?nv(n):mo(n).Uo()&&tv(n,e))}function YT(t,e){const n=ge(t),r=mo(n);n.p_.delete(e),r.Uo()&&JT(n,e),n.p_.size===0&&(r.Uo()?r.zo():ns(n)&&n.b_.set("Unknown"))}function tv(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(t).i_(e)}function JT(t,e){t.D_.Be(e),mo(t).s_(e)}function nv(t){t.D_=new cO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),mo(t).start(),t.b_.A_()}function rv(t){return ns(t)&&!mo(t).$o()&&t.p_.size>0}function ns(t){return ge(t).y_.size===0}function ZT(t){t.D_=void 0}async function uN(t){t.p_.forEach((e,n)=>{tv(t,e)})}async function lN(t,e){ZT(t),rv(t)?(t.b_.m_(e),nv(t)):t.b_.set("Unknown")}async function cN(t,e,n){if(t.b_.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.p_.delete(a),i.D_.removeTarget(a))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ec(t,r)}else if(e instanceof Sl?t.D_.We(e):e instanceof VT?t.D_.Ze(e):t.D_.je(e),!n.isEqual(me.min()))try{const r=await KT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.D_.st(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.p_.get(l);c&&s.p_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.p_.get(u);if(!c)return;s.p_.set(u,c.withResumeToken($t.EMPTY_BYTE_STRING,c.snapshotVersion)),JT(s,u);const d=new Qr(c.target,u,l,c.sequenceNumber);tv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Ec(t,r)}}async function Ec(t,e,n){if(!mu(e))throw e;t.y_.add(1),await yu(t),t.b_.set("Offline"),n||(n=()=>KT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await Fd(t)})}function eI(t,e){return e().catch(n=>Ec(t,n,e))}async function Vd(t){const e=ge(t),n=fi(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;dN(e);)try{const i=await QO(e.localStore,r);if(i===null){e.g_.length===0&&n.zo();break}r=i.batchId,hN(e,i)}catch(i){await Ec(e,i)}tI(e)&&nI(e)}function dN(t){return ns(t)&&t.g_.length<10}function hN(t,e){t.g_.push(e);const n=fi(t);n.Uo()&&n.__&&n.a_(e.mutations)}function tI(t){return ns(t)&&!fi(t).$o()&&t.g_.length>0}function nI(t){fi(t).start()}async function fN(t){fi(t).l_()}async function pN(t){const e=fi(t);for(const n of t.g_)e.a_(n.mutations)}async function mN(t,e,n){const r=t.g_.shift(),i=Gg.from(r,e,n);await eI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vd(t)}async function gN(t,e){e&&fi(t).__&&await async function(r,i){if(function(o){return aO(o)&&o!==$.ABORTED}(i.code)){const s=r.g_.shift();fi(r).Go(),await eI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vd(r)}}(t,e),tI(t)&&nI(t)}async function r1(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=ns(n);n.y_.add(3),await yu(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await Fd(n)}async function vN(t,e){const n=ge(t);e?(n.y_.delete(2),await Fd(n)):e||(n.y_.add(2),await yu(n),n.b_.set("Unknown"))}function mo(t){return t.v_||(t.v_=function(n,r,i){const s=ge(n);return s.P_(),new rN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:uN.bind(null,t),uo:lN.bind(null,t),r_:cN.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),rv(t)?nv(t):t.b_.set("Unknown")):(await t.v_.stop(),ZT(t))})),t.v_}function fi(t){return t.C_||(t.C_=function(n,r,i){const s=ge(n);return s.P_(),new iN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:fN.bind(null,t),uo:gN.bind(null,t),c_:pN.bind(null,t),u_:mN.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await Vd(t)):(await t.C_.stop(),t.g_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new iv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),mu(t))return new ie($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Uo(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Ms(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ms;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.F_=new qe(ue.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):fe():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ys{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ys(e,n,Ms.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.x_=void 0,this.listeners=[]}}class wN{constructor(){this.queries=new po(e=>IT(e),kd),this.onlineState="Unknown",this.O_=new Set}}async function rI(t,e){const n=ge(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new yN),i)try{s.x_=await n.onListen(r)}catch(o){const a=sv(o,`Initialization of query '${Up(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.N_(n.onlineState),s.x_&&e.B_(s.x_)&&ov(n)}async function iI(t,e){const n=ge(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _N(t,e){const n=ge(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.B_(i)&&(r=!0);o.x_=i}}r&&ov(n)}function EN(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ov(t){t.O_.forEach(e=>{e.next()})}class sI{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.key=e}}class aI{constructor(e){this.key=e}}class SN{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=ye(),this.mutatedKeys=ye(),this.na=CT(e),this.ra=new Ms(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new i1,i=n?n.ra:this.ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),m=Dd(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?w!==y&&(r.track({type:3,doc:m}),S=!0):this._a(f,m)||(r.track({type:2,doc:m}),S=!0,(u&&this.na(m,u)>0||l&&this.na(m,l)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(u||l)&&(a=!0)),S&&(m?(o=o.add(m),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ra:o,oa:r,zi:a,mutatedKeys:s}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const s=e.oa.M_();s.sort((l,c)=>function(f,m){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return w(f)-w(m)}(l.type,c.type)||this.na(l.doc,c.doc)),this.aa(r);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,u=a!==this.ea;return this.ea=a,s.length!==0||u?{snapshot:new Ys(this.query,e.ra,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new i1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=ye(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new aI(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new oI(r))}),n}ha(e){this.X_=e.ss,this.ta=ye();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return Ys.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class TN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IN{constructor(e){this.key=e,this.Ia=!1}}class CN{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new po(a=>IT(a),kd),this.da=new Map,this.Aa=new Set,this.Ra=new qe(ue.comparator),this.Va=new Map,this.ma=new Jg,this.fa={},this.ga=new Map,this.pa=Xs.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function bN(t,e){const n=LN(t);let r,i;const s=n.Ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Pa();else{const o=await XO(n.localStore,Ar(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await RN(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&XT(n.remoteStore,o)}return i}async function RN(t,e,n,r,i){t.wa=(d,f,m)=>async function(y,S,p,g){let v=S.view.sa(p);v.zi&&(v=await e1(y.localStore,S.query,!1).then(({documents:b})=>S.view.sa(b,v)));const _=g&&g.targetChanges.get(S.targetId),x=S.view.applyChanges(v,y.isPrimaryClient,_);return o1(y,S.targetId,x.ca),x.snapshot}(t,d,f,m);const s=await e1(t.localStore,e,!0),o=new SN(e,s.ss),a=o.sa(s.documents),u=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);o1(t,n,l.ca);const c=new TN(e,n,o);return t.Ea.set(e,c),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),l.snapshot}async function AN(t,e){const n=ge(t),r=n.Ea.get(e),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(s=>!kd(s,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),YT(n.remoteStore,r.targetId),Wp(n,r.targetId)}).catch(pu)):(Wp(n,r.targetId),await Hp(n.localStore,r.targetId,!0))}async function xN(t,e,n){const r=FN(t);try{const i=await function(o,a){const u=ge(o),l=at.now(),c=a.reduce((m,w)=>m.add(w.key),ye());let d,f;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=xr(),y=ye();return u.Xi.getEntries(m,c).next(S=>{w=S,w.forEach((p,g)=>{g.isValidDocument()||(y=y.add(p))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,w)).next(S=>{d=S;const p=[];for(const g of a){const v=nO(g,d.get(g.key).overlayedDocument);v!=null&&p.push(new _i(g.key,v,vT(v.value.mapValue),Ln.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,p,a)}).next(S=>{f=S;const p=S.applyToLocalDocumentSet(d,y);return u.documentOverlayCache.saveOverlays(m,S.batchId,p)})}).then(()=>({batchId:f.batchId,changes:RT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.fa[o.currentUser.toKey()];l||(l=new qe(Re)),l=l.insert(a,u),o.fa[o.currentUser.toKey()]=l}(r,i.batchId,n),await wu(r,i.changes),await Vd(r.remoteStore)}catch(i){const s=sv(i,"Failed to persist write");n.reject(s)}}async function uI(t,e){const n=ge(t);try{const r=await KO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Va.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ia=!0:i.modifiedDocuments.size>0?Ue(o.Ia):i.removedDocuments.size>0&&(Ue(o.Ia),o.Ia=!1))}),await wu(n,r,e)}catch(r){await pu(r)}}function s1(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((s,o)=>{const a=o.view.N_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ge(o);u.onlineState=a;let l=!1;u.queries.forEach((c,d)=>{for(const f of d.listeners)f.N_(a)&&(l=!0)}),l&&ov(u)}(r.eventManager,e),i.length&&r.Ta.r_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PN(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Va.get(e),s=i&&i.key;if(s){let o=new qe(ue.comparator);o=o.insert(s,Ot.newNoDocument(s,me.min()));const a=ye().add(s),u=new Md(me.min(),new Map,new qe(Re),o,a);await uI(r,u),r.Ra=r.Ra.remove(s),r.Va.delete(e),av(r)}else await Hp(r.localStore,e,!1).then(()=>Wp(r,e,n)).catch(pu)}async function kN(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await qO(n.localStore,e);cI(n,r,null),lI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wu(n,i)}catch(i){await pu(i)}}async function DN(t,e,n){const r=ge(t);try{const i=await function(o,a){const u=ge(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(d=>(Ue(d!==null),c=d.keys(),u.mutationQueue.removeMutationBatch(l,d))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);cI(r,e,n),lI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wu(r,i)}catch(i){await pu(i)}}function lI(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function cI(t,e,n){const r=ge(t);let i=r.fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fa[r.currentUser.toKey()]=i}}function Wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||dI(t,r)})}function dI(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(YT(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),av(t))}function o1(t,e,n){for(const r of n)r instanceof oI?(t.ma.addReference(r.key,e),ON(t,r)):r instanceof aI?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||dI(t,r.key)):fe()}function ON(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.Aa.add(r),av(t))}function av(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new ue(Be.fromString(e)),r=t.pa.next();t.Va.set(r,new IN(n)),t.Ra=t.Ra.insert(n,r),XT(t.remoteStore,new Qr(Ar(qg(n.path)),r,"TargetPurposeLimboResolution",$g.ae))}}async function wu(t,e,n){const r=ge(t),i=[],s=[],o=[];r.Ea.isEmpty()||(r.Ea.forEach((a,u)=>{o.push(r.wa(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=ev.qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Ta.r_(i),await async function(u,l){const c=ge(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(l,f=>z.forEach(f.Li,m=>c.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>z.forEach(f.ki,m=>c.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!mu(d))throw d;ne("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const m=c.Ji.get(f),w=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(w);c.Ji=c.Ji.insert(f,y)}}}(r.localStore,s))}async function NN(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await qT(n.localStore,e);n.currentUser=e,function(s,o){s.ga.forEach(a=>{a.forEach(u=>{u.reject(new ie($.CANCELLED,o))})}),s.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(n,r.ts)}}function MN(t,e){const n=ge(t),r=n.Va.get(e);if(r&&r.Ia)return ye().add(r.key);{let i=ye();const s=n.da.get(e);if(!s)return i;for(const o of s){const a=n.Ea.get(o);i=i.unionWith(a.view.ia)}return i}}function LN(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PN.bind(null,e),e.Ta.r_=_N.bind(null,e.eventManager),e.Ta.Sa=EN.bind(null,e.eventManager),e}function FN(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DN.bind(null,e),e}class a1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return WO(this.persistence,new zO,e.initialUser,this.serializer)}createPersistence(e){return new jO(Zg.zr,this.serializer)}createSharedClientState(e){return new JO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class VN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await vN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wN}()}createDatastore(e){const n=Ld(e.databaseInfo.databaseId),r=function(s){return new nN(s)}(e.databaseInfo);return function(s,o,a,u){return new sN(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new aN(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>s1(this.syncEngine,n,0),function(){return n1.v()?new n1:new ZO}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,c){const d=new CN(i,s,o,a,u,l);return c&&(d.ya=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ge(n);ne("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await yu(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=pT.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function of(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jN(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>r1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>r1(e.remoteStore,s)),t._onlineComponents=e}function $N(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function jN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!$N(n))throw n;qs("Error using user provided cache. Falling back to memory cache: "+n),await of(t,new a1)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await of(t,new a1);return t._offlineComponents}async function fI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await u1(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await u1(t,new VN))),t._onlineComponents}function BN(t){return fI(t).then(e=>e.syncEngine)}async function pI(t){const e=await fI(t),n=e.eventManager;return n.onListen=bN.bind(null,e.syncEngine),n.onUnlisten=AN.bind(null,e.syncEngine),n}function zN(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new hI({next:f=>{o.enqueueAndForget(()=>iI(s,d));const m=f.docs.has(a);!m&&f.fromCache?l.reject(new ie($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&u&&u.source==="server"?l.reject(new ie($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new sI(qg(a.path),c,{includeMetadataChanges:!0,W_:!0});return rI(s,d)}(await pI(t),t.asyncQueue,e,n,r)),r.promise}function HN(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new hI({next:f=>{o.enqueueAndForget(()=>iI(s,d)),f.fromCache&&u.source==="server"?l.reject(new ie($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new sI(a,c,{includeMetadataChanges:!0,W_:!0});return rI(s,d)}(await pI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WN(t,e,n,r){if(e===!0&&r===!0)throw new ie($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c1(t){if(!ue.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function d1(t){if(ue.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uv(t);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dD;switch(r.type){case"firstParty":return new mD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l1.get(n);r&&(ne("ComponentProvider","Removing Datastore"),l1.delete(n),r.terminate())}(this),Promise.resolve()}}function qN(t,e,n,r={}){var i;const s=(t=ar(t,Ud))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=kt.MOCK_USER;else{a=PA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(l)}t._authCredentials=new hD(new fT(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $d(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class ai extends $d{constructor(e,n,r){super(e,n,qg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ue(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function Ur(t,e,...n){if(t=Ct(t),gI("collection","path",e),t instanceof Ud){const r=Be.fromString(e,...n);return d1(r),new ai(t,null,r)}{if(!(t instanceof on||t instanceof ai))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return d1(r),new ai(t.firestore,null,r)}}function Ht(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=pT.V()),gI("doc","path",e),t instanceof Ud){const r=Be.fromString(e,...n);return c1(r),new on(t,null,new ue(r))}{if(!(t instanceof on||t instanceof ai))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return c1(r),new on(t.firestore,t instanceof ai?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new GT(this,"async_queue_retry"),this.Xa=()=>{const n=sf();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=sf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new wr;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!mu(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=iv.createAndSchedule(this,e,n,r,s=>this.ru(s));return this.ja.push(i),i}eu(){this.Ha&&fe()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}class go extends Ud{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new KN}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vI(this),this._firestoreClient.terminate()}}function GN(t,e){const n=typeof t=="object"?t:xE(),r=typeof t=="string"?t:e||"(default)",i=ag(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=AA("firestore");s&&qN(i,...s)}return i}function lv(t){return t._firestoreClient||vI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vI(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,c){return new RD(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,mI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new UN(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js($t.fromBase64String(e))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class XN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class yI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class hv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.au(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.Pu(e),i}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return Sc(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(wI(this.uu)&&QN.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class YN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ld(e)}Ru(e,n,r,i=!1){return new hv({uu:e,methodName:n,Au:r,path:Nt.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _I(t){const e=t._freezeSettings(),n=Ld(t._databaseId);return new YN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JN(t,e,n,r,i,s={}){const o=t.Ru(s.merge||s.mergeFields?2:0,e,n,i);fv("Data must be an object, but it was:",o,r);const a=EI(r,o);let u,l;if(s.merge)u=new dn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=qp(e,d,n);if(!o.contains(f))throw new ie($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);TI(c,f)||c.push(f)}u=new dn(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new XN(new en(a),u,l)}class Bd extends cv{_toFieldTransform(e){if(e.uu!==2)throw e.uu===1?e.Eu(`${this._methodName}() can only appear at the top level of your update data`):e.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function ZN(t,e,n,r){const i=t.Ru(1,e,n);fv("Data must be an object, but it was:",i,r);const s=[],o=en.empty();ts(r,(u,l)=>{const c=pv(e,u,n);l=Ct(l);const d=i.Iu(c);if(l instanceof Bd)s.push(c);else{const f=zd(l,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new dn(s);return new yI(o,a,i.fieldTransforms)}function eM(t,e,n,r,i,s){const o=t.Ru(1,e,n),a=[qp(e,r,n)],u=[i];if(s.length%2!=0)throw new ie($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(qp(e,s[f])),u.push(s[f+1]);const l=[],c=en.empty();for(let f=a.length-1;f>=0;--f)if(!TI(l,a[f])){const m=a[f];let w=u[f];w=Ct(w);const y=o.Iu(m);if(w instanceof Bd)l.push(m);else{const S=zd(w,y);S!=null&&(l.push(m),c.set(m,S))}}const d=new dn(l);return new yI(c,d,o.fieldTransforms)}function zd(t,e){if(SI(t=Ct(t)))return fv("Unsupported field value:",e,t),EI(t,e);if(t instanceof cv)return function(r,i){if(!wI(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=zd(a,i.Tu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:_c(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_c(i.serializer,s)}}if(r instanceof dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Js)return{bytesValue:$T(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${uv(r)}`)}(t,e)}function EI(t,e){const n={};return mT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,(r,i)=>{const s=zd(i,e.lu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function SI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof dv||t instanceof Js||t instanceof on||t instanceof cv)}function fv(t,e,n){if(!SI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=uv(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function qp(t,e,n){if((e=Ct(e))instanceof jd)return e._internalPath;if(typeof e=="string")return pv(t,e);throw Sc("Field path arguments must be of type string or ",t,!1,void 0,n)}const tM=new RegExp("[~\\*/\\[\\]]");function pv(t,e,n){if(e.search(tM)>=0)throw Sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jd(...e.split("."))._internalPath}catch{throw Sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie($.INVALID_ARGUMENT,a+t+u)}function TI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(CI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nM extends II{data(){return super.data()}}function CI(t,e){return typeof e=="string"?pv(t,e):e instanceof jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iM{convertValue(e,n="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ts(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new dv(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(La(e));default:return null}}convertTimestamp(e){const n=hi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Ue(WT(r));const i=new Fa(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bI extends II{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(CI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tl extends bI{data(e={}){return super.data(e)}}class oM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tl(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Tl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Tl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:aM(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){t=ar(t,on);const e=ar(t.firestore,go);return zN(lv(e),t._key).then(n=>cM(e,t,n))}class AI extends iM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function Kp(t){t=ar(t,$d);const e=ar(t.firestore,go),n=lv(e),r=new AI(e);return rM(t._query),HN(n,t._query).then(i=>new oM(e,r,t,i))}function ia(t,e,n){t=ar(t,on);const r=ar(t.firestore,go),i=sM(t.converter,e,n);return mv(r,[JN(_I(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ln.none())])}function uM(t,e,n,...r){t=ar(t,on);const i=ar(t.firestore,go),s=_I(i);let o;return o=typeof(e=Ct(e))=="string"||e instanceof jd?eM(s,"updateDoc",t._key,e,n,r):ZN(s,"updateDoc",t._key,e),mv(i,[o.toMutation(t._key,Ln.exists(!0))])}function lM(t){return mv(ar(t.firestore,go),[new Kg(t._key,Ln.none())])}function mv(t,e){return function(r,i){const s=new wr;return r.asyncQueue.enqueueAndForget(async()=>xN(await BN(r),i,s)),s.promise}(lv(t),e)}function cM(t,e,n){const r=n.docs.get(e._key),i=new AI(t);return new bI(t,i,e._key,r,new jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){fo=i})(so),Hs(new zi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new go(new fD(r.getProvider("auth-internal")),new vD(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),oi(Oy,"4.1.0",e),oi(Oy,"4.1.0","esm2017")})();const dM={apiKey:"AIzaSyC0Ved-hKRSNyUHBXWrfepyjIxYuOZAbxU",authDomain:"terminium-world-final-ii.firebaseapp.com",projectId:"terminium-world-final-ii",storageBucket:"terminium-world-final-ii.appspot.com",messagingSenderId:"1070649964101",appId:"1:1070649964101:web:700571ac998fda82c7552c",measurementId:"G-PSD66BZMXE"},xI=AE(dM),yt=t4(xI),Sn=GN(xI);const hM=()=>{const[t,e]=C.useState(!0),[n,r]=C.useState(""),[i,s]=C.useState(""),[o,a]=C.useState(""),[u,l]=C.useState(null),c=rg(),d=async()=>{try{await UP(yt,n,i),c("/dashboard")}catch(m){l(m.message)}},f=async()=>{try{const w=(await VP(yt,n,i)).user.uid;await ia(Ht(Sn,"users",w),{email:n});const y=Ur(Ht(Sn,"users",w),"forms"),S={fields:["Sample Field"]};await ia(Ht(y),S),c("/dashboard")}catch(m){l(m.message)}};return I.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-200 to-pink-100",children:I.jsxs("div",{className:"p-8 bg-white shadow-md rounded-md w-96",children:[I.jsx("h2",{className:"text-2xl font-bold mb-5",children:t?"Login":"Sign Up"}),I.jsx("input",{className:"w-full p-2 mb-4 border rounded shadow-sm focus:outline-none focus:border-blue-400",value:n,onChange:m=>r(m.target.value),placeholder:"Email"}),I.jsx("input",{className:"w-full p-2 mb-4 border rounded shadow-sm focus:outline-none focus:border-blue-400",type:"password",value:i,onChange:m=>s(m.target.value),placeholder:"Password"}),t?I.jsx("button",{className:"w-full p-2 mb-4 bg-gradient-to-r from-blue-300 to-cyan-200 text-black font-bold rounded focus:outline-none hover:from-blue-400 hover:to-cyan-300 hover:text-white",onClick:d,children:"Login"}):I.jsxs("div",{children:[I.jsx("input",{className:"w-full p-2 mb-4 border rounded shadow-sm focus:outline-none focus:border-blue-400",type:"password",value:o,onChange:m=>a(m.target.value),placeholder:"Repeat Password"}),I.jsx("button",{className:"w-full p-2 mb-4 bg-gradient-to-r from-cyan-200 to-blue-200 text-black font-bold rounded focus:outline-none hover:from-cyan-300 hover:to-blue-300 hover:text-white",onClick:f,children:"Sign Up"})]}),I.jsx("button",{className:"w-full p-2 bg-gray-200 rounded hover:bg-gray-300 focus:outline-none",onClick:()=>e(!t),children:t?"I Don't Have an Account!":"I Already Have an Account!"}),u&&I.jsx("p",{className:"mt-4 text-red-500",children:u})]})})},PI=C.createContext();function fM({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(!0);return C.useEffect(()=>BP(yt,s=>{n(s),i(!1)}),[]),I.jsx(PI.Provider,{value:{user:e,loading:r},children:t})}function pM(){const t=C.useContext(PI);if(!t)throw new Error("useUser must be used within a UserProvider");return t}function f1({children:t}){const{user:e,loading:n}=pM();return n?null:e?t:I.jsx(gA,{to:"/login",replace:!0})}var kI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},p1=vr.createContext&&vr.createContext(kI),ui=globalThis&&globalThis.__assign||function(){return ui=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ui.apply(this,arguments)},mM=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function DI(t){return t&&t.map(function(e,n){return vr.createElement(e.tag,ui({key:n},e.attr),DI(e.child))})}function yn(t){return function(e){return vr.createElement(gM,ui({attr:ui({},t.attr)},e),DI(t.child))}}function gM(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=mM(t,["attr","size","title"]),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),vr.createElement("svg",ui({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:ui(ui({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&vr.createElement("title",null,s),t.children)};return p1!==void 0?vr.createElement(p1.Consumer,null,function(n){return e(n)}):e(kI)}function vM(t){return yn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}function yM(t){return yn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 128c-.6 0-1.1.2-1.6.2 1.1-5.2 1.6-10.6 1.6-16.2 0-44.2-35.8-80-80-80-24.6 0-46.3 11.3-61 28.8C256.4 24.8 219.3 0 176 0 114.1 0 64 50.1 64 112c0 7.3.8 14.3 2.1 21.2C27.8 145.8 0 181.5 0 224c0 53 43 96 96 96h320c53 0 96-43 96-96s-43-96-96-96zM88 374.2c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0zm160 0c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0zm160 0c-12.8 44.4-40 56.4-40 87.7 0 27.7 21.5 50.1 48 50.1s48-22.4 48-50.1c0-31.4-27.2-43.1-40-87.7-2.2-8.1-13.5-8.5-16 0z"}}]})(t)}function wM(t){return yn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function _M(t){return yn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(t)}function EM(t){return yn({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}}]})(t)}function SM(t){return yn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(t)}function TM(t){return yn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(t)}const gv=()=>{const[t,e]=C.useState(!1);return I.jsxs("div",{className:"bg-white p-4 shadow-md rounded-md relative mb-2",children:[I.jsx("div",{className:"flex justify-between items-center",children:I.jsx(vM,{className:"md:hidden cursor-pointer",onClick:()=>e(!t)})}),I.jsxs("ul",{className:`absolute left-0 right-0 mt-2 transform origin-top bg-white shadow-lg rounded-md transition-transform ease-out duration-300 overflow-hidden ${t?"scale-y-100":"scale-y-0"} md:scale-y-100 md:static md:transform-none md:bg-transparent md:shadow-none md:flex md:flex-row md:space-x-6`,children:[I.jsxs("li",{className:"flex items-center space-x-2 hover:text-blue-500 transition-colors duration-300 p-2 md:p-0",children:[I.jsx(TM,{}),I.jsx("a",{href:"/dashboard",children:"Dashboard"})]}),I.jsxs("li",{className:"flex items-center space-x-2 hover:text-blue-500 transition-colors duration-300 p-2 md:p-0",children:[I.jsx(wM,{}),I.jsx("a",{href:"/",children:"Home"})]}),I.jsxs("li",{className:"flex items-center space-x-2 hover:text-blue-500 transition-colors duration-300 p-2 md:p-0",children:[I.jsx(yM,{}),I.jsx("a",{href:"https://www.rainhackers.com",target:"_blank",rel:"noopener noreferrer",children:"Rainhackers"})]}),I.jsxs("li",{className:"flex items-center space-x-2 hover:text-blue-500 transition-colors duration-300 p-2 md:p-0",children:[I.jsx(_M,{}),I.jsx("a",{href:"/about",children:"About"})]})]})]})},IM=()=>I.jsxs("div",{children:[I.jsx(gv,{}),I.jsx("p",{children:"Home"})]});function OI(t){return yn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5.854 3.146a.5.5 0 1 0-.708.708L9.243 9.95H6.475a.5.5 0 1 0 0 1h3.975a.5.5 0 0 0 .5-.5V6.475a.5.5 0 1 0-1 0v2.768L5.854 5.146z"}}]})(t)}function NI(t){return yn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m.5 3 .04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2Zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672Z"}},{tag:"path",attr:{d:"M13.5 9a.5.5 0 0 1 .5.5V11h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V12h-1.5a.5.5 0 0 1 0-1H13V9.5a.5.5 0 0 1 .5-.5Z"}}]})(t)}function CM(t){return yn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"}}]})(t)}const bM="https://purplehunter.pythonanywhere.com",RM=`${bM}/ocr`,AM=({onTextChange:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(""),[s,o]=C.useState(0),[a,u]=C.useState("eng"),l=d=>{const f=d.target.files[0];if(!f)return;const m=new FileReader;m.onloadend=()=>{n(m.result)},m.readAsDataURL(f)},c=async()=>{if(event.preventDefault(),!e)return;o(20);const d={imageData:e.split(",")[1],languageHint:a};try{const m=await(await fetch(RM,{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json"},user:yt.currentUser.uid})).json();m!=null&&m.result?(i(m.result),t(m.result),o(100)):o(0)}catch{o(0)}};return I.jsxs("div",{className:"relative p-4 rounded shadow mb-4 border bg-white",children:[I.jsx("label",{className:"block text-gray-700 mb-2",children:"Upload an Image:"}),e&&I.jsx("div",{className:"mb-4",children:I.jsx("img",{src:e,alt:"Uploaded preview",className:"rounded max-w-[150px] md:max-w-[300px] mx-auto"})}),I.jsxs("div",{className:"flex justify-between items-center md:space-x-2 space-y-2 md:space-y-0",children:[I.jsx("input",{type:"file",onChange:l,className:"hidden",id:"imageUpload1"}),I.jsx("label",{htmlFor:"imageUpload1",className:"cursor-pointer",children:I.jsx(NI,{})}),I.jsx("button",{onClick:c,className:"btn-upload",children:I.jsx(OI,{})}),I.jsxs("select",{value:a,onChange:d=>u(d.target.value),className:"cursor-pointer bg-white border rounded p-1",children:[I.jsx("option",{value:"eng",children:"English"}),I.jsx("option",{value:"deu",children:"German"}),I.jsx("option",{value:"fra",children:"French"}),I.jsx("option",{value:"ita",children:"Italian"})]})]}),s>0&&s<100&&I.jsx("div",{className:"mt-4",children:I.jsx("div",{className:"h-2 mb-4 text-xs flex rounded bg-green-200",children:I.jsx("div",{style:{width:`${s}%`},className:"h-full rounded bg-green-500"})})}),I.jsx("div",{className:"mt-4",children:I.jsx("textarea",{value:r,onChange:d=>{i(d.target.value),t(d.target.value)},rows:"6",className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400 resize-none",placeholder:"Extracted text will appear here..."})})]})},ls="4.3.1";class xM{constructor(e,n){this.response=e,this.controller=n,this.decoder=new PM}async*iterMessages(){if(!this.response.body)throw this.controller.abort(),new Error("Attempted to iterate over a response with no body");const e=new Zs,n=DM(this.response.body);for await(const r of n)for(const i of e.decode(r)){const s=this.decoder.decode(i);s&&(yield s)}for(const r of e.flush()){const i=this.decoder.decode(r);i&&(yield i)}}async*[Symbol.asyncIterator](){let e=!1;try{for await(const n of this.iterMessages())if(!e){if(n.data.startsWith("[DONE]")){e=!0;continue}if(n.event===null)try{yield JSON.parse(n.data)}catch(r){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),r}}e=!0}catch(n){if(n instanceof Error&&n.name==="AbortError")return;throw n}finally{e||this.controller.abort()}}}class PM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=kM(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class Zs{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Zs.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(Zs.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){var n;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Error(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(n=this.textDecoder)!==null&&n!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Zs.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Zs.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function kM(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function DM(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Gt extends Error{constructor(e,n,r,i){super(Gt.makeMessage(n,r)),this.status=e,this.headers=i;const s=n;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n){return e!=null&&e.message?typeof e.message=="string"?e.message:JSON.stringify(e.message):e?JSON.stringify(e):n||"Unknown error occurred"}static generate(e,n,r,i){if(!e)return new Hd({cause:QI(n)});const s=n==null?void 0:n.error;return e===400?new LI(e,s,r,i):e===401?new FI(e,s,r,i):e===403?new VI(e,s,r,i):e===404?new UI(e,s,r,i):e===409?new $I(e,s,r,i):e===422?new jI(e,s,r,i):e===429?new BI(e,s,r,i):e>=500?new zI(e,s,r,i):new Gt(e,s,r,i)}}class Gp extends Gt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Hd extends Gt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class MI extends Hd{constructor(){super({message:"Request timed out."})}}class LI extends Gt{constructor(){super(...arguments),this.status=400}}class FI extends Gt{constructor(){super(...arguments),this.status=401}}class VI extends Gt{constructor(){super(...arguments),this.status=403}}class UI extends Gt{constructor(){super(...arguments),this.status=404}}class $I extends Gt{constructor(){super(...arguments),this.status=409}}class jI extends Gt{constructor(){super(...arguments),this.status=422}}class BI extends Gt{constructor(){super(...arguments),this.status=429}}class zI extends Gt{}const OM=t=>{},NM=fetch.bind(void 0),MM=!1,LM=FormData,m1=typeof File<"u"?File:class extends Blob{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is not defined")}};async function FM(t,e){return{...e,body:new qM(t)}}async function VM(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")}function UM(t){return!1}const HI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",$M=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&WI(t),WI=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",jM=t=>$M(t)||HI(t)||UM();async function qI(t,e,n={}){var r,i,s;if(t=await t,HI(t)){const a=await t.blob();return e||(e=(r=new URL(t.url).pathname.split(/[\\/]/).pop())!==null&&r!==void 0?r:"unknown_file"),new m1([a],e,n)}const o=await BM(t);if(e||(e=(i=HM(t))!==null&&i!==void 0?i:"unknown_file"),!n.type){const a=(s=o[0])===null||s===void 0?void 0:s.type;typeof a=="string"&&(n={...n,type:a})}return new m1(o,e,n)}async function BM(t){var e;let n=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)n.push(t);else if(WI(t))n.push(await t.arrayBuffer());else if(WM(t))for await(const r of t)n.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name}; props: ${zM(t)}`);return n}function zM(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function HM(t){var e;return af(t.name)||af(t.filename)||((e=af(t.path))===null||e===void 0?void 0:e.split(/[\\/]/).pop())}const af=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},WM=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";class qM{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const g1=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",ja=async t=>{const e=await KM(t.body);return FM(e,t)},KM=async t=>{const e=new LM;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Qp(e,n,r))),e},Qp=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(jM(n)){const r=await qI(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Qp(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Qp(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var GM=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},QM=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Yu;const XM=2;async function KI(t){const{response:e}=t;if(t.options.stream)return new xM(e,t.controller);const n=e.headers.get("content-type");if(n!=null&&n.includes("application/json")){const i=await e.json();return Tc("response",e.status,e.url,e.headers,i),i}const r=await e.text();return Tc("response",e.status,e.url,e.headers,r),r}class Wd extends Promise{constructor(e,n=KI){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Wd(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class YM{constructor({baseURL:e,maxRetries:n,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=uf("maxRetries",n??XM),this.timeout=uf("timeout",r),this.httpAgent=i,this.fetch=s??NM}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...rL(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${lL()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var n,r,i,s,o,a;const{method:u,path:l,query:c,headers:d={}}=e,f=g1(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,m=this.calculateContentLength(f),w=this.buildURL(l,c);"timeout"in e&&uf("timeout",e.timeout);const y=(n=e.timeout)!==null&&n!==void 0?n:this.timeout,S=(i=(r=e.httpAgent)!==null&&r!==void 0?r:this.httpAgent)!==null&&i!==void 0?i:OM(),p=y+1e3;typeof((s=S==null?void 0:S.options)===null||s===void 0?void 0:s.timeout)=="number"&&p>((o=S.options.timeout)!==null&&o!==void 0?o:0)&&(S.options.timeout=p),this.idempotencyHeader&&u!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=e.idempotencyKey);const g={...m&&{"Content-Length":m},...this.defaultHeaders(e),...d};g1(e.body)&&!MM&&delete g["Content-Type"],Object.keys(g).forEach(_=>g[_]===null&&delete g[_]);const v={method:u,...f&&{body:f},headers:g,...S&&{agent:S},signal:(a=e.signal)!==null&&a!==void 0?a:null};return this.validateHeaders(g,d),{req:v,url:w,timeout:y}}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Gt.generate(e,n,r,i)}request(e,n=null){return new Wd(this.makeRequest(e,n))}async makeRequest(e,n){var r,i,s;const o=await e;n==null&&(n=(r=o.maxRetries)!==null&&r!==void 0?r:this.maxRetries);const{req:a,url:u,timeout:l}=this.buildRequest(o);if(await this.prepareRequest(a,{url:u,options:o}),Tc("request",u,o,a.headers),!((i=o.signal)===null||i===void 0)&&i.aborted)throw new Gp;const c=new AbortController,d=await this.fetchWithTimeout(u,a,l,c).catch(QI);if(d instanceof Error){if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new Gp;if(n)return this.retryRequest(o,n);throw d.name==="AbortError"?new MI:new Hd({cause:d})}const f=ZM(d.headers);if(!d.ok){if(n&&this.shouldRetry(d))return this.retryRequest(o,n,f);const m=await d.text().catch(()=>"Unknown"),w=iL(m),y=w?void 0:m;throw Tc("response",d.status,u,f,y),this.makeStatusError(d.status,w,y,f)}return{response:d,options:o,controller:c}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new JM(this,r,e)}buildURL(e,n){const r=oL(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return XI(i)||(n={...i,...n}),n&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Error(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const a=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch(e,{signal:i.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){var i;n-=1;const s=parseInt((r==null?void 0:r["retry-after"])||""),o=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries,a=this.calculateRetryTimeoutSeconds(n,s,o)*1e3;return await aL(a),this.makeRequest(e,n)}calculateRetryTimeoutSeconds(e,n,r){if(Number.isInteger(n)&&n<=60)return n;const o=r-e,a=Math.min(.5*Math.pow(o-1,2),2),u=Math.random()-.5;return a+u}getUserAgent(){return`${this.constructor.name}/JS ${ls}`}}class GI{constructor(e,n,r,i){Yu.set(this,void 0),GM(this,Yu,e,"f"),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Error("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e)n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await QM(this,Yu,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Yu=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class JM extends Wd{constructor(e,n,r){super(n,async i=>new r(e,i.response,await KI(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const ZM=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),eL={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0},v1=t=>typeof t=="object"&&t!==null&&!XI(t)&&Object.keys(t).every(e=>uL(eL,e)),tL=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":w1(Deno.build.os),"X-Stainless-Arch":y1(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":w1(process.platform),"X-Stainless-Arch":y1(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=nL();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nL(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const y1=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",w1=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ju;const rL=()=>Ju??(Ju=tL()),iL=t=>{try{return JSON.parse(t)}catch{return}},sL=new RegExp("^(?:[a-z]+:)?//","i"),oL=t=>sL.test(t),aL=t=>new Promise(e=>setTimeout(e,t)),uf=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Error(`${t} must be an integer`);if(e<0)throw new Error(`${t} must be a positive integer`);return e},QI=t=>t instanceof Error?t:new Error(t),_1=t=>{var e,n,r,i;if(typeof process<"u")return(n=(e=process.env)===null||e===void 0?void 0:e[t])!==null&&n!==void 0?n:void 0;if(typeof Deno<"u")return(i=(r=Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t)};function XI(t){if(!t)return!0;for(const e in t)return!1;return!0}function uL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tc(t,...e){typeof process<"u"&&process.env.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const lL=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),cL=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class qd extends GI{constructor(e,n,r,i){super(e,n,r,i),this.object=r.object,this.data=r.data}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class vv extends GI{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data}getPaginatedItems(){return this.data}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var e,n;if(!(!((e=this.data)===null||e===void 0)&&e.length))return null;const r=(n=this.data[this.data.length-1])===null||n===void 0?void 0:n.id;return r?{params:{after:r}}:null}}class Yt{constructor(e){this.client=e,this.get=e.get.bind(e),this.post=e.post.bind(e),this.patch=e.patch.bind(e),this.put=e.put.bind(e),this.delete=e.delete.bind(e),this.getAPIList=e.getAPIList.bind(e)}}class Ic extends Yt{create(e,n){return this.post("/audio/transcriptions",ja({body:e,...n}))}}Ic||(Ic={});class Cc extends Yt{create(e,n){return this.post("/audio/translations",ja({body:e,...n}))}}Cc||(Cc={});class bc extends Yt{constructor(){super(...arguments),this.transcriptions=new Ic(this.client),this.translations=new Cc(this.client)}}(function(t){t.Transcriptions=Ic,t.Translations=Cc})(bc||(bc={}));let Rc=class extends Yt{create(e,n){var r;return this.post("/chat/completions",{body:e,...n,stream:(r=e.stream)!==null&&r!==void 0?r:!1})}};Rc||(Rc={});class Ac extends Yt{constructor(){super(...arguments),this.completions=new Rc(this.client)}}(function(t){t.Completions=Rc})(Ac||(Ac={}));class xc extends Yt{create(e,n){var r;return this.post("/completions",{body:e,...n,stream:(r=e.stream)!==null&&r!==void 0?r:!1})}}xc||(xc={});class Pc extends Yt{create(e,n){return this.post("/embeddings",{body:e,...n})}}Pc||(Pc={});class kc extends Yt{create(e,n){return this.post("/edits",{body:e,...n})}}kc||(kc={});class Dc extends Yt{create(e,n){return this.post("/files",ja({body:e,...n}))}retrieve(e,n){return this.get(`/files/${e}`,n)}list(e){return this.getAPIList("/files",YI,e)}del(e,n){return this.delete(`/files/${e}`,n)}retrieveContent(e,n){return this.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}}class YI extends qd{}Dc||(Dc={});class Oc extends Yt{create(e,n){return this.post("/fine-tunes",{body:e,...n})}retrieve(e,n){return this.get(`/fine-tunes/${e}`,n)}list(e){return this.getAPIList("/fine-tunes",JI,e)}cancel(e,n){return this.post(`/fine-tunes/${e}/cancel`,n)}listEvents(e,n,r){var i;return this.get(`/fine-tunes/${e}/events`,{query:n,timeout:864e5,...r,stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1})}}class JI extends qd{}Oc||(Oc={});class Nc extends Yt{create(e,n){return this.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return v1(e)?this.list({},e):this.getAPIList("/fine_tuning/jobs",ZI,{query:e,...n})}cancel(e,n){return this.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return v1(n)?this.listEvents(e,{},n):this.getAPIList(`/fine_tuning/jobs/${e}/events`,eC,{query:n,...r})}}class ZI extends vv{}class eC extends vv{}Nc||(Nc={});class Mc extends Yt{constructor(){super(...arguments),this.jobs=new Nc(this.client)}}(function(t){t.Jobs=Nc,t.FineTuningJobsPage=ZI,t.FineTuningJobEventsPage=eC})(Mc||(Mc={}));class Lc extends Yt{createVariation(e,n){return this.post("/images/variations",ja({body:e,...n}))}edit(e,n){return this.post("/images/edits",ja({body:e,...n}))}generate(e,n){return this.post("/images/generations",{body:e,...n})}}Lc||(Lc={});class Fc extends Yt{retrieve(e,n){return this.get(`/models/${e}`,n)}list(e){return this.getAPIList("/models",tC,e)}del(e,n){return this.delete(`/models/${e}`,n)}}class tC extends qd{}Fc||(Fc={});class Vc extends Yt{create(e,n){return this.post("/moderations",{body:e,...n})}}Vc||(Vc={});var nC;class jt extends YM{constructor(e){var n,r,{apiKey:i=_1("OPENAI_API_KEY"),organization:s=(n=_1("OPENAI_ORG_ID"))!==null&&n!==void 0?n:null,...o}=e===void 0?{}:e;if(i===void 0)throw new Error("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'my apiKey' }).");const a={apiKey:i,organization:s,baseURL:"https://api.openai.com/v1",...o};if(!a.dangerouslyAllowBrowser&&cL())throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:(r=a.timeout)!==null&&r!==void 0?r:6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new xc(this),this.chat=new Ac(this),this.edits=new kc(this),this.embeddings=new Pc(this),this.files=new Dc(this),this.images=new Lc(this),this.audio=new bc(this),this.moderations=new Vc(this),this.models=new Fc(this),this.fineTuning=new Mc(this),this.fineTunes=new Oc(this),this._options=a,this.apiKey=i,this.organization=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}nC=jt;jt.OpenAI=nC;jt.APIError=Gt;jt.APIConnectionError=Hd;jt.APIConnectionTimeoutError=MI;jt.APIUserAbortError=Gp;jt.NotFoundError=UI;jt.ConflictError=$I;jt.RateLimitError=BI;jt.BadRequestError=LI;jt.AuthenticationError=FI;jt.InternalServerError=zI;jt.PermissionDeniedError=VI;jt.UnprocessableEntityError=jI;(function(t){t.toFile=qI,t.fileFromPath=VM,t.Page=qd,t.CursorPage=vv,t.Completions=xc,t.Chat=Ac,t.Edits=kc,t.Embeddings=Pc,t.Files=Dc,t.FileObjectsPage=YI,t.Images=Lc,t.Audio=bc,t.Moderations=Vc,t.Models=Fc,t.ModelsPage=tC,t.FineTuning=Mc,t.FineTunes=Oc,t.FineTunesPage=JI})(jt||(jt={}));const dL="https://purplehunter.pythonanywhere.com/decrypt-bcr",hL=t=>{const[e,n]=C.useState(null),[r,i]=C.useState(""),[s,o]=C.useState(0),[a,u]=C.useState("eng"),l=d=>{const f=d.target.files[0];if(!f)return;const m=new FileReader;m.onloadend=()=>{n(m.result)},m.readAsDataURL(f)},c=async d=>{if(d.preventDefault(),!!e){o(20);try{const m=await(await fetch(dL,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({imageData:e.split(",")[1],languageHint:a,user:yt.currentUser.uid})})).json();m!=null&&m.result?(i(m.result),t.onDataExtracted&&t.onDataExtracted(m.result),o(100)):o(0)}catch(f){console.error("Error during OCR processing:",f),o(0)}}};return I.jsxs("div",{className:"relative p-4 rounded shadow mb-4 border bg-gray-100",children:[I.jsx("label",{className:"block text-gray-700 mb-2",children:"Upload an Image:"}),e&&I.jsx("div",{className:"mb-4",children:I.jsx("img",{src:e,alt:"Uploaded preview",className:"rounded max-w-[150px] md:max-w-[300px] mx-auto"})}),I.jsxs("div",{className:"flex justify-between items-center md:space-x-2 space-y-2 md:space-y-0",children:[I.jsx("input",{type:"file",onChange:l,className:"hidden",id:"imageUpload"}),I.jsx("label",{htmlFor:"imageUpload",className:"cursor-pointer",children:I.jsx(NI,{})}),I.jsx("button",{onClick:c,className:"btn-upload",children:I.jsx(OI,{})}),I.jsxs("select",{value:a,onChange:d=>u(d.target.value),className:"cursor-pointer bg-gray-100",children:[I.jsx("option",{value:"eng",children:"English"}),I.jsx("option",{value:"deu",children:"German"}),I.jsx("option",{value:"fra",children:"French"}),I.jsx("option",{value:"ita",children:"Italian"})]})]}),s>0&&s<100&&I.jsx("div",{className:"mt-4",children:I.jsx("div",{className:"h-2 mb-4 text-xs flex rounded bg-green-200",children:I.jsx("div",{style:{width:`${s}%`},className:"h-full bg-green-500"})})}),(r==null?void 0:r.data)&&Object.keys(r.data).map(d=>I.jsxs("div",{className:"mt-2",children:[I.jsx("label",{className:"block text-gray-700 mb-2 capitalize",children:d}),I.jsx("input",{className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",type:"text",value:r.data[d],onChange:f=>i(m=>({...m,data:{...m.data,[d]:f.target.value}}))})]},d))]})};function fL(t){return yn({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M22.401 4.818h-9.927L10.927 0H1.599C.72 0 .002.719.002 1.599v16.275c0 .878.72 1.597 1.597 1.597h10L13.072 24H22.4c.878 0 1.597-.707 1.597-1.572V6.39c0-.865-.72-1.572-1.597-1.572zm-15.66 8.68c-2.07 0-3.75-1.68-3.75-3.75 0-2.07 1.68-3.75 3.75-3.75 1.012 0 1.86.375 2.512.976l-.99.952a2.194 2.194 0 0 0-1.522-.584c-1.305 0-2.363 1.08-2.363 2.409S5.436 12.16 6.74 12.16c1.507 0 2.13-1.08 2.19-1.808l-2.188-.002V9.066h3.51c.05.23.09.457.09.764 0 2.147-1.434 3.669-3.602 3.669zm16.757 8.93c0 .59-.492 1.072-1.097 1.072h-8.875l3.649-4.03h.005l-.74-2.302.006-.005s.568-.488 1.277-1.24c.712.771 1.63 1.699 2.818 2.805l.771-.772c-1.272-1.154-2.204-2.07-2.89-2.805.919-1.087 1.852-2.455 2.049-3.707h2.034v.002h.002v-.94h-4.532v-1.52h-1.471v1.52H14.3l-1.672-5.21.006.022h9.767c.605 0 1.097.48 1.097 1.072v16.038zm-6.484-7.311c-.536.548-.943.873-.943.873l-.008.004-1.46-4.548h4.764c-.307 1.084-.988 2.108-1.651 2.904-1.176-1.392-1.18-1.844-1.18-1.844h-1.222s.05.678 1.7 2.61z"}}]})(t)}function pL(t){return yn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]})(t)}var rC={exports:{}};(function(t){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function e(E,h){if(!E)throw"First parameter is required.";h=h||{type:"video"},h=new n(E,h);var T=this;function k(D){return h.disableLogs||console.log("RecordRTC version: ",T.version),D&&(h=new n(E,D)),h.disableLogs||console.log("started recording "+h.type+" stream."),F?(F.clearRecordedData(),F.record(),Y("recording"),T.recordingDuration&&H(),T):(O(function(){T.recordingDuration&&H()}),T)}function O(D){D&&(h.initCallback=function(){D(),D=h.initCallback=null});var G=new r(E,h);F=new G(E,h),F.record(),Y("recording"),h.disableLogs||console.log("Initialized recorderType:",F.constructor.name,"for output-type:",h.type)}function M(D){if(D=D||function(){},!F){L();return}if(T.state==="paused"){T.resumeRecording(),setTimeout(function(){M(D)},1);return}T.state!=="recording"&&!h.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',T.state),h.disableLogs||console.log("Stopped recording "+h.type+" stream."),h.type!=="gif"?F.stop(G):(F.stop(),G()),Y("stopped");function G(oe){if(!F){typeof D.call=="function"?D.call(T,""):D("");return}Object.keys(F).forEach(function(te){typeof F[te]!="function"&&(T[te]=F[te])});var P=F.blob;if(!P)if(oe)F.blob=P=oe;else throw"Recording failed.";if(P&&!h.disableLogs&&console.log(P.type,"->",p(P.size)),D){var j;try{j=c.createObjectURL(P)}catch{}typeof D.call=="function"?D.call(T,j):D(j)}h.autoWriteToDisk&&X(function(te){var se={};se[h.type+"Blob"]=te,_e.Store(se)})}}function V(){if(!F){L();return}if(T.state!=="recording"){h.disableLogs||console.warn("Unable to pause the recording. Recording state: ",T.state);return}Y("paused"),F.pause(),h.disableLogs||console.log("Paused recording.")}function R(){if(!F){L();return}if(T.state!=="paused"){h.disableLogs||console.warn("Unable to resume the recording. Recording state: ",T.state);return}Y("recording"),F.resume(),h.disableLogs||console.log("Resumed recording.")}function W(D){postMessage(new FileReaderSync().readAsDataURL(D))}function X(D,G){if(!D)throw"Pass a callback function over getDataURL.";var oe=G?G.blob:(F||{}).blob;if(!oe){h.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){X(D,G)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var P=te(W);P.onmessage=function(se){D(se.data)},P.postMessage(oe)}else{var j=new FileReader;j.readAsDataURL(oe),j.onload=function(se){D(se.target.result)}}function te(se){try{var Se=c.createObjectURL(new Blob([se.toString(),"this.onmessage =  function (eee) {"+se.name+"(eee.data);}"],{type:"application/javascript"})),ve=new Worker(Se);return c.revokeObjectURL(Se),ve}catch{}}}function H(D){if(D=D||0,T.state==="paused"){setTimeout(function(){H(D)},1e3);return}if(T.state!=="stopped"){if(D>=T.recordingDuration){M(T.onRecordingStopped);return}D+=1e3,setTimeout(function(){H(D)},1e3)}}function Y(D){T&&(T.state=D,typeof T.onStateChanged.call=="function"?T.onStateChanged.call(T,D):T.onStateChanged(D))}var A='It seems that recorder is destroyed or "startRecording" is not invoked for '+h.type+" recorder.";function L(){h.disableLogs!==!0&&console.warn(A)}var F,K={startRecording:k,stopRecording:M,pauseRecording:V,resumeRecording:R,initRecorder:O,setRecordingDuration:function(D,G){if(typeof D>"u")throw"recordingDuration is required.";if(typeof D!="number")throw"recordingDuration must be a number.";return T.recordingDuration=D,T.onRecordingStopped=G||function(){},{onRecordingStopped:function(oe){T.onRecordingStopped=oe}}},clearRecordedData:function(){if(!F){L();return}F.clearRecordedData(),h.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!F){L();return}return F.blob},getDataURL:X,toURL:function(){if(!F){L();return}return c.createObjectURL(F.blob)},getInternalRecorder:function(){return F},save:function(D){if(!F){L();return}g(F.blob,D)},getFromDisk:function(D){if(!F){L();return}e.getFromDisk(h.type,D)},setAdvertisementArray:function(D){h.advertisement=[];for(var G=D.length,oe=0;oe<G;oe++)h.advertisement.push({duration:oe,image:D[oe]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){T.state==="recording"&&!h.disableLogs&&console.warn("Stop an active recorder."),F&&typeof F.clearRecordedData=="function"&&F.clearRecordedData(),F=null,Y("inactive"),T.blob=null},onStateChanged:function(D){h.disableLogs||console.log("Recorder state changed:",D)},state:"inactive",getState:function(){return T.state},destroy:function(){var D=h.disableLogs;h={disableLogs:!0},T.reset(),Y("destroyed"),K=T=null,N.AudioContextConstructor&&(N.AudioContextConstructor.close(),N.AudioContextConstructor=null),h.disableLogs=D,h.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return T=K,K;for(var de in K)this[de]=K[de];return T=this,K}e.version="5.6.2",t.exports=e,e.getFromDisk=function(E,h){if(!h)throw"callback is mandatory.";console.log("Getting recorded "+(E==="all"?"blobs":E+" blob ")+" from disk!"),_e.Fetch(function(T,k){E!=="all"&&k===E+"Blob"&&h&&h(T),E==="all"&&h&&h(T,k.replace("Blob",""))})},e.writeToDisk=function(E){console.log("Writing recorded blob(s) to disk!"),E=E||{},E.audio&&E.video&&E.gif?E.audio.getDataURL(function(h){E.video.getDataURL(function(T){E.gif.getDataURL(function(k){_e.Store({audioBlob:h,videoBlob:T,gifBlob:k})})})}):E.audio&&E.video?E.audio.getDataURL(function(h){E.video.getDataURL(function(T){_e.Store({audioBlob:h,videoBlob:T})})}):E.audio&&E.gif?E.audio.getDataURL(function(h){E.gif.getDataURL(function(T){_e.Store({audioBlob:h,gifBlob:T})})}):E.video&&E.gif?E.video.getDataURL(function(h){E.gif.getDataURL(function(T){_e.Store({videoBlob:h,gifBlob:T})})}):E.audio?E.audio.getDataURL(function(h){_e.Store({audioBlob:h})}):E.video?E.video.getDataURL(function(h){_e.Store({videoBlob:h})}):E.gif&&E.gif.getDataURL(function(h){_e.Store({gifBlob:h})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function n(E,h){return!h.recorderType&&!h.type&&(h.audio&&h.video?h.type="video":h.audio&&!h.video&&(h.type="audio")),h.recorderType&&!h.type&&(h.recorderType===De||h.recorderType===Ae||typeof re<"u"&&h.recorderType===re?h.type="video":h.recorderType===Oe?h.type="gif":h.recorderType===ee?h.type="audio":h.recorderType===Z&&(_(E,"audio").length&&_(E,"video").length||!_(E,"audio").length&&_(E,"video").length?h.type="video":_(E,"audio").length&&!_(E,"video").length&&(h.type="audio"))),typeof Z<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(h.mimeType||(h.mimeType="video/webm"),h.type||(h.type=h.mimeType.split("/")[0]),h.bitsPerSecond),h.type||(h.mimeType&&(h.type=h.mimeType.split("/")[0]),h.type||(h.type="audio")),h}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function r(E,h){var T;return(w||d||f)&&(T=ee),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!w&&(T=Z),h.type==="video"&&(w||f)&&(T=De,typeof re<"u"&&typeof ReadableStream<"u"&&(T=re)),h.type==="gif"&&(T=Oe),h.type==="canvas"&&(T=Ae),U()&&T!==Ae&&T!==Oe&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(_(E,"video").length||_(E,"audio").length)&&(h.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(T=Z):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(T=Z)),E instanceof Array&&E.length&&(T=rt),h.recorderType&&(T=h.recorderType),!h.disableLogs&&T&&T.name&&console.log("Using recorderType:",T.name||T.constructor.name),!T&&y&&(T=Z),T}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function i(E){this.addStream=function(h){h&&(E=h)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var h=this.mediaType,T,k=this.mimeType||{audio:null,video:null,gif:null};if(typeof h.audio!="function"&&U()&&!_(E,"audio").length&&(h.audio=!1),typeof h.video!="function"&&U()&&!_(E,"video").length&&(h.video=!1),typeof h.gif!="function"&&U()&&!_(E,"video").length&&(h.gif=!1),!h.audio&&!h.video&&!h.gif)throw"MediaStream must have either audio or video tracks.";if(h.audio&&(T=null,typeof h.audio=="function"&&(T=h.audio),this.audioRecorder=new e(E,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:T,mimeType:k.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),h.video||this.audioRecorder.startRecording()),h.video){T=null,typeof h.video=="function"&&(T=h.video);var O=E;if(U()&&h.audio&&typeof h.audio=="function"){var M=_(E,"video")[0];m?(O=new S,O.addTrack(M),T&&T===De&&(T=Z)):(O=new S,O.addTrack(M))}this.videoRecorder=new e(O,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:T,mimeType:k.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),h.audio||this.videoRecorder.startRecording()}if(h.audio&&h.video){var V=this,R=U()===!0;(h.audio instanceof ee&&h.video||h.audio!==!0&&h.video!==!0&&h.audio!==h.video)&&(R=!1),R===!0?(V.audioRecorder=null,V.videoRecorder.startRecording()):V.videoRecorder.initRecorder(function(){V.audioRecorder.initRecorder(function(){V.videoRecorder.startRecording(),V.audioRecorder.startRecording()})})}h.gif&&(T=null,typeof h.gif=="function"&&(T=h.gif),this.gifRecorder=new e(E,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:T,mimeType:k.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(h){h=h||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(T){h(T,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(T){h(T,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(T){h(T,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(h){var T={};return this.audioRecorder&&(T.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(T.video=this.videoRecorder.getBlob()),this.gifRecorder&&(T.gif=this.gifRecorder.getBlob()),h&&h(T),T},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(h){this.getBlob(function(O){O.audio&&O.video?T(O.audio,function(M){T(O.video,function(V){h({audio:M,video:V})})}):O.audio?T(O.audio,function(M){h({audio:M})}):O.video&&T(O.video,function(M){h({video:M})})});function T(O,M){if(typeof Worker<"u"){var V=k(function(X){postMessage(new FileReaderSync().readAsDataURL(X))});V.onmessage=function(W){M(W.data)},V.postMessage(O)}else{var R=new FileReader;R.readAsDataURL(O),R.onload=function(W){M(W.target.result)}}}function k(O){var M=c.createObjectURL(new Blob([O.toString(),"this.onmessage =  function (eee) {"+O.name+"(eee.data);}"],{type:"application/javascript"})),V=new Worker(M),R;if(typeof c<"u")R=c;else if(typeof webkitURL<"u")R=webkitURL;else throw"Neither URL nor webkitURL detected.";return R.revokeObjectURL(M),V}},this.writeToDisk=function(){e.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(h){h=h||{audio:!0,video:!0,gif:!0},h.audio&&this.audioRecorder&&this.audioRecorder.save(typeof h.audio=="string"?h.audio:""),h.video&&this.videoRecorder&&this.videoRecorder.save(typeof h.video=="string"?h.video:""),h.gif&&this.gifRecorder&&this.gifRecorder.save(typeof h.gif=="string"?h.gif:"")}}i.getFromDisk=e.getFromDisk,i.writeToDisk=e.writeToDisk,typeof e<"u"&&(e.MRecordRTC=i);var s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(E){E&&(typeof window<"u"||typeof $e>"u"||($e.navigator={userAgent:s,getUserMedia:function(){}},$e.console||($e.console={}),(typeof $e.console.log>"u"||typeof $e.console.error>"u")&&($e.console.error=$e.console.log=$e.console.log||function(){console.log(arguments)}),typeof document>"u"&&(E.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var h={getContext:function(){return h},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return h},E.HTMLVideoElement=function(){}),typeof location>"u"&&(E.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(E.screen={width:0,height:0}),typeof c>"u"&&(E.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),E.window=$e))})(typeof $e<"u"?$e:null);var o=window.requestAnimationFrame;if(typeof o>"u"){if(typeof webkitRequestAnimationFrame<"u")o=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")o=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")o=msRequestAnimationFrame;else if(typeof o>"u"){var a=0;o=function(E,h){var T=new Date().getTime(),k=Math.max(0,16-(T-a)),O=setTimeout(function(){E(T+k)},k);return a=T+k,O}}}var u=window.cancelAnimationFrame;typeof u>"u"&&(typeof webkitCancelAnimationFrame<"u"?u=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?u=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?u=msCancelAnimationFrame:typeof u>"u"&&(u=function(E){clearTimeout(E)}));var l=window.AudioContext;typeof l>"u"&&(typeof webkitAudioContext<"u"&&(l=webkitAudioContext),typeof mozAudioContext<"u"&&(l=mozAudioContext));var c=window.URL;typeof c>"u"&&typeof webkitURL<"u"&&(c=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var d=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),f=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),w=!f&&!d&&!!navigator.webkitGetUserMedia||v()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);y&&!w&&navigator.userAgent.indexOf("CriOS")!==-1&&(y=!1,w=!0);var S=window.MediaStream;typeof S>"u"&&typeof webkitMediaStream<"u"&&(S=webkitMediaStream),typeof S<"u"&&typeof S.prototype.stop>"u"&&(S.prototype.stop=function(){this.getTracks().forEach(function(E){E.stop()})});function p(E){var h=1e3,T=["Bytes","KB","MB","GB","TB"];if(E===0)return"0 Bytes";var k=parseInt(Math.floor(Math.log(E)/Math.log(h)),10);return(E/Math.pow(h,k)).toPrecision(3)+" "+T[k]}function g(E,h){if(!E)throw"Blob object is required.";if(!E.type)try{E.type="video/webm"}catch{}var T=(E.type||"video/webm").split("/")[1];if(T.indexOf(";")!==-1&&(T=T.split(";")[0]),h&&h.indexOf(".")!==-1){var k=h.split(".");h=k[0],T=k[1]}var O=(h||Math.round(Math.random()*9999999999)+888888888)+"."+T;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(E,O);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(E,O);var M=document.createElement("a");M.href=c.createObjectURL(E),M.download=O,M.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(M),typeof M.click=="function"?M.click():(M.target="_blank",M.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),c.revokeObjectURL(M.href)}function v(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function _(E,h){return!E||!E.getTracks?[]:E.getTracks().filter(function(T){return T.kind===(h||"audio")})}function x(E,h){"srcObject"in h?h.srcObject=E:"mozSrcObject"in h?h.mozSrcObject=E:h.srcObject=E}function b(E,h){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var T=new EBML.Reader,k=new EBML.Decoder,O=EBML.tools,M=new FileReader;M.onload=function(V){var R=k.decode(this.result);R.forEach(function(Y){T.read(Y)}),T.stop();var W=O.makeMetadataSeekable(T.metadatas,T.duration,T.cues),X=this.result.slice(T.metadataSize),H=new Blob([W,X],{type:"video/webm"});h(H)},M.readAsArrayBuffer(E)}typeof e<"u"&&(e.invokeSaveAsDialog=g,e.getTracks=_,e.getSeekableBlob=b,e.bytesToSize=p,e.isElectron=v);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var N={};typeof l<"u"?N.AudioContext=l:typeof webkitAudioContext<"u"&&(N.AudioContext=webkitAudioContext),typeof e<"u"&&(e.Storage=N);function U(){if(m||y||d)return!0;var E=navigator.userAgent,h=""+parseFloat(navigator.appVersion),T=parseInt(navigator.appVersion,10),k,O;return(w||f)&&(k=E.indexOf("Chrome"),h=E.substring(k+7)),(O=h.indexOf(";"))!==-1&&(h=h.substring(0,O)),(O=h.indexOf(" "))!==-1&&(h=h.substring(0,O)),T=parseInt(""+h,10),isNaN(T)&&(h=""+parseFloat(navigator.appVersion),T=parseInt(navigator.appVersion,10)),T>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function Z(E,h){var H=this;if(typeof E>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(h=h||{mimeType:"video/webm"},h.type==="audio"){if(_(E,"video").length&&_(E,"audio").length){var T;navigator.mozGetUserMedia?(T=new S,T.addTrack(_(E,"audio")[0])):T=new S(_(E,"audio")),E=T}(!h.mimeType||h.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(h.mimeType=w?"audio/webm":"audio/ogg"),h.mimeType&&h.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(h.mimeType="audio/ogg")}var k=[];this.getArrayOfBlobs=function(){return k},this.record=function(){H.blob=null,H.clearRecordedData(),H.timestamps=[],X=[],k=[];var Y=h;h.disableLogs||console.log("Passing following config over MediaRecorder API.",Y),R&&(R=null),w&&!U()&&(Y="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&Y.mimeType&&(MediaRecorder.isTypeSupported(Y.mimeType)||(h.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Y.mimeType),Y.mimeType=h.type==="audio"?"audio/webm":"video/webm"));try{R=new MediaRecorder(E,Y),h.mimeType=Y.mimeType}catch{R=new MediaRecorder(E)}Y.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in R&&R.canRecordMimeType(Y.mimeType)===!1&&(h.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Y.mimeType)),R.ondataavailable=function(A){if(A.data&&X.push("ondataavailable: "+p(A.data.size)),typeof h.timeSlice=="number"){if(A.data&&A.data.size&&(k.push(A.data),O(),typeof h.ondataavailable=="function")){var L=h.getNativeBlob?A.data:new Blob([A.data],{type:M(Y)});h.ondataavailable(L)}return}if(!A.data||!A.data.size||A.data.size<100||H.blob){H.recordingCallback&&(H.recordingCallback(new Blob([],{type:M(Y)})),H.recordingCallback=null);return}H.blob=h.getNativeBlob?A.data:new Blob([A.data],{type:M(Y)}),H.recordingCallback&&(H.recordingCallback(H.blob),H.recordingCallback=null)},R.onstart=function(){X.push("started")},R.onpause=function(){X.push("paused")},R.onresume=function(){X.push("resumed")},R.onstop=function(){X.push("stopped")},R.onerror=function(A){A&&(A.name||(A.name="UnknownError"),X.push("error: "+A),h.disableLogs||(A.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",A):A.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",Y.mimeType,") is not supported.",A):A.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",A):A.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",A):A.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",A):A.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",A):A.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",A):console.error("MediaRecorder Error",A)),function(L){if(!H.manuallyStopped&&R&&R.state==="inactive"){delete h.timeslice,R.start(10*60*1e3);return}setTimeout(L,1e3)}(),R.state!=="inactive"&&R.state!=="stopped"&&R.stop())},typeof h.timeSlice=="number"?(O(),R.start(h.timeSlice)):R.start(36e5),h.initCallback&&h.initCallback()},this.timestamps=[];function O(){H.timestamps.push(new Date().getTime()),typeof h.onTimeStamp=="function"&&h.onTimeStamp(H.timestamps[H.timestamps.length-1],H.timestamps)}function M(Y){return R&&R.mimeType?R.mimeType:Y.mimeType||"video/webm"}this.stop=function(Y){Y=Y||function(){},H.manuallyStopped=!0,R&&(this.recordingCallback=Y,R.state==="recording"&&R.stop(),typeof h.timeSlice=="number"&&setTimeout(function(){H.blob=new Blob(k,{type:M(h)}),H.recordingCallback(H.blob)},100))},this.pause=function(){R&&R.state==="recording"&&R.pause()},this.resume=function(){R&&R.state==="paused"&&R.resume()},this.clearRecordedData=function(){R&&R.state==="recording"&&H.stop(V),V()};function V(){k=[],R=null,H.timestamps=[]}var R;this.getInternalRecorder=function(){return R};function W(){if("active"in E){if(!E.active)return!1}else if("ended"in E&&E.ended)return!1;return!0}this.blob=null,this.getState=function(){return R&&R.state||"inactive"};var X=[];this.getAllStates=function(){return X},typeof h.checkForInactiveTracks>"u"&&(h.checkForInactiveTracks=!1);var H=this;(function Y(){if(!(!R||h.checkForInactiveTracks===!1)){if(W()===!1){h.disableLogs||console.log("MediaStream seems stopped."),H.stop();return}setTimeout(Y,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MediaStreamRecorder=Z);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function ee(E,h){if(!_(E,"audio").length)throw"Your stream has no audio tracks.";h=h||{};var T=this,k=[],O=[],M=!1,V=0,R,W=2,X=h.desiredSampRate;h.leftChannel===!0&&(W=1),h.numberOfAudioChannels===1&&(W=1),(!W||W<1)&&(W=2),h.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+W),typeof h.checkForInactiveTracks>"u"&&(h.checkForInactiveTracks=!0);function H(){if(h.checkForInactiveTracks===!1)return!0;if("active"in E){if(!E.active)return!1}else if("ended"in E&&E.ended)return!1;return!0}this.record=function(){if(H()===!1)throw"Please make sure MediaStream is active.";oe(),j=G=!1,M=!0,typeof h.timeSlice<"u"&&Se()};function Y(ve,Bt){function ut(lt,rs){var jn=lt.numberOfAudioChannels,Jt=lt.leftBuffers.slice(0),Nr=lt.rightBuffers.slice(0),Bn=lt.sampleRate,ur=lt.internalInterleavedLength,un=lt.desiredSampRate;jn===2&&(Jt=uh(Jt,ur),Nr=uh(Nr,ur),un&&(Jt=Ei(Jt,un,Bn),Nr=Ei(Nr,un,Bn))),jn===1&&(Jt=uh(Jt,ur),un&&(Jt=Ei(Jt,un,Bn))),un&&(Bn=un);function Ei(ct,zn,_n){var En=Math.round(ct.length*(zn/_n)),zt=[],lr=Number((ct.length-1)/(En-1));zt[0]=ct[0];for(var Si=1;Si<En-1;Si++){var dh=Si*lr,kv=Number(Math.floor(dh)).toFixed(),rb=Number(Math.ceil(dh)).toFixed(),ib=dh-kv;zt[Si]=ah(ct[kv],ct[rb],ib)}return zt[En-1]=ct[ct.length-1],zt}function ah(ct,zn,_n){return ct+(zn-ct)*_n}function uh(ct,zn){for(var _n=new Float64Array(zn),En=0,zt=ct.length,lr=0;lr<zt;lr++){var Si=ct[lr];_n.set(Si,En),En+=Si.length}return _n}function ZC(ct,zn){for(var _n=ct.length+zn.length,En=new Float64Array(_n),zt=0,lr=0;lr<_n;)En[lr++]=ct[zt],En[lr++]=zn[zt],zt++;return En}function Eu(ct,zn,_n){for(var En=_n.length,zt=0;zt<En;zt++)ct.setUint8(zn+zt,_n.charCodeAt(zt))}var Su;jn===2&&(Su=ZC(Jt,Nr)),jn===1&&(Su=Jt);var Tu=Su.length,eb=44+Tu*2,lh=new ArrayBuffer(eb),bt=new DataView(lh);Eu(bt,0,"RIFF"),bt.setUint32(4,36+Tu*2,!0),Eu(bt,8,"WAVE"),Eu(bt,12,"fmt "),bt.setUint32(16,16,!0),bt.setUint16(20,1,!0),bt.setUint16(22,jn,!0),bt.setUint32(24,Bn,!0),bt.setUint32(28,Bn*jn*2,!0),bt.setUint16(32,jn*2,!0),bt.setUint16(34,16,!0),Eu(bt,36,"data"),bt.setUint32(40,Tu*2,!0);for(var tb=Tu,Pv=44,nb=1,ch=0;ch<tb;ch++)bt.setInt16(Pv,Su[ch]*(32767*nb),!0),Pv+=2;if(rs)return rs({buffer:lh,view:bt});postMessage({buffer:lh,view:bt})}if(ve.noWorker){ut(ve,function(lt){Bt(lt.buffer,lt.view)});return}var Or=A(ut);Or.onmessage=function(lt){Bt(lt.data.buffer,lt.data.view),c.revokeObjectURL(Or.workerURL),Or.terminate()},Or.postMessage(ve)}function A(ve){var Bt=c.createObjectURL(new Blob([ve.toString(),";this.onmessage =  function (eee) {"+ve.name+"(eee.data);}"],{type:"application/javascript"})),ut=new Worker(Bt);return ut.workerURL=Bt,ut}this.stop=function(ve){ve=ve||function(){},M=!1,Y({desiredSampRate:X,sampleRate:D,numberOfAudioChannels:W,internalInterleavedLength:V,leftBuffers:k,rightBuffers:W===1?[]:O,noWorker:h.noWorker},function(Bt,ut){T.blob=new Blob([ut],{type:"audio/wav"}),T.buffer=new ArrayBuffer(ut.buffer.byteLength),T.view=ut,T.sampleRate=X||D,T.bufferSize=de,T.length=V,j=!1,ve&&ve(T.blob)})},typeof e.Storage>"u"&&(e.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!e.Storage.AudioContextConstructor||e.Storage.AudioContextConstructor.state==="closed")&&(e.Storage.AudioContextConstructor=new e.Storage.AudioContext);var L=e.Storage.AudioContextConstructor,F=L.createMediaStreamSource(E),K=[0,256,512,1024,2048,4096,8192,16384],de=typeof h.bufferSize>"u"?4096:h.bufferSize;if(K.indexOf(de)===-1&&(h.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(K,null,"	"))),L.createJavaScriptNode)R=L.createJavaScriptNode(de,W,W);else if(L.createScriptProcessor)R=L.createScriptProcessor(de,W,W);else throw"WebAudio API has no support on this browser.";F.connect(R),h.bufferSize||(de=R.bufferSize);var D=typeof h.sampleRate<"u"?h.sampleRate:L.sampleRate||44100;(D<22050||D>96e3)&&(h.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),h.disableLogs||h.desiredSampRate&&console.log("Desired sample-rate: "+h.desiredSampRate);var G=!1;this.pause=function(){G=!0},this.resume=function(){if(H()===!1)throw"Please make sure MediaStream is active.";if(!M){h.disableLogs||console.log("Seems recording has been restarted."),this.record();return}G=!1},this.clearRecordedData=function(){h.checkForInactiveTracks=!1,M&&this.stop(P),P()};function oe(){k=[],O=[],V=0,j=!1,M=!1,G=!1,L=null,T.leftchannel=k,T.rightchannel=O,T.numberOfAudioChannels=W,T.desiredSampRate=X,T.sampleRate=D,T.recordingLength=V,se={left:[],right:[],recordingLength:0}}function P(){R&&(R.onaudioprocess=null,R.disconnect(),R=null),F&&(F.disconnect(),F=null),oe()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var j=!1;function te(ve){if(!G){if(H()===!1&&(h.disableLogs||console.log("MediaStream seems stopped."),R.disconnect(),M=!1),!M){F&&(F.disconnect(),F=null);return}j||(j=!0,h.onAudioProcessStarted&&h.onAudioProcessStarted(),h.initCallback&&h.initCallback());var Bt=ve.inputBuffer.getChannelData(0),ut=new Float32Array(Bt);if(k.push(ut),W===2){var Or=ve.inputBuffer.getChannelData(1),lt=new Float32Array(Or);O.push(lt)}V+=de,T.recordingLength=V,typeof h.timeSlice<"u"&&(se.recordingLength+=de,se.left.push(ut),W===2&&se.right.push(lt))}}R.onaudioprocess=te,L.createMediaStreamDestination?R.connect(L.createMediaStreamDestination()):R.connect(L.destination),this.leftchannel=k,this.rightchannel=O,this.numberOfAudioChannels=W,this.desiredSampRate=X,this.sampleRate=D,T.recordingLength=V;var se={left:[],right:[],recordingLength:0};function Se(){!M||typeof h.ondataavailable!="function"||typeof h.timeSlice>"u"||(se.left.length?(Y({desiredSampRate:X,sampleRate:D,numberOfAudioChannels:W,internalInterleavedLength:se.recordingLength,leftBuffers:se.left,rightBuffers:W===1?[]:se.right},function(ve,Bt){var ut=new Blob([Bt],{type:"audio/wav"});h.ondataavailable(ut),setTimeout(Se,h.timeSlice)}),se={left:[],right:[],recordingLength:0}):setTimeout(Se,h.timeSlice))}}typeof e<"u"&&(e.StereoAudioRecorder=ee);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function Ae(E,h){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";h=h||{},h.frameInterval||(h.frameInterval=10);var T=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(K){K in document.createElement("canvas")&&(T=!0)});var k=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,O=50,M=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);k&&M&&M[2]&&(O=parseInt(M[2],10)),k&&O<52&&(T=!1),h.useWhammyRecorder&&(T=!1);var V,R;if(T)if(h.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),E instanceof HTMLCanvasElement)V=E;else if(E instanceof CanvasRenderingContext2D)V=E.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(h.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var W;this.record=function(){if(W=!0,T&&!h.useWhammyRecorder){var K;"captureStream"in V?K=V.captureStream(25):"mozCaptureStream"in V?K=V.mozCaptureStream(25):"webkitCaptureStream"in V&&(K=V.webkitCaptureStream(25));try{var de=new S;de.addTrack(_(K,"video")[0]),K=de}catch{}if(!K)throw"captureStream API are NOT available.";R=new Z(K,{mimeType:h.mimeType||"video/webm"}),R.record()}else F.frames=[],L=new Date().getTime(),A();h.initCallback&&h.initCallback()},this.getWebPImages=function(K){if(E.nodeName.toLowerCase()!=="canvas"){K();return}var de=F.frames.length;F.frames.forEach(function(D,G){var oe=de-G;h.disableLogs||console.log(oe+"/"+de+" frames remaining"),h.onEncodingCallback&&h.onEncodingCallback(oe,de);var P=D.image.toDataURL("image/webp",1);F.frames[G].image=P}),h.disableLogs||console.log("Generating WebM"),K()},this.stop=function(K){W=!1;var de=this;if(T&&R){R.stop(K);return}this.getWebPImages(function(){F.compile(function(D){h.disableLogs||console.log("Recording finished!"),de.blob=D,de.blob.forEach&&(de.blob=new Blob([],{type:"video/webm"})),K&&K(de.blob),F.frames=[]})})};var X=!1;this.pause=function(){if(X=!0,R instanceof Z){R.pause();return}},this.resume=function(){if(X=!1,R instanceof Z){R.resume();return}W||this.record()},this.clearRecordedData=function(){W&&this.stop(H),H()};function H(){F.frames=[],W=!1,X=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function Y(){var K=document.createElement("canvas"),de=K.getContext("2d");return K.width=E.width,K.height=E.height,de.drawImage(E,0,0),K}function A(){if(X)return L=new Date().getTime(),setTimeout(A,500);if(E.nodeName.toLowerCase()==="canvas"){var K=new Date().getTime()-L;L=new Date().getTime(),F.frames.push({image:Y(),duration:K}),W&&setTimeout(A,h.frameInterval);return}html2canvas(E,{grabMouse:typeof h.showMousePointer>"u"||h.showMousePointer,onrendered:function(de){var D=new Date().getTime()-L;if(!D)return setTimeout(A,h.frameInterval);L=new Date().getTime(),F.frames.push({image:de.toDataURL("image/webp",1),duration:D}),W&&setTimeout(A,h.frameInterval)}})}var L=new Date().getTime(),F=new Me.Video(100)}typeof e<"u"&&(e.CanvasRecorder=Ae);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function De(E,h){h=h||{},h.frameInterval||(h.frameInterval=10),h.disableLogs||console.log("Using frames-interval:",h.frameInterval),this.record=function(){h.width||(h.width=320),h.height||(h.height=240),h.video||(h.video={width:h.width,height:h.height}),h.canvas||(h.canvas={width:h.width,height:h.height}),W.width=h.canvas.width||320,W.height=h.canvas.height||240,X=W.getContext("2d"),h.video&&h.video instanceof HTMLVideoElement?(H=h.video.cloneNode(),h.initCallback&&h.initCallback()):(H=document.createElement("video"),x(E,H),H.onloadedmetadata=function(){h.initCallback&&h.initCallback()},H.width=h.video.width,H.height=h.video.height),H.muted=!0,H.play(),Y=new Date().getTime(),A=new Me.Video,h.disableLogs||(console.log("canvas resolutions",W.width,"*",W.height),console.log("video width/height",H.width||W.width,"*",H.height||W.height)),T(h.frameInterval)};function T(L){L=typeof L<"u"?L:10;var F=new Date().getTime()-Y;if(!F)return setTimeout(T,L,L);if(V)return Y=new Date().getTime(),setTimeout(T,100);Y=new Date().getTime(),H.paused&&H.play(),X.drawImage(H,0,0,W.width,W.height),A.frames.push({duration:F,image:W.toDataURL("image/webp")}),M||setTimeout(T,L,L)}function k(L){var F=-1,K=L.length;(function de(){if(F++,F===K){L.callback();return}setTimeout(function(){L.functionToLoop(de,F)},1)})()}function O(L,F,K,de,D){var G=document.createElement("canvas");G.width=W.width,G.height=W.height;var oe=G.getContext("2d"),P=[],j=F===-1,te=F&&F>0&&F<=L.length?F:L.length,se={r:0,g:0,b:0},Se=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),ve=K&&K>=0&&K<=1?K:0,Bt=de&&de>=0&&de<=1?de:0,ut=!1;k({length:te,functionToLoop:function(Or,lt){var rs,jn,Jt,Nr=function(){!ut&&Jt-rs<=Jt*Bt||(j&&(ut=!0),P.push(L[lt])),Or()};if(ut)Nr();else{var Bn=new Image;Bn.onload=function(){oe.drawImage(Bn,0,0,W.width,W.height);var ur=oe.getImageData(0,0,W.width,W.height);rs=0,jn=ur.data.length,Jt=ur.data.length/4;for(var un=0;un<jn;un+=4){var Ei={r:ur.data[un],g:ur.data[un+1],b:ur.data[un+2]},ah=Math.sqrt(Math.pow(Ei.r-se.r,2)+Math.pow(Ei.g-se.g,2)+Math.pow(Ei.b-se.b,2));ah<=Se*ve&&rs++}Nr()},Bn.src=L[lt].image}},callback:function(){P=P.concat(L.slice(te)),P.length<=0&&P.push(L[L.length-1]),D(P)}})}var M=!1;this.stop=function(L){L=L||function(){},M=!0;var F=this;setTimeout(function(){O(A.frames,-1,null,null,function(K){A.frames=K,h.advertisement&&h.advertisement.length&&(A.frames=h.advertisement.concat(A.frames)),A.compile(function(de){F.blob=de,F.blob.forEach&&(F.blob=new Blob([],{type:"video/webm"})),L&&L(F.blob)})})},10)};var V=!1;this.pause=function(){V=!0},this.resume=function(){V=!1,M&&this.record()},this.clearRecordedData=function(){M||this.stop(R),R()};function R(){A.frames=[],M=!0,V=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var W=document.createElement("canvas"),X=W.getContext("2d"),H,Y,A}typeof e<"u"&&(e.WhammyRecorder=De);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var Me=function(){function E(k){this.frames=[],this.duration=k||1,this.quality=.8}E.prototype.add=function(k,O){if("canvas"in k&&(k=k.canvas),"toDataURL"in k&&(k=k.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(k))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:k,duration:O||this.duration})};function h(k){var O=c.createObjectURL(new Blob([k.toString(),"this.onmessage =  function (eee) {"+k.name+"(eee.data);}"],{type:"application/javascript"})),M=new Worker(O);return c.revokeObjectURL(O),M}function T(k){function O(D){var G=V(D);if(!G)return[];for(var oe=3e4,P=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:K(G.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:G.width,id:176},{data:G.height,id:186}]}]}]}]}],j=0,te=0;j<D.length;){var se=[],Se=0;do se.push(D[j]),Se+=D[j].duration,j++;while(j<D.length&&Se<oe);var ve=0,Bt={id:524531317,data:M(te,ve,se)};P[1].data.push(Bt),te+=Se}return H(P)}function M(D,G,oe){return[{data:D,id:231}].concat(oe.map(function(P){var j=Y({discardable:0,frame:P.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(G)});return G+=P.duration,{data:j,id:163}}))}function V(D){if(!D[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var G=D[0].width,oe=D[0].height,P=D[0].duration,j=1;j<D.length;j++)P+=D[j].duration;return{duration:P,width:G,height:oe}}function R(D){for(var G=[];D>0;)G.push(D&255),D=D>>8;return new Uint8Array(G.reverse())}function W(D){return new Uint8Array(D.split("").map(function(G){return G.charCodeAt(0)}))}function X(D){var G=[],oe=D.length%8?new Array(9-D.length%8).join("0"):"";D=oe+D;for(var P=0;P<D.length;P+=8)G.push(parseInt(D.substr(P,8),2));return new Uint8Array(G)}function H(D){for(var G=[],oe=0;oe<D.length;oe++){var P=D[oe].data;typeof P=="object"&&(P=H(P)),typeof P=="number"&&(P=X(P.toString(2))),typeof P=="string"&&(P=W(P));var j=P.size||P.byteLength||P.length,te=Math.ceil(Math.ceil(Math.log(j)/Math.log(2))/8),se=j.toString(2),Se=new Array(te*7+7+1-se.length).join("0")+se,ve=new Array(te).join("0")+"1"+Se;G.push(R(D[oe].id)),G.push(X(ve)),G.push(P)}return new Blob(G,{type:"video/webm"})}function Y(D){var G=0;if(D.keyframe&&(G|=128),D.invisible&&(G|=8),D.lacing&&(G|=D.lacing<<1),D.discardable&&(G|=1),D.trackNum>127)throw"TrackNumber > 127 not supported";var oe=[D.trackNum|128,D.timecode>>8,D.timecode&255,G].map(function(P){return String.fromCharCode(P)}).join("")+D.frame;return oe}function A(D){for(var G=D.RIFF[0].WEBP[0],oe=G.indexOf("*"),P=0,j=[];P<4;P++)j[P]=G.charCodeAt(oe+3+P);var te,se,Se;return Se=j[1]<<8|j[0],te=Se&16383,Se=j[3]<<8|j[2],se=Se&16383,{width:te,height:se,data:G,riff:D}}function L(D,G){return parseInt(D.substr(G+4,4).split("").map(function(oe){var P=oe.charCodeAt(0).toString(2);return new Array(8-P.length+1).join("0")+P}).join(""),2)}function F(D){for(var G=0,oe={};G<D.length;){var P=D.substr(G,4),j=L(D,G),te=D.substr(G+4+4,j);G+=4+4+j,oe[P]=oe[P]||[],P==="RIFF"||P==="LIST"?oe[P].push(F(te)):oe[P].push(te)}return oe}function K(D){return[].slice.call(new Uint8Array(new Float64Array([D]).buffer),0).map(function(G){return String.fromCharCode(G)}).reverse().join("")}var de=new O(k.map(function(D){var G=A(F(atob(D.image.slice(23))));return G.duration=D.duration,G}));postMessage(de)}return E.prototype.compile=function(k){var O=h(T);O.onmessage=function(M){if(M.data.error){console.error(M.data.error);return}k(M.data)},O.postMessage(this.frames)},{Video:E}}();typeof e<"u"&&(e.Whammy=Me);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var _e={init:function(){var E=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var h=1,T=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),k,O=indexedDB.open(T,h);function M(R){R.createObjectStore(E.dataStoreName)}function V(){var R=k.transaction([E.dataStoreName],"readwrite");E.videoBlob&&R.objectStore(E.dataStoreName).put(E.videoBlob,"videoBlob"),E.gifBlob&&R.objectStore(E.dataStoreName).put(E.gifBlob,"gifBlob"),E.audioBlob&&R.objectStore(E.dataStoreName).put(E.audioBlob,"audioBlob");function W(X){R.objectStore(E.dataStoreName).get(X).onsuccess=function(H){E.callback&&E.callback(H.target.result,X)}}W("audioBlob"),W("videoBlob"),W("gifBlob")}O.onerror=E.onError,O.onsuccess=function(){if(k=O.result,k.onerror=E.onError,k.setVersion)if(k.version!==h){var R=k.setVersion(h);R.onsuccess=function(){M(k),V()}}else V();else V()},O.onupgradeneeded=function(R){M(R.target.result)}},Fetch:function(E){return this.callback=E,this.init(),this},Store:function(E){return this.audioBlob=E.audioBlob,this.videoBlob=E.videoBlob,this.gifBlob=E.gifBlob,this.init(),this},onError:function(E){console.error(JSON.stringify(E,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof e<"u"&&(e.DiskStorage=_e);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function Oe(E,h){if(typeof GIFEncoder>"u"){var T=document.createElement("script");T.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(T)}h=h||{};var k=E instanceof CanvasRenderingContext2D||E instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(L.record,1e3);return}if(!W){setTimeout(L.record,1e3);return}k||(h.width||(h.width=X.offsetWidth||320),h.height||(h.height=X.offsetHeight||240),h.video||(h.video={width:h.width,height:h.height}),h.canvas||(h.canvas={width:h.width,height:h.height}),V.width=h.canvas.width||320,V.height=h.canvas.height||240,X.width=h.video.width||320,X.height=h.video.height||240),A=new GIFEncoder,A.setRepeat(0),A.setDelay(h.frameRate||200),A.setQuality(h.quality||10),A.start(),typeof h.onGifRecordingStarted=="function"&&h.onGifRecordingStarted();function F(K){if(L.clearedRecordedData!==!0){if(O)return setTimeout(function(){F(K)},100);H=o(F),typeof Y===void 0&&(Y=K),!(K-Y<90)&&(!k&&X.paused&&X.play(),k||R.drawImage(X,0,0,V.width,V.height),h.onGifPreview&&h.onGifPreview(V.toDataURL("image/png")),A.addFrame(R),Y=K)}}H=o(F),h.initCallback&&h.initCallback()},this.stop=function(F){F=F||function(){},H&&u(H),this.blob=new Blob([new Uint8Array(A.stream().bin)],{type:"image/gif"}),F(this.blob),A.stream().bin=[]};var O=!1;this.pause=function(){O=!0},this.resume=function(){O=!1},this.clearRecordedData=function(){L.clearedRecordedData=!0,M()};function M(){A&&(A.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var V=document.createElement("canvas"),R=V.getContext("2d");k&&(E instanceof CanvasRenderingContext2D?(R=E,V=R.canvas):E instanceof HTMLCanvasElement&&(R=E.getContext("2d"),V=E));var W=!0;if(!k){var X=document.createElement("video");X.muted=!0,X.autoplay=!0,X.playsInline=!0,W=!1,X.onloadedmetadata=function(){W=!0},x(E,X),X.play()}var H=null,Y,A,L=this}typeof e<"u"&&(e.GifRecorder=Oe);function Ye(E,h){var T="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(P){typeof e<"u"||P&&(typeof window<"u"||typeof $e>"u"||($e.navigator={userAgent:T,getUserMedia:function(){}},$e.console||($e.console={}),(typeof $e.console.log>"u"||typeof $e.console.error>"u")&&($e.console.error=$e.console.log=$e.console.log||function(){console.log(arguments)}),typeof document>"u"&&(P.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var j={getContext:function(){return j},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return j},P.HTMLVideoElement=function(){}),typeof location>"u"&&(P.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(P.screen={width:0,height:0}),typeof X>"u"&&(P.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),P.window=$e))})(typeof $e<"u"?$e:null),h=h||"multi-streams-mixer";var k=[],O=!1,M=document.createElement("canvas"),V=M.getContext("2d");M.style.opacity=0,M.style.position="absolute",M.style.zIndex=-1,M.style.top="-1000em",M.style.left="-1000em",M.className=h,(document.body||document.documentElement).appendChild(M),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var R=this,W=window.AudioContext;typeof W>"u"&&(typeof webkitAudioContext<"u"&&(W=webkitAudioContext),typeof mozAudioContext<"u"&&(W=mozAudioContext));var X=window.URL;typeof X>"u"&&typeof webkitURL<"u"&&(X=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var H=window.MediaStream;typeof H>"u"&&typeof webkitMediaStream<"u"&&(H=webkitMediaStream),typeof H<"u"&&typeof H.prototype.stop>"u"&&(H.prototype.stop=function(){this.getTracks().forEach(function(P){P.stop()})});var Y={};typeof W<"u"?Y.AudioContext=W:typeof webkitAudioContext<"u"&&(Y.AudioContext=webkitAudioContext);function A(P,j){"srcObject"in j?j.srcObject=P:"mozSrcObject"in j?j.mozSrcObject=P:j.srcObject=P}this.startDrawingFrames=function(){L()};function L(){if(!O){var P=k.length,j=!1,te=[];if(k.forEach(function(Se){Se.stream||(Se.stream={}),Se.stream.fullcanvas?j=Se:te.push(Se)}),j)M.width=j.stream.width,M.height=j.stream.height;else if(te.length){M.width=P>1?te[0].width*2:te[0].width;var se=1;(P===3||P===4)&&(se=2),(P===5||P===6)&&(se=3),(P===7||P===8)&&(se=4),(P===9||P===10)&&(se=5),M.height=te[0].height*se}else M.width=R.width||360,M.height=R.height||240;j&&j instanceof HTMLVideoElement&&F(j),te.forEach(function(Se,ve){F(Se,ve)}),setTimeout(L,R.frameInterval)}}function F(P,j){if(!O){var te=0,se=0,Se=P.width,ve=P.height;j===1&&(te=P.width),j===2&&(se=P.height),j===3&&(te=P.width,se=P.height),j===4&&(se=P.height*2),j===5&&(te=P.width,se=P.height*2),j===6&&(se=P.height*3),j===7&&(te=P.width,se=P.height*3),typeof P.stream.left<"u"&&(te=P.stream.left),typeof P.stream.top<"u"&&(se=P.stream.top),typeof P.stream.width<"u"&&(Se=P.stream.width),typeof P.stream.height<"u"&&(ve=P.stream.height),V.drawImage(P,te,se,Se,ve),typeof P.stream.onRender=="function"&&P.stream.onRender(V,te,se,Se,ve,j)}}function K(){O=!1;var P=de(),j=D();return j&&j.getTracks().filter(function(te){return te.kind==="audio"}).forEach(function(te){P.addTrack(te)}),E.forEach(function(te){te.fullcanvas}),P}function de(){oe();var P;"captureStream"in M?P=M.captureStream():"mozCaptureStream"in M?P=M.mozCaptureStream():R.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var j=new H;return P.getTracks().filter(function(te){return te.kind==="video"}).forEach(function(te){j.addTrack(te)}),M.stream=j,j}function D(){Y.AudioContextConstructor||(Y.AudioContextConstructor=new Y.AudioContext),R.audioContext=Y.AudioContextConstructor,R.audioSources=[],R.useGainNode===!0&&(R.gainNode=R.audioContext.createGain(),R.gainNode.connect(R.audioContext.destination),R.gainNode.gain.value=0);var P=0;if(E.forEach(function(j){if(j.getTracks().filter(function(se){return se.kind==="audio"}).length){P++;var te=R.audioContext.createMediaStreamSource(j);R.useGainNode===!0&&te.connect(R.gainNode),R.audioSources.push(te)}}),!!P)return R.audioDestination=R.audioContext.createMediaStreamDestination(),R.audioSources.forEach(function(j){j.connect(R.audioDestination)}),R.audioDestination.stream}function G(P){var j=document.createElement("video");return A(P,j),j.className=h,j.muted=!0,j.volume=0,j.width=P.width||R.width||360,j.height=P.height||R.height||240,j.play(),j}this.appendStreams=function(P){if(!P)throw"First parameter is required.";P instanceof Array||(P=[P]),P.forEach(function(j){var te=new H;if(j.getTracks().filter(function(ve){return ve.kind==="video"}).length){var se=G(j);se.stream=j,k.push(se),te.addTrack(j.getTracks().filter(function(ve){return ve.kind==="video"})[0])}if(j.getTracks().filter(function(ve){return ve.kind==="audio"}).length){var Se=R.audioContext.createMediaStreamSource(j);R.audioDestination=R.audioContext.createMediaStreamDestination(),Se.connect(R.audioDestination),te.addTrack(R.audioDestination.stream.getTracks().filter(function(ve){return ve.kind==="audio"})[0])}E.push(te)})},this.releaseStreams=function(){k=[],O=!0,R.gainNode&&(R.gainNode.disconnect(),R.gainNode=null),R.audioSources.length&&(R.audioSources.forEach(function(P){P.disconnect()}),R.audioSources=[]),R.audioDestination&&(R.audioDestination.disconnect(),R.audioDestination=null),R.audioContext&&R.audioContext.close(),R.audioContext=null,V.clearRect(0,0,M.width,M.height),M.stream&&(M.stream.stop(),M.stream=null)},this.resetVideoStreams=function(P){P&&!(P instanceof Array)&&(P=[P]),oe(P)};function oe(P){k=[],P=P||E,P.forEach(function(j){if(j.getTracks().filter(function(se){return se.kind==="video"}).length){var te=G(j);te.stream=j,k.push(te)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=K}typeof e>"u"&&(t.exports=Ye);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function rt(E,h){E=E||[];var T=this,k,O;h=h||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},h.frameInterval||(h.frameInterval=10),h.video||(h.video={}),h.video.width||(h.video.width=360),h.video.height||(h.video.height=240),this.record=function(){k=new Ye(E,h.elementClass||"multi-streams-mixer"),M().length&&(k.frameInterval=h.frameInterval||10,k.width=h.video.width||360,k.height=h.video.height||240,k.startDrawingFrames()),h.previewStream&&typeof h.previewStream=="function"&&h.previewStream(k.getMixedStream()),O=new Z(k.getMixedStream(),h),O.record()};function M(){var V=[];return E.forEach(function(R){_(R,"video").forEach(function(W){V.push(W)})}),V}this.stop=function(V){O&&O.stop(function(R){T.blob=R,V(R),T.clearRecordedData()})},this.pause=function(){O&&O.pause()},this.resume=function(){O&&O.resume()},this.clearRecordedData=function(){O&&(O.clearRecordedData(),O=null),k&&(k.releaseStreams(),k=null)},this.addStreams=function(V){if(!V)throw"First parameter is required.";V instanceof Array||(V=[V]),E.concat(V),!(!O||!k)&&(k.appendStreams(V),h.previewStream&&typeof h.previewStream=="function"&&h.previewStream(k.getMixedStream()))},this.resetVideoStreams=function(V){k&&(V&&!(V instanceof Array)&&(V=[V]),k.resetVideoStreams(V))},this.getMixer=function(){return k},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof e<"u"&&(e.MultiStreamRecorder=rt);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function q(E,h){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof E>"u")throw'First argument "MediaStream" is required.';var T=this;T.recordRTC=new e(E,h),this.startRecording=function(){return new Promise(function(k,O){try{T.recordRTC.startRecording(),k()}catch(M){O(M)}})},this.stopRecording=function(){return new Promise(function(k,O){try{T.recordRTC.stopRecording(function(M){if(T.blob=T.recordRTC.getBlob(),!T.blob||!T.blob.size){O("Empty blob.",T.blob);return}k(M)})}catch(M){O(M)}})},this.pauseRecording=function(){return new Promise(function(k,O){try{T.recordRTC.pauseRecording(),k()}catch(M){O(M)}})},this.resumeRecording=function(){return new Promise(function(k,O){try{T.recordRTC.resumeRecording(),k()}catch(M){O(M)}})},this.getDataURL=function(k){return new Promise(function(O,M){try{T.recordRTC.getDataURL(function(V){O(V)})}catch(V){M(V)}})},this.getBlob=function(){return new Promise(function(k,O){try{k(T.recordRTC.getBlob())}catch(M){O(M)}})},this.getInternalRecorder=function(){return new Promise(function(k,O){try{k(T.recordRTC.getInternalRecorder())}catch(M){O(M)}})},this.reset=function(){return new Promise(function(k,O){try{k(T.recordRTC.reset())}catch(M){O(M)}})},this.destroy=function(){return new Promise(function(k,O){try{k(T.recordRTC.destroy())}catch(M){O(M)}})},this.getState=function(){return new Promise(function(k,O){try{k(T.recordRTC.getState())}catch(M){O(M)}})},this.blob=null,this.version="5.6.2"}typeof e<"u"&&(e.RecordRTCPromisesHandler=q);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function re(E,h){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),h=h||{},h.width=h.width||640,h.height=h.height||480,h.frameRate=h.frameRate||30,h.bitrate=h.bitrate||1200,h.realtime=h.realtime||!0;var T;function k(){return new ReadableStream({start:function(X){var H=document.createElement("canvas"),Y=document.createElement("video"),A=!0;Y.srcObject=E,Y.muted=!0,Y.height=h.height,Y.width=h.width,Y.volume=0,Y.onplaying=function(){H.width=h.width,H.height=h.height;var L=H.getContext("2d"),F=1e3/h.frameRate,K=setInterval(function(){if(T&&(clearInterval(K),X.close()),A&&(A=!1,h.onVideoProcessStarted&&h.onVideoProcessStarted()),L.drawImage(Y,0,0),X._controlledReadableStream.state!=="closed")try{X.enqueue(L.getImageData(0,0,h.width,h.height))}catch{}},F)},Y.play()}})}var O;function M(X,H){if(!h.workerPath&&!H){T=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(A){A.arrayBuffer().then(function(L){M(X,L)})});return}if(!h.workerPath&&H instanceof ArrayBuffer){var Y=new Blob([H],{type:"text/javascript"});h.workerPath=c.createObjectURL(Y)}h.workerPath||console.error("workerPath parameter is missing."),O=new Worker(h.workerPath),O.postMessage(h.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),O.addEventListener("message",function(A){A.data==="READY"?(O.postMessage({width:h.width,height:h.height,bitrate:h.bitrate||1200,timebaseDen:h.frameRate||30,realtime:h.realtime}),k().pipeTo(new WritableStream({write:function(L){if(T){console.error("Got image, but recorder is finished!");return}O.postMessage(L.data.buffer,[L.data.buffer])}}))):A.data&&(V||W.push(A.data))})}this.record=function(){W=[],V=!1,this.blob=null,M(E),typeof h.initCallback=="function"&&h.initCallback()};var V;this.pause=function(){V=!0},this.resume=function(){V=!1};function R(X){if(!O){X&&X();return}O.addEventListener("message",function(H){H.data===null&&(O.terminate(),O=null,X&&X())}),O.postMessage(null)}var W=[];this.stop=function(X){T=!0;var H=this;R(function(){H.blob=new Blob(W,{type:"video/webm"}),X(H.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){W=[],V=!1,this.blob=null},this.blob=null}typeof e<"u"&&(e.WebAssemblyRecorder=re)})(rC);var mL=rC.exports;const gL=G1(mL);function vL({setSTTText:t}){const[e,n]=C.useState(!1),[r,i]=C.useState(null),[s,o]=C.useState(""),[a,u]=C.useState("english"),[l,c]=C.useState(!1),d="https://purplehunter.pythonanywhere.com",f=`${d}/stt-v2-turbo`,m=`${d}/translate`,w=`${d}/summarize`;async function y(g){if(g.preventDefault(),typeof navigator.mediaDevices>"u"||!navigator.mediaDevices.getUserMedia){alert("Your OS Currently Blocks this feature... please use your Phones speech-to-text system to write in this field... the other features should still be working fine");return}if(e)r&&(r.stop(),n(!1),i(null));else{const v=await navigator.mediaDevices.getUserMedia({audio:!0});gL(v,{type:"audio",mimeType:"audio/wav"});const _=new MediaRecorder(v);let x=[];_.ondataavailable=b=>{x.push(b.data)},_.onstop=async()=>{c(!0);const b=new Blob(x,{type:"audio/wav"}),U=await(await fetch(f,{method:"POST",body:b,headers:{"Content-Type":"audio/wav"}})).json();c(!1),console.log(U),o(U.text),t(U.text)},_.start(),n(!0),i(_)}}async function S(g){c(!0),g.preventDefault();const _=await(await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s,lang:a})})).json();c(!1),o(_.text),t(_.text)}async function p(g){c(!0),g.preventDefault();const _=await(await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s})})).json();c(!1),o(_.text),t(_.text)}return I.jsxs("div",{className:"relative p-4 rounded shadow mb-4 border bg-gray-100",children:[I.jsxs("div",{className:"relative w-full",children:[I.jsx("textarea",{className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-200 mb-4",value:s,onChange:g=>{o(g.target.value),t(g.target.value)},placeholder:"Transcription text...",rows:5}),l&&I.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:I.jsx(SM,{className:"animate-spin",size:24})})]}),I.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0 mb-4",children:[I.jsx("button",{className:`flex items-center justify-center btn-upload px-4 py-2 text-white rounded shadow-sm hover:bg-green-300 w-full md:w-auto mt-2 ${e?"button-recording":"button-not-recording"}`,onClick:y,children:I.jsx(EM,{size:20})}),I.jsxs("div",{className:"flex items-center space-x-2 w-full md:w-auto",children:[I.jsxs("select",{value:a,onChange:g=>u(g.target.value),className:"cursor-pointer bg-gray-200 rounded p-2",children:[I.jsx("option",{value:"english",children:"English"}),I.jsx("option",{value:"spanish",children:"Spanish"}),I.jsx("option",{value:"french",children:"French"}),I.jsx("option",{value:"german",children:"German"})]}),I.jsx("button",{className:"flex items-center justify-center btn-upload px-4 py-2 bg-gray-500 text-white rounded shadow-sm hover:bg-green-300 w-full md:w-auto",onClick:S,children:I.jsx(fL,{size:20})})]}),I.jsx("button",{className:"flex items-center justify-center btn-upload px-4 py-2 bg-pink-200 text-white rounded shadow-sm hover:bg-yellow-300 w-full md:w-auto mt-2",onClick:p,children:I.jsx(pL,{size:20})})]})]})}function Xi(t){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(t)}function yL(t,e){if(Xi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iC(t){var e=yL(t,"string");return Xi(e)==="symbol"?e:String(e)}function Bo(t,e,n){return e=iC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E1(Object(n),!0).forEach(function(r){Bo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wL(t){if(Array.isArray(t))return t}function _L(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function Xp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sC(t,e){if(t){if(typeof t=="string")return Xp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xp(t,e)}}function EL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _r(t,e){return wL(t)||_L(t,e)||sC(t,e)||EL()}function SL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dr(t,e){if(t==null)return{};var n=SL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var TL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function IL(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,u=t.menuIsOpen,l=t.onChange,c=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,m=t.value,w=Dr(t,TL),y=C.useState(a!==void 0?a:n),S=_r(y,2),p=S[0],g=S[1],v=C.useState(u!==void 0?u:i),_=_r(v,2),x=_[0],b=_[1],N=C.useState(m!==void 0?m:o),U=_r(N,2),Z=U[0],ee=U[1],Ae=C.useCallback(function(q,re){typeof l=="function"&&l(q,re),ee(q)},[l]),De=C.useCallback(function(q,re){var E;typeof c=="function"&&(E=c(q,re)),g(E!==void 0?E:q)},[c]),Me=C.useCallback(function(){typeof f=="function"&&f(),b(!0)},[f]),_e=C.useCallback(function(){typeof d=="function"&&d(),b(!1)},[d]),Oe=a!==void 0?a:p,Ye=u!==void 0?u:x,rt=m!==void 0?m:Z;return ae(ae({},w),{},{inputValue:Oe,menuIsOpen:Ye,onChange:Ae,onInputChange:De,onMenuClose:_e,onMenuOpen:Me,value:rt})}function le(){return le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},le.apply(this,arguments)}function CL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iC(r.key),r)}}function bL(t,e,n){return e&&S1(t.prototype,e),n&&S1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eo(t,e){return eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eo(t,e)}function RL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eo(t,e)}function Ba(t){return Ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ba(t)}function oC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AL(t,e){if(e&&(Xi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aC(t)}function xL(t){var e=oC();return function(){var r=Ba(t),i;if(e){var s=Ba(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return AL(this,i)}}function PL(t){if(Array.isArray(t))return Xp(t)}function kL(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uC(t){return PL(t)||kL(t)||sC(t)||DL()}function OL(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function NL(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ML=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(NL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=OL(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Pt="-ms-",Uc="-moz-",Ce="-webkit-",lC="comm",yv="rule",wv="decl",LL="@import",cC="@keyframes",FL="@layer",VL=Math.abs,Kd=String.fromCharCode,UL=Object.assign;function $L(t,e){return _t(t,0)^45?(((e<<2^_t(t,0))<<2^_t(t,1))<<2^_t(t,2))<<2^_t(t,3):0}function dC(t){return t.trim()}function jL(t,e){return(t=e.exec(t))?t[0]:t}function be(t,e,n){return t.replace(e,n)}function Yp(t,e){return t.indexOf(e)}function _t(t,e){return t.charCodeAt(e)|0}function za(t,e,n){return t.slice(e,n)}function qn(t){return t.length}function _v(t){return t.length}function Zu(t,e){return e.push(t),t}function BL(t,e){return t.map(e).join("")}var Gd=1,to=1,hC=0,an=0,et=0,vo="";function Qd(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Gd,column:to,length:o,return:""}}function Ao(t,e){return UL(Qd("",null,null,"",null,null,0),t,{length:-t.length},e)}function zL(){return et}function HL(){return et=an>0?_t(vo,--an):0,to--,et===10&&(to=1,Gd--),et}function fn(){return et=an<hC?_t(vo,an++):0,to++,et===10&&(to=1,Gd++),et}function ir(){return _t(vo,an)}function Il(){return an}function _u(t,e){return za(vo,t,e)}function Ha(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fC(t){return Gd=to=1,hC=qn(vo=t),an=0,[]}function pC(t){return vo="",t}function Cl(t){return dC(_u(an-1,Jp(t===91?t+2:t===40?t+1:t)))}function WL(t){for(;(et=ir())&&et<33;)fn();return Ha(t)>2||Ha(et)>3?"":" "}function qL(t,e){for(;--e&&fn()&&!(et<48||et>102||et>57&&et<65||et>70&&et<97););return _u(t,Il()+(e<6&&ir()==32&&fn()==32))}function Jp(t){for(;fn();)switch(et){case t:return an;case 34:case 39:t!==34&&t!==39&&Jp(et);break;case 40:t===41&&Jp(t);break;case 92:fn();break}return an}function KL(t,e){for(;fn()&&t+et!==47+10;)if(t+et===42+42&&ir()===47)break;return"/*"+_u(e,an-1)+"*"+Kd(t===47?t:fn())}function GL(t){for(;!Ha(ir());)fn();return _u(t,an)}function QL(t){return pC(bl("",null,null,null,[""],t=fC(t),0,[0],t))}function bl(t,e,n,r,i,s,o,a,u){for(var l=0,c=0,d=o,f=0,m=0,w=0,y=1,S=1,p=1,g=0,v="",_=i,x=s,b=r,N=v;S;)switch(w=g,g=fn()){case 40:if(w!=108&&_t(N,d-1)==58){Yp(N+=be(Cl(g),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:N+=Cl(g);break;case 9:case 10:case 13:case 32:N+=WL(w);break;case 92:N+=qL(Il()-1,7);continue;case 47:switch(ir()){case 42:case 47:Zu(XL(KL(fn(),Il()),e,n),u);break;default:N+="/"}break;case 123*y:a[l++]=qn(N)*p;case 125*y:case 59:case 0:switch(g){case 0:case 125:S=0;case 59+c:p==-1&&(N=be(N,/\f/g,"")),m>0&&qn(N)-d&&Zu(m>32?I1(N+";",r,n,d-1):I1(be(N," ","")+";",r,n,d-2),u);break;case 59:N+=";";default:if(Zu(b=T1(N,e,n,l,c,i,a,v,_=[],x=[],d),s),g===123)if(c===0)bl(N,e,b,b,_,s,d,a,x);else switch(f===99&&_t(N,3)===110?100:f){case 100:case 108:case 109:case 115:bl(t,b,b,r&&Zu(T1(t,b,b,0,0,i,a,v,i,_=[],d),x),i,x,d,a,r?_:x);break;default:bl(N,b,b,b,[""],x,0,a,x)}}l=c=m=0,y=p=1,v=N="",d=o;break;case 58:d=1+qn(N),m=w;default:if(y<1){if(g==123)--y;else if(g==125&&y++==0&&HL()==125)continue}switch(N+=Kd(g),g*y){case 38:p=c>0?1:(N+="\f",-1);break;case 44:a[l++]=(qn(N)-1)*p,p=1;break;case 64:ir()===45&&(N+=Cl(fn())),f=ir(),c=d=qn(v=N+=GL(Il())),g++;break;case 45:w===45&&qn(N)==2&&(y=0)}}return s}function T1(t,e,n,r,i,s,o,a,u,l,c){for(var d=i-1,f=i===0?s:[""],m=_v(f),w=0,y=0,S=0;w<r;++w)for(var p=0,g=za(t,d+1,d=VL(y=o[w])),v=t;p<m;++p)(v=dC(y>0?f[p]+" "+g:be(g,/&\f/g,f[p])))&&(u[S++]=v);return Qd(t,e,n,i===0?yv:a,u,l,c)}function XL(t,e,n){return Qd(t,e,n,lC,Kd(zL()),za(t,2,-2),0)}function I1(t,e,n,r){return Qd(t,e,n,wv,za(t,0,r),za(t,r+1,-1),r)}function Ls(t,e){for(var n="",r=_v(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function YL(t,e,n,r){switch(t.type){case FL:if(t.children.length)break;case LL:case wv:return t.return=t.return||t.value;case lC:return"";case cC:return t.return=t.value+"{"+Ls(t.children,r)+"}";case yv:t.value=t.props.join(",")}return qn(n=Ls(t.children,r))?t.return=t.value+"{"+n+"}":""}function JL(t){var e=_v(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function ZL(t){return function(e){e.root||(e=e.return)&&t(e)}}function eF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var tF=function(e,n,r){for(var i=0,s=0;i=s,s=ir(),i===38&&s===12&&(n[r]=1),!Ha(s);)fn();return _u(e,an)},nF=function(e,n){var r=-1,i=44;do switch(Ha(i)){case 0:i===38&&ir()===12&&(n[r]=1),e[r]+=tF(an-1,n,r);break;case 2:e[r]+=Cl(i);break;case 4:if(i===44){e[++r]=ir()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Kd(i)}while(i=fn());return e},rF=function(e,n){return pC(nF(fC(e),n))},C1=new WeakMap,iF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!C1.get(r))&&!i){C1.set(e,!0);for(var s=[],o=rF(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)e.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},sF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function mC(t,e){switch($L(t,e)){case 5103:return Ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+t+Uc+t+Pt+t+t;case 6828:case 4268:return Ce+t+Pt+t+t;case 6165:return Ce+t+Pt+"flex-"+t+t;case 5187:return Ce+t+be(t,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+Pt+"flex-$1$2")+t;case 5443:return Ce+t+Pt+"flex-item-"+be(t,/flex-|-self/,"")+t;case 4675:return Ce+t+Pt+"flex-line-pack"+be(t,/align-content|flex-|-self/,"")+t;case 5548:return Ce+t+Pt+be(t,"shrink","negative")+t;case 5292:return Ce+t+Pt+be(t,"basis","preferred-size")+t;case 6060:return Ce+"box-"+be(t,"-grow","")+Ce+t+Pt+be(t,"grow","positive")+t;case 4554:return Ce+be(t,/([^-])(transform)/g,"$1"+Ce+"$2")+t;case 6187:return be(be(be(t,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),t,"")+t;case 5495:case 3959:return be(t,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return be(be(t,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+Pt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+t+t;case 4095:case 3583:case 4068:case 2532:return be(t,/(.+)-inline(.+)/,Ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qn(t)-1-e>6)switch(_t(t,e+1)){case 109:if(_t(t,e+4)!==45)break;case 102:return be(t,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+Uc+(_t(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Yp(t,"stretch")?mC(be(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(_t(t,e+1)!==115)break;case 6444:switch(_t(t,qn(t)-3-(~Yp(t,"!important")&&10))){case 107:return be(t,":",":"+Ce)+t;case 101:return be(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ce+(_t(t,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+Pt+"$2box$3")+t}break;case 5936:switch(_t(t,e+11)){case 114:return Ce+t+Pt+be(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ce+t+Pt+be(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ce+t+Pt+be(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ce+t+Pt+t+t}return t}var oF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case wv:e.return=mC(e.value,e.length);break;case cC:return Ls([Ao(e,{value:be(e.value,"@","@"+Ce)})],i);case yv:if(e.length)return BL(e.props,function(s){switch(jL(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ls([Ao(e,{props:[be(s,/:(read-\w+)/,":"+Uc+"$1")]})],i);case"::placeholder":return Ls([Ao(e,{props:[be(s,/:(plac\w+)/,":"+Ce+"input-$1")]}),Ao(e,{props:[be(s,/:(plac\w+)/,":"+Uc+"$1")]}),Ao(e,{props:[be(s,/:(plac\w+)/,Pt+"input-$1")]})],i)}return""})}},aF=[oF],uF=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var S=y.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||aF,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var S=y.getAttribute("data-emotion").split(" "),p=1;p<S.length;p++)s[S[p]]=!0;a.push(y)});var u,l=[iF,sF];{var c,d=[YL,ZL(function(y){c.insert(y)})],f=JL(l.concat(i,d)),m=function(S){return Ls(QL(S),f)};u=function(S,p,g,v){c=g,m(S?S+"{"+p.styles+"}":p.styles),v&&(w.inserted[p.name]=!0)}}var w={key:n,sheet:new ML({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return w.sheet.hydrate(a),w},gC={exports:{}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=typeof Symbol=="function"&&Symbol.for,Ev=gt?Symbol.for("react.element"):60103,Sv=gt?Symbol.for("react.portal"):60106,Xd=gt?Symbol.for("react.fragment"):60107,Yd=gt?Symbol.for("react.strict_mode"):60108,Jd=gt?Symbol.for("react.profiler"):60114,Zd=gt?Symbol.for("react.provider"):60109,eh=gt?Symbol.for("react.context"):60110,Tv=gt?Symbol.for("react.async_mode"):60111,th=gt?Symbol.for("react.concurrent_mode"):60111,nh=gt?Symbol.for("react.forward_ref"):60112,rh=gt?Symbol.for("react.suspense"):60113,lF=gt?Symbol.for("react.suspense_list"):60120,ih=gt?Symbol.for("react.memo"):60115,sh=gt?Symbol.for("react.lazy"):60116,cF=gt?Symbol.for("react.block"):60121,dF=gt?Symbol.for("react.fundamental"):60117,hF=gt?Symbol.for("react.responder"):60118,fF=gt?Symbol.for("react.scope"):60119;function wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ev:switch(t=t.type,t){case Tv:case th:case Xd:case Jd:case Yd:case rh:return t;default:switch(t=t&&t.$$typeof,t){case eh:case nh:case sh:case ih:case Zd:return t;default:return e}}case Sv:return e}}}function vC(t){return wn(t)===th}ke.AsyncMode=Tv;ke.ConcurrentMode=th;ke.ContextConsumer=eh;ke.ContextProvider=Zd;ke.Element=Ev;ke.ForwardRef=nh;ke.Fragment=Xd;ke.Lazy=sh;ke.Memo=ih;ke.Portal=Sv;ke.Profiler=Jd;ke.StrictMode=Yd;ke.Suspense=rh;ke.isAsyncMode=function(t){return vC(t)||wn(t)===Tv};ke.isConcurrentMode=vC;ke.isContextConsumer=function(t){return wn(t)===eh};ke.isContextProvider=function(t){return wn(t)===Zd};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ev};ke.isForwardRef=function(t){return wn(t)===nh};ke.isFragment=function(t){return wn(t)===Xd};ke.isLazy=function(t){return wn(t)===sh};ke.isMemo=function(t){return wn(t)===ih};ke.isPortal=function(t){return wn(t)===Sv};ke.isProfiler=function(t){return wn(t)===Jd};ke.isStrictMode=function(t){return wn(t)===Yd};ke.isSuspense=function(t){return wn(t)===rh};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xd||t===th||t===Jd||t===Yd||t===rh||t===lF||typeof t=="object"&&t!==null&&(t.$$typeof===sh||t.$$typeof===ih||t.$$typeof===Zd||t.$$typeof===eh||t.$$typeof===nh||t.$$typeof===dF||t.$$typeof===hF||t.$$typeof===fF||t.$$typeof===cF)};ke.typeOf=wn;gC.exports=ke;var pF=gC.exports,yC=pF,mF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wC={};wC[yC.ForwardRef]=mF;wC[yC.Memo]=gF;var vF=!0;function yF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var _C=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||vF===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},wF=function(e,n,r){_C(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function _F(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var EF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},SF=/[A-Z]|^ms/g,TF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EC=function(e){return e.charCodeAt(1)===45},b1=function(e){return e!=null&&typeof e!="boolean"},lf=eF(function(t){return EC(t)?t:t.replace(SF,"-$&").toLowerCase()}),R1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(TF,function(r,i,s){return Kn={name:i,styles:s,next:Kn},i})}return EF[e]!==1&&!EC(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wa(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Kn={name:n.name,styles:n.styles,next:Kn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Kn={name:r.name,styles:r.styles,next:Kn},r=r.next;var i=n.styles+";";return i}return IF(t,e,n)}case"function":{if(t!==void 0){var s=Kn,o=n(t);return Kn=s,Wa(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function IF(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Wa(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":b1(o)&&(r+=lf(s)+":"+R1(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)b1(o[a])&&(r+=lf(s)+":"+R1(s,o[a])+";");else{var u=Wa(t,e,o);switch(s){case"animation":case"animationName":{r+=lf(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var A1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Kn,SC=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Kn=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Wa(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Wa(r,n,e[a]),i&&(s+=o[a]);A1.lastIndex=0;for(var u="",l;(l=A1.exec(s))!==null;)u+="-"+l[1];var c=_F(s)+u;return{name:c,styles:s,next:Kn}},CF=function(e){return e()},bF=wf["useInsertionEffect"]?wf["useInsertionEffect"]:!1,RF=bF||CF,Iv={}.hasOwnProperty,TC=C.createContext(typeof HTMLElement<"u"?uF({key:"css"}):null);TC.Provider;var AF=function(e){return C.forwardRef(function(n,r){var i=C.useContext(TC);return e(n,i,r)})},xF=C.createContext({}),Zp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",PF=function(e,n){var r={};for(var i in n)Iv.call(n,i)&&(r[i]=n[i]);return r[Zp]=e,r},kF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return _C(n,r,i),RF(function(){return wF(n,r,i)}),null},DF=AF(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Zp],s=[r],o="";typeof t.className=="string"?o=yF(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=SC(s,void 0,C.useContext(xF));o+=e.key+"-"+a.name;var u={};for(var l in t)Iv.call(t,l)&&l!=="css"&&l!==Zp&&(u[l]=t[l]);return u.ref=n,u.className=o,C.createElement(C.Fragment,null,C.createElement(kF,{cache:e,serialized:a,isStringTag:typeof i=="string"}),C.createElement(i,u))}),OF=DF,ce=function(e,n){var r=arguments;if(n==null||!Iv.call(n,"css"))return C.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=OF,s[1]=PF(e,n);for(var o=2;o<i;o++)s[o]=r[o];return C.createElement.apply(null,s)};function Cv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return SC(e)}var NF=function(){var e=Cv.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function MF(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const LF=Math.min,FF=Math.max,$c=Math.round,el=Math.floor,jc=t=>({x:t,y:t});function VF(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function IC(t){return bC(t)?(t.nodeName||"").toLowerCase():"#document"}function Fn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function CC(t){var e;return(e=(bC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bC(t){return t instanceof Node||t instanceof Fn(t).Node}function em(t){return t instanceof Element||t instanceof Fn(t).Element}function bv(t){return t instanceof HTMLElement||t instanceof Fn(t).HTMLElement}function x1(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fn(t).ShadowRoot}function RC(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Rv(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function UF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $F(t){return["html","body","#document"].includes(IC(t))}function Rv(t){return Fn(t).getComputedStyle(t)}function jF(t){if(IC(t)==="html")return t;const e=t.assignedSlot||t.parentNode||x1(t)&&t.host||CC(t);return x1(e)?e.host:e}function AC(t){const e=jF(t);return $F(e)?t.ownerDocument?t.ownerDocument.body:t.body:bv(e)&&RC(e)?e:AC(e)}function tm(t,e){var n;e===void 0&&(e=[]);const r=AC(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Fn(r);return i?e.concat(s,s.visualViewport||[],RC(r)?r:[]):e.concat(r,tm(r))}function BF(t){const e=Rv(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=bv(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=$c(n)!==s||$c(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Av(t){return em(t)?t:t.contextElement}function cf(t){const e=Av(t);if(!bv(e))return jc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=BF(e);let o=(s?$c(n.width):n.width)/r,a=(s?$c(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const zF=jc(0);function HF(t){const e=Fn(t);return!UF()||!e.visualViewport?zF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Fn(t)?!1:e}function P1(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Av(t);let o=jc(1);e&&(r?em(r)&&(o=cf(r)):o=cf(t));const a=WF(s,n,r)?HF(s):jc(0);let u=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const f=Fn(s),m=r&&em(r)?Fn(r):r;let w=f.frameElement;for(;w&&r&&m!==f;){const y=cf(w),S=w.getBoundingClientRect(),p=Rv(w),g=S.left+(w.clientLeft+parseFloat(p.paddingLeft))*y.x,v=S.top+(w.clientTop+parseFloat(p.paddingTop))*y.y;u*=y.x,l*=y.y,c*=y.x,d*=y.y,u+=g,l+=v,w=Fn(w).frameElement}}return VF({width:c,height:d,x:u,y:l})}function qF(t,e){let n=null,r;const i=CC(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:l,top:c,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const m=el(c),w=el(i.clientWidth-(l+d)),y=el(i.clientHeight-(c+f)),S=el(l),g={rootMargin:-m+"px "+-w+"px "+-y+"px "+-S+"px",threshold:FF(0,LF(1,u))||1};let v=!0;function _(x){const b=x[0].intersectionRatio;if(b!==u){if(!v)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},100)}v=!1}try{n=new IntersectionObserver(_,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,g)}n.observe(t)}return o(!0),s}function KF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=Av(t),c=i||s?[...l?tm(l):[],...tm(e)]:[];c.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const d=l&&a?qF(l,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(p=>{let[g]=p;g&&g.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{m&&m.observe(e)})),n()}),l&&!u&&m.observe(l),m.observe(e));let w,y=u?P1(t):null;u&&S();function S(){const p=P1(t);y&&(p.x!==y.x||p.y!==y.y||p.width!==y.width||p.height!==y.height)&&n(),y=p,w=requestAnimationFrame(S)}return n(),()=>{c.forEach(p=>{i&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),d&&d(),m&&m.disconnect(),m=null,u&&cancelAnimationFrame(w)}}var nm=C.useLayoutEffect,GF=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Bc=function(){};function QF(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function XF(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(QF(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var k1=function(e){return sV(e)?e.filter(Boolean):Xi(e)==="object"&&e!==null?[e]:[]},xC=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Dr(e,GF);return ae({},n)},Ge=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function oh(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function YF(t){return oh(t)?window.innerHeight:t.clientHeight}function PC(t){return oh(t)?window.pageYOffset:t.scrollTop}function zc(t,e){if(oh(t)){window.scrollTo(0,e);return}t.scrollTop=e}function JF(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function ZF(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function tl(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Bc,i=PC(t),s=e-i,o=10,a=0;function u(){a+=o;var l=ZF(a,i,s,n);zc(t,l),a<n?window.requestAnimationFrame(u):r(t)}u()}function D1(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?zc(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&zc(t,Math.max(e.offsetTop-i,0))}function eV(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function O1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function tV(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kC=!1,nV={get passive(){return kC=!0}},nl=typeof window<"u"?window:{};nl.addEventListener&&nl.removeEventListener&&(nl.addEventListener("p",Bc,nV),nl.removeEventListener("p",Bc,!1));var rV=kC;function iV(t){return t!=null}function sV(t){return Array.isArray(t)}function rl(t,e,n){return t?e:n}var oV=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=_r(o,1),u=a[0];return!r.includes(u)});return s.reduce(function(o,a){var u=_r(a,2),l=u[0],c=u[1];return o[l]=c,o},{})},aV=["children","innerProps"],uV=["children","innerProps"];function lV(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,u=JF(n),l={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return l;var c=u.getBoundingClientRect(),d=c.height,f=n.getBoundingClientRect(),m=f.bottom,w=f.height,y=f.top,S=n.offsetParent.getBoundingClientRect(),p=S.top,g=o?window.innerHeight:YF(u),v=PC(u),_=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),b=p-x,N=g-y,U=b+v,Z=d-v-y,ee=m-g+v+_,Ae=v+y-x,De=160;switch(i){case"auto":case"bottom":if(N>=w)return{placement:"bottom",maxHeight:e};if(Z>=w&&!o)return s&&tl(u,ee,De),{placement:"bottom",maxHeight:e};if(!o&&Z>=r||o&&N>=r){s&&tl(u,ee,De);var Me=o?N-_:Z-_;return{placement:"bottom",maxHeight:Me}}if(i==="auto"||o){var _e=e,Oe=o?b:U;return Oe>=r&&(_e=Math.min(Oe-_-a,e)),{placement:"top",maxHeight:_e}}if(i==="bottom")return s&&zc(u,ee),{placement:"bottom",maxHeight:e};break;case"top":if(b>=w)return{placement:"top",maxHeight:e};if(U>=w&&!o)return s&&tl(u,Ae,De),{placement:"top",maxHeight:e};if(!o&&U>=r||o&&b>=r){var Ye=e;return(!o&&U>=r||o&&b>=r)&&(Ye=o?b-x:U-x),s&&tl(u,Ae,De),{placement:"top",maxHeight:Ye}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}function cV(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var DC=function(e){return e==="auto"?"bottom":e},dV=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,u=s.colors;return ae((r={label:"menu"},Bo(r,cV(i),"100%"),Bo(r,"position","absolute"),Bo(r,"width","100%"),Bo(r,"zIndex",1),r),n?{}:{backgroundColor:u.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},OC=C.createContext(null),hV=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,u=e.theme,l=C.useContext(OC)||{},c=l.setPortalPlacement,d=C.useRef(null),f=C.useState(i),m=_r(f,2),w=m[0],y=m[1],S=C.useState(null),p=_r(S,2),g=p[0],v=p[1],_=u.spacing.controlHeight;return nm(function(){var x=d.current;if(x){var b=o==="fixed",N=a&&!b,U=lV({maxHeight:i,menuEl:x,minHeight:r,placement:s,shouldScroll:N,isFixedPosition:b,controlHeight:_});y(U.maxHeight),v(U.placement),c==null||c(U.placement)}},[i,s,o,a,r,c,_]),n({ref:d,placerProps:ae(ae({},e),{},{placement:g||DC(s),maxHeight:w})})},fV=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ce("div",le({},Ge(e,"menu",{menu:!0}),{ref:r},i),n)},pV=fV,mV=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ae({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},gV=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ce("div",le({},Ge(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},NC=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ae({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},vV=NC,yV=NC,wV=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Dr(e,aV);return ce("div",le({},Ge(ae(ae({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},_V=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Dr(e,uV);return ce("div",le({},Ge(ae(ae({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},EV=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},SV=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,u=C.useRef(null),l=C.useRef(null),c=C.useState(DC(o)),d=_r(c,2),f=d[0],m=d[1],w=C.useMemo(function(){return{setPortalPlacement:m}},[]),y=C.useState(null),S=_r(y,2),p=S[0],g=S[1],v=C.useCallback(function(){if(i){var N=eV(i),U=a==="fixed"?0:window.pageYOffset,Z=N[f]+U;(Z!==(p==null?void 0:p.offset)||N.left!==(p==null?void 0:p.rect.left)||N.width!==(p==null?void 0:p.rect.width))&&g({offset:Z,rect:N})}},[i,a,f,p==null?void 0:p.offset,p==null?void 0:p.rect.left,p==null?void 0:p.rect.width]);nm(function(){v()},[v]);var _=C.useCallback(function(){typeof l.current=="function"&&(l.current(),l.current=null),i&&u.current&&(l.current=KF(i,u.current,v,{elementResize:"ResizeObserver"in window}))},[i,v]);nm(function(){_()},[_]);var x=C.useCallback(function(N){u.current=N,_()},[_]);if(!n&&a!=="fixed"||!p)return null;var b=ce("div",le({ref:x},Ge(ae(ae({},e),{},{offset:p.offset,position:a,rect:p.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ce(OC.Provider,{value:w},n?uE.createPortal(b,n):b)},TV=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},IV=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ce("div",le({},Ge(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},CV=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ae({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},bV=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ce("div",le({},Ge(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},RV=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},AV=function(e){var n=e.children,r=e.innerProps;return ce("div",le({},Ge(e,"indicatorsContainer",{indicators:!0}),r),n)},N1,xV=["size"],PV=["innerProps","isRtl","size"],kV={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},MC=function(e){var n=e.size,r=Dr(e,xV);return ce("svg",le({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:kV},r))},xv=function(e){return ce(MC,le({size:20},e),ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},LC=function(e){return ce(MC,le({size:20},e),ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},FC=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},DV=FC,OV=function(e){var n=e.children,r=e.innerProps;return ce("div",le({},Ge(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ce(LC,null))},NV=FC,MV=function(e){var n=e.children,r=e.innerProps;return ce("div",le({},Ge(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ce(xv,null))},LV=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},FV=function(e){var n=e.innerProps;return ce("span",le({},n,Ge(e,"indicatorSeparator",{"indicator-separator":!0})))},VV=NF(N1||(N1=MF([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),UV=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},df=function(e){var n=e.delay,r=e.offset;return ce("span",{css:Cv({animation:"".concat(VV," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},$V=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=Dr(e,PV);return ce("div",le({},Ge(ae(ae({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ce(df,{delay:0,offset:r}),ce(df,{delay:160,offset:!0}),ce(df,{delay:320,offset:!r}))},jV=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,u=s.spacing;return ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},BV=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ce("div",le({ref:s},Ge(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o),n)},zV=BV,HV=["data"],WV=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},qV=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,u=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return ce("div",le({},Ge(e,"group",{group:!0}),u),ce(o,le({},a,{selectProps:d,theme:c,getStyles:i,getClassNames:s,cx:r}),l),ce("div",null,n))},KV=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return ae({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},GV=function(e){var n=xC(e);n.data;var r=Dr(n,HV);return ce("div",le({},Ge(e,"groupHeading",{"group-heading":!0}),r))},QV=qV,XV=["innerRef","isDisabled","isHidden","inputClassName"],YV=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return ae(ae({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},JV),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},VC={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},JV={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},VC)},ZV=function(e){return ae({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},VC)},e3=function(e){var n=e.cx,r=e.value,i=xC(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,u=i.inputClassName,l=Dr(i,XV);return ce("div",le({},Ge(e,"input",{"input-container":!0}),{"data-value":r||""}),ce("input",le({className:n({input:!0},u),ref:s,style:ZV(a),disabled:o},l)))},t3=e3,n3=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return ae({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},r3=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return ae({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},i3=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return ae({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},UC=function(e){var n=e.children,r=e.innerProps;return ce("div",r,n)},s3=UC,o3=UC;function a3(t){var e=t.children,n=t.innerProps;return ce("div",le({role:"button"},n),e||ce(xv,{size:14}))}var u3=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,u=e.selectProps,l=r.Container,c=r.Label,d=r.Remove;return ce(l,{data:i,innerProps:ae(ae({},Ge(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:u},ce(c,{data:i,innerProps:ae({},Ge(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),ce(d,{data:i,innerProps:ae(ae({},Ge(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:u}))},l3=u3,c3=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,u=o.colors;return ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?u.primary:i?u.primary25:"transparent",color:r?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?u.primary:u.primary50}})},d3=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return ce("div",le({},Ge(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},h3=d3,f3=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},p3=function(e){var n=e.children,r=e.innerProps;return ce("div",le({},Ge(e,"placeholder",{placeholder:!0}),r),n)},m3=p3,g3=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},v3=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ce("div",le({},Ge(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},y3=v3,w3={ClearIndicator:MV,Control:zV,DropdownIndicator:OV,DownChevron:LC,CrossIcon:xv,Group:QV,GroupHeading:GV,IndicatorsContainer:AV,IndicatorSeparator:FV,Input:t3,LoadingIndicator:$V,Menu:pV,MenuList:gV,MenuPortal:SV,LoadingMessage:_V,NoOptionsMessage:wV,MultiValue:l3,MultiValueContainer:s3,MultiValueLabel:o3,MultiValueRemove:a3,Option:h3,Placeholder:m3,SelectContainer:IV,SingleValue:y3,ValueContainer:bV},_3=function(e){return ae(ae({},w3),e.components)},M1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function E3(t,e){return!!(t===e||M1(t)&&M1(e))}function S3(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!E3(t[n],e[n]))return!1;return!0}function T3(t,e){e===void 0&&(e=S3);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var I3={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},C3=function(e){return ce("span",le({css:I3},e))},L1=C3,b3={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.isDisabled,s=e.tabSelectsValue,o=e.context;switch(o){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,u=e.isDisabled,l=e.isSelected,c=function(w,y){return w&&w.length?"".concat(w.indexOf(y)+1," of ").concat(w.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if(n==="menu"){var d=u?" disabled":"",f="".concat(l?"selected":"focused").concat(d);return"option ".concat(o," ").concat(f,", ").concat(c(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},R3=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,u=e.selectProps,l=e.id,c=u.ariaLiveMessages,d=u.getOptionLabel,f=u.inputValue,m=u.isMulti,w=u.isOptionDisabled,y=u.isSearchable,S=u.menuIsOpen,p=u.options,g=u.screenReaderStatus,v=u.tabSelectsValue,_=u["aria-label"],x=u["aria-live"],b=C.useMemo(function(){return ae(ae({},b3),c||{})},[c]),N=C.useMemo(function(){var _e="";if(n&&b.onChange){var Oe=n.option,Ye=n.options,rt=n.removedValue,q=n.removedValues,re=n.value,E=function(R){return Array.isArray(R)?null:R},h=rt||Oe||E(re),T=h?d(h):"",k=Ye||q||void 0,O=k?k.map(d):[],M=ae({isDisabled:h&&w(h,a),label:T,labels:O},n);_e=b.onChange(M)}return _e},[n,b,w,a,d]),U=C.useMemo(function(){var _e="",Oe=r||i,Ye=!!(r&&a&&a.includes(r));if(Oe&&b.onFocus){var rt={focused:Oe,label:d(Oe),isDisabled:w(Oe,a),isSelected:Ye,options:s,context:Oe===r?"menu":"value",selectValue:a};_e=b.onFocus(rt)}return _e},[r,i,d,w,b,s,a]),Z=C.useMemo(function(){var _e="";if(S&&p.length&&b.onFilter){var Oe=g({count:s.length});_e=b.onFilter({inputValue:f,resultsMessage:Oe})}return _e},[s,f,S,b,p,g]),ee=C.useMemo(function(){var _e="";if(b.guidance){var Oe=i?"value":S?"menu":"input";_e=b.guidance({"aria-label":_,context:Oe,isDisabled:r&&w(r,a),isMulti:m,isSearchable:y,tabSelectsValue:v})}return _e},[_,r,i,m,w,y,S,b,a,v]),Ae="".concat(U," ").concat(Z," ").concat(ee),De=ce(C.Fragment,null,ce("span",{id:"aria-selection"},N),ce("span",{id:"aria-context"},Ae)),Me=(n==null?void 0:n.action)==="initial-input-focus";return ce(C.Fragment,null,ce(L1,{id:l},Me&&De),ce(L1,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text"},o&&!Me&&De))},A3=R3,rm=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],x3=new RegExp("["+rm.map(function(t){return t.letters}).join("")+"]","g"),$C={};for(var hf=0;hf<rm.length;hf++)for(var ff=rm[hf],pf=0;pf<ff.letters.length;pf++)$C[ff.letters[pf]]=ff.base;var jC=function(e){return e.replace(x3,function(n){return $C[n]})},P3=T3(jC),F1=function(e){return e.replace(/^\s+|\s+$/g,"")},k3=function(e){return"".concat(e.label," ").concat(e.value)},D3=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ae({ignoreCase:!0,ignoreAccents:!0,stringify:k3,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,u=i.trim,l=i.matchFrom,c=u?F1(r):r,d=u?F1(a(n)):a(n);return s&&(c=c.toLowerCase(),d=d.toLowerCase()),o&&(c=P3(c),d=jC(d)),l==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},O3=["innerRef"];function N3(t){var e=t.innerRef,n=Dr(t,O3),r=oV(n,"onExited","in","enter","exit","appear");return ce("input",le({ref:e},r,{css:Cv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var M3=function(e){e.preventDefault(),e.stopPropagation()};function L3(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=C.useRef(!1),a=C.useRef(!1),u=C.useRef(0),l=C.useRef(null),c=C.useCallback(function(S,p){if(l.current!==null){var g=l.current,v=g.scrollTop,_=g.scrollHeight,x=g.clientHeight,b=l.current,N=p>0,U=_-x-v,Z=!1;U>p&&o.current&&(r&&r(S),o.current=!1),N&&a.current&&(s&&s(S),a.current=!1),N&&p>U?(n&&!o.current&&n(S),b.scrollTop=_,Z=!0,o.current=!0):!N&&-p>v&&(i&&!a.current&&i(S),b.scrollTop=0,Z=!0,a.current=!0),Z&&M3(S)}},[n,r,i,s]),d=C.useCallback(function(S){c(S,S.deltaY)},[c]),f=C.useCallback(function(S){u.current=S.changedTouches[0].clientY},[]),m=C.useCallback(function(S){var p=u.current-S.changedTouches[0].clientY;c(S,p)},[c]),w=C.useCallback(function(S){if(S){var p=rV?{passive:!1}:!1;S.addEventListener("wheel",d,p),S.addEventListener("touchstart",f,p),S.addEventListener("touchmove",m,p)}},[m,f,d]),y=C.useCallback(function(S){S&&(S.removeEventListener("wheel",d,!1),S.removeEventListener("touchstart",f,!1),S.removeEventListener("touchmove",m,!1))},[m,f,d]);return C.useEffect(function(){if(e){var S=l.current;return w(S),function(){y(S)}}},[e,w,y]),function(S){l.current=S}}var V1=["boxSizing","height","overflow","paddingRight","position"],U1={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function $1(t){t.preventDefault()}function j1(t){t.stopPropagation()}function B1(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function z1(){return"ontouchstart"in window||navigator.maxTouchPoints}var H1=!!(typeof window<"u"&&window.document&&window.document.createElement),xo=0,os={capture:!1,passive:!1};function F3(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=C.useRef({}),s=C.useRef(null),o=C.useCallback(function(u){if(H1){var l=document.body,c=l&&l.style;if(r&&V1.forEach(function(w){var y=c&&c[w];i.current[w]=y}),r&&xo<1){var d=parseInt(i.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+d||0;Object.keys(U1).forEach(function(w){var y=U1[w];c&&(c[w]=y)}),c&&(c.paddingRight="".concat(m,"px"))}l&&z1()&&(l.addEventListener("touchmove",$1,os),u&&(u.addEventListener("touchstart",B1,os),u.addEventListener("touchmove",j1,os))),xo+=1}},[r]),a=C.useCallback(function(u){if(H1){var l=document.body,c=l&&l.style;xo=Math.max(xo-1,0),r&&xo<1&&V1.forEach(function(d){var f=i.current[d];c&&(c[d]=f)}),l&&z1()&&(l.removeEventListener("touchmove",$1,os),u&&(u.removeEventListener("touchstart",B1,os),u.removeEventListener("touchmove",j1,os)))}},[r]);return C.useEffect(function(){if(e){var u=s.current;return o(u),function(){a(u)}}},[e,o,a]),function(u){s.current=u}}var V3=function(){return document.activeElement&&document.activeElement.blur()},U3={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function $3(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,u=t.onTopLeave,l=L3({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:u}),c=F3({isEnabled:n}),d=function(m){l(m),c(m)};return ce(C.Fragment,null,n&&ce("div",{onClick:V3,css:U3}),e(d))}var j3={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},B3=function(e){var n=e.name,r=e.onFocus;return ce("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:j3,value:"",onChange:function(){}})},z3=B3,H3=function(e){return e.label},W3=function(e){return e.label},q3=function(e){return e.value},K3=function(e){return!!e.isDisabled},G3={clearIndicator:NV,container:TV,control:jV,dropdownIndicator:DV,group:WV,groupHeading:KV,indicatorsContainer:RV,indicatorSeparator:LV,input:YV,loadingIndicator:UV,loadingMessage:yV,menu:dV,menuList:mV,menuPortal:EV,multiValue:n3,multiValueLabel:r3,multiValueRemove:i3,noOptionsMessage:vV,option:c3,placeholder:f3,singleValue:g3,valueContainer:CV},Q3={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},X3=4,BC=4,Y3=38,J3=BC*2,Z3={baseUnit:BC,controlHeight:Y3,menuGutter:J3},mf={borderRadius:X3,colors:Q3,spacing:Z3},e6={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:O1(),captureMenuScroll:!O1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:D3(),formatGroupLabel:H3,getOptionLabel:W3,getOptionValue:q3,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:K3,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!tV(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function W1(t,e,n,r){var i=qC(t,e,n),s=KC(t,e,n),o=WC(t,e),a=Hc(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function zC(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return W1(t,o,e,a)}).filter(function(o){return q1(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=W1(t,n,e,r);return q1(t,s)?s:void 0}).filter(iV)}function HC(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,uC(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function t6(t,e){return HC(zC(t,e))}function q1(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!QC(t)||!s)&&GC(t,{label:o,value:a,data:i},r)}function n6(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function r6(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var WC=function(e,n){return e.getOptionLabel(n)},Hc=function(e,n){return e.getOptionValue(n)};function qC(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function KC(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Hc(t,e);return n.some(function(i){return Hc(t,i)===r})}function GC(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var QC=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},i6=1,XC=function(t){RL(n,t);var e=xL(n);function n(r){var i;if(CL(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.instancePrefix="",i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,u){var l=i.props,c=l.onChange,d=l.name;u.name=d,i.ariaOnChange(a,u),c(a,u)},i.setValue=function(a,u,l){var c=i.props,d=c.closeMenuOnSelect,f=c.isMulti,m=c.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),d&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:u,option:l})},i.selectOption=function(a){var u=i.props,l=u.blurInputOnSelect,c=u.isMulti,d=u.name,f=i.state.selectValue,m=c&&i.isOptionSelected(a,f),w=i.isOptionDisabled(a,f);if(m){var y=i.getOptionValue(a);i.setValue(f.filter(function(S){return i.getOptionValue(S)!==y}),"deselect-option",a)}else if(!w)c?i.setValue([].concat(uC(f),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:d});return}l&&i.blurInput()},i.removeValue=function(a){var u=i.props.isMulti,l=i.state.selectValue,c=i.getOptionValue(a),d=l.filter(function(m){return i.getOptionValue(m)!==c}),f=rl(u,d,d[0]||null);i.onChange(f,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(rl(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,u=i.state.selectValue,l=u[u.length-1],c=u.slice(0,u.length-1),d=rl(a,c,c[0]||null);i.onChange(d,{action:"pop-value",removedValue:l})},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];return XF.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(a){return WC(i.props,a)},i.getOptionValue=function(a){return Hc(i.props,a)},i.getStyles=function(a,u){var l=i.props.unstyled,c=G3[a](u,l);c.boxSizing="border-box";var d=i.props.styles[a];return d?d(c,u):c},i.getClassNames=function(a,u){var l,c;return(l=(c=i.props.classNames)[a])===null||l===void 0?void 0:l.call(c,u)},i.getElementId=function(a){return"".concat(i.instancePrefix,"-").concat(a)},i.getComponents=function(){return _3(i.props)},i.buildCategorizedOptions=function(){return zC(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return HC(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,u){i.setState({ariaSelection:ae({value:a},u)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var u=i.props,l=u.isMulti,c=u.menuIsOpen;i.focusInput(),c?(i.setState({inputIsHiddenAfterUpdate:!l}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&oh(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var u=a.touches,l=u&&u.item(0);l&&(i.initialTouchX=l.clientX,i.initialTouchY=l.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var u=a.touches,l=u&&u.item(0);if(l){var c=Math.abs(l.clientX-i.initialTouchX),d=Math.abs(l.clientY-i.initialTouchY),f=5;i.userIsDragging=c>f||d>f}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var u=i.props.inputValue,l=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(l,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){i.blockOptionHover||i.state.focusedOption===a||i.setState({focusedOption:a})},i.shouldHideSelectedOptions=function(){return QC(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var u=i.props,l=u.isMulti,c=u.backspaceRemovesValue,d=u.escapeClearsValue,f=u.inputValue,m=u.isClearable,w=u.isDisabled,y=u.menuIsOpen,S=u.onKeyDown,p=u.tabSelectsValue,g=u.openMenuOnFocus,v=i.state,_=v.focusedOption,x=v.focusedValue,b=v.selectValue;if(!w&&!(typeof S=="function"&&(S(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!l||f)return;i.focusValue("previous");break;case"ArrowRight":if(!l||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(x)i.removeValue(x);else{if(!c)return;l?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!y||!p||!_||g&&i.isOptionSelected(_,b))return;i.selectOption(_);break;case"Enter":if(a.keyCode===229)break;if(y){if(!_||i.isComposing)return;i.selectOption(_);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):m&&d&&i.clearValue();break;case" ":if(f)return;if(!y){i.openMenu("first");break}if(!_)return;i.selectOption(_);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.instancePrefix="react-select-"+(i.props.instanceId||++i6),i.state.selectValue=k1(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusedOption=s[o]}return i}return bL(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&D1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,u=this.state.isFocused;(u&&!o&&i.isDisabled||u&&a&&!i.menuIsOpen)&&this.focusInput(),u&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(D1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,u=o.isFocused,l=this.buildFocusableOptions(),c=i==="first"?0:l.length-1;if(!this.props.isMulti){var d=l.indexOf(a[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:l[c]},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=o.indexOf(a);a||(u=-1);var l=o.length-1,c=-1;if(o.length){switch(i){case"previous":u===0?c=0:u===-1?c=l:c=u-1;break;case"next":u>-1&&u<l&&(c=u+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var u=0,l=a.indexOf(o);o||(l=-1),i==="up"?u=l>0?l-1:a.length-1:i==="down"?u=(l+1)%a.length:i==="pageup"?(u=l-s,u<0&&(u=0)):i==="pagedown"?(u=l+s,u>a.length-1&&(u=a.length-1)):i==="last"&&(u=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[u],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(mf):ae(ae({},mf),this.props.theme):mf}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,u=this.getValue,l=this.selectOption,c=this.setValue,d=this.props,f=d.isMulti,m=d.isRtl,w=d.options,y=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:u,hasValue:y,isMulti:f,isRtl:m,options:w,selectOption:l,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return qC(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return KC(this.props,i,s)}},{key:"filterOption",value:function(i,s){return GC(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,u=i.inputValue,l=i.tabIndex,c=i.form,d=i.menuIsOpen,f=i.required,m=this.getComponents(),w=m.Input,y=this.state,S=y.inputIsHidden,p=y.ariaSelection,g=this.commonProps,v=a||this.getElementId("input"),_=ae(ae(ae({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox"},d&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(p==null?void 0:p.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?C.createElement(w,le({},g,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,form:c,type:"text",value:u},_)):C.createElement(N3,le({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Bc,onFocus:this.onInputFocus,disabled:s,tabIndex:l,inputMode:"none",form:c,value:""},_))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,u=s.MultiValueLabel,l=s.MultiValueRemove,c=s.SingleValue,d=s.Placeholder,f=this.commonProps,m=this.props,w=m.controlShouldRenderValue,y=m.isDisabled,S=m.isMulti,p=m.inputValue,g=m.placeholder,v=this.state,_=v.selectValue,x=v.focusedValue,b=v.isFocused;if(!this.hasValue()||!w)return p?null:C.createElement(d,le({},f,{key:"placeholder",isDisabled:y,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),g);if(S)return _.map(function(U,Z){var ee=U===x,Ae="".concat(i.getOptionLabel(U),"-").concat(i.getOptionValue(U));return C.createElement(o,le({},f,{components:{Container:a,Label:u,Remove:l},isFocused:ee,isDisabled:y,key:Ae,index:Z,removeProps:{onClick:function(){return i.removeValue(U)},onTouchEnd:function(){return i.removeValue(U)},onMouseDown:function(Me){Me.preventDefault()}},data:U}),i.formatOptionLabel(U,"value"))});if(p)return null;var N=_[0];return C.createElement(c,le({},f,{data:N,isDisabled:y}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,u=a.isDisabled,l=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||l)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(s,le({},o,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,u=a.isDisabled,l=a.isLoading,c=this.state.isFocused;if(!s||!l)return null;var d={"aria-hidden":"true"};return C.createElement(s,le({},o,{innerProps:d,isDisabled:u,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,u=this.props.isDisabled,l=this.state.isFocused;return C.createElement(o,le({},a,{isDisabled:u,isFocused:l}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,u=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(s,le({},o,{innerProps:l,isDisabled:a,isFocused:u}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,u=s.Menu,l=s.MenuList,c=s.MenuPortal,d=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,w=this.commonProps,y=this.state.focusedOption,S=this.props,p=S.captureMenuScroll,g=S.inputValue,v=S.isLoading,_=S.loadingMessage,x=S.minMenuHeight,b=S.maxMenuHeight,N=S.menuIsOpen,U=S.menuPlacement,Z=S.menuPosition,ee=S.menuPortalTarget,Ae=S.menuShouldBlockScroll,De=S.menuShouldScrollIntoView,Me=S.noOptionsMessage,_e=S.onMenuScrollToTop,Oe=S.onMenuScrollToBottom;if(!N)return null;var Ye=function(k,O){var M=k.type,V=k.data,R=k.isDisabled,W=k.isSelected,X=k.label,H=k.value,Y=y===V,A=R?void 0:function(){return i.onOptionHover(V)},L=R?void 0:function(){return i.selectOption(V)},F="".concat(i.getElementId("option"),"-").concat(O),K={id:F,onClick:L,onMouseMove:A,onMouseOver:A,tabIndex:-1};return C.createElement(m,le({},w,{innerProps:K,data:V,isDisabled:R,isSelected:W,key:F,label:X,type:M,value:H,isFocused:Y,innerRef:Y?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(k.data,"menu"))},rt;if(this.hasOptions())rt=this.getCategorizedOptions().map(function(T){if(T.type==="group"){var k=T.data,O=T.options,M=T.index,V="".concat(i.getElementId("group"),"-").concat(M),R="".concat(V,"-heading");return C.createElement(o,le({},w,{key:V,data:k,options:O,Heading:a,headingProps:{id:R,data:T.data},label:i.formatGroupLabel(T.data)}),T.options.map(function(W){return Ye(W,"".concat(M,"-").concat(W.index))}))}else if(T.type==="option")return Ye(T,"".concat(T.index))});else if(v){var q=_({inputValue:g});if(q===null)return null;rt=C.createElement(d,w,q)}else{var re=Me({inputValue:g});if(re===null)return null;rt=C.createElement(f,w,re)}var E={minMenuHeight:x,maxMenuHeight:b,menuPlacement:U,menuPosition:Z,menuShouldScrollIntoView:De},h=C.createElement(hV,le({},w,E),function(T){var k=T.ref,O=T.placerProps,M=O.placement,V=O.maxHeight;return C.createElement(u,le({},w,E,{innerRef:k,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove,id:i.getElementId("listbox")},isLoading:v,placement:M}),C.createElement($3,{captureEnabled:p,onTopArrive:_e,onBottomArrive:Oe,lockEnabled:Ae},function(R){return C.createElement(l,le({},w,{innerRef:function(X){i.getMenuListRef(X),R(X)},isLoading:v,maxHeight:V,focusedOption:y}),rt)}))});return ee||Z==="fixed"?C.createElement(c,le({},w,{appendTo:ee,controlElement:this.controlRef,menuPlacement:U,menuPosition:Z}),h):h}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,u=s.isMulti,l=s.name,c=s.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!a)return C.createElement(z3,{name:l,onFocus:this.onValueInputFocus});if(!(!l||a))if(u)if(o){var f=d.map(function(y){return i.getOptionValue(y)}).join(o);return C.createElement("input",{name:l,type:"hidden",value:f})}else{var m=d.length>0?d.map(function(y,S){return C.createElement("input",{key:"i-".concat(S),name:l,type:"hidden",value:i.getOptionValue(y)})}):C.createElement("input",{name:l,type:"hidden",value:""});return C.createElement("div",null,m)}else{var w=d[0]?this.getOptionValue(d[0]):"";return C.createElement("input",{name:l,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,u=s.focusedValue,l=s.isFocused,c=s.selectValue,d=this.getFocusableOptions();return C.createElement(A3,le({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:u,isFocused:l,selectValue:c,focusableOptions:d}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,u=i.ValueContainer,l=this.props,c=l.className,d=l.id,f=l.isDisabled,m=l.menuIsOpen,w=this.state.isFocused,y=this.commonProps=this.getCommonProps();return C.createElement(a,le({},y,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:w}),this.renderLiveRegion(),C.createElement(s,le({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:w,menuIsOpen:m}),C.createElement(u,le({},y,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),C.createElement(o,le({},y,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,l=s.ariaSelection,c=s.isFocused,d=s.prevWasFocused,f=i.options,m=i.value,w=i.menuIsOpen,y=i.inputValue,S=i.isMulti,p=k1(m),g={};if(o&&(m!==o.value||f!==o.options||w!==o.menuIsOpen||y!==o.inputValue)){var v=w?t6(i,p):[],_=a?n6(s,p):null,x=r6(s,v);g={selectValue:p,focusedOption:x,focusedValue:_,clearFocusValueOnUpdate:!1}}var b=u!=null&&i!==o?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},N=l,U=c&&d;return c&&!U&&(N={value:rl(S,p,p[0]||null),options:p,action:"initial-input-focus"},U=!d),(l==null?void 0:l.action)==="initial-input-focus"&&(N=null),ae(ae(ae({},g),b),{},{prevProps:i,ariaSelection:N,prevWasFocused:U})}}]),n}(C.Component);XC.defaultProps=e6;var s6=C.forwardRef(function(t,e){var n=IL(t);return C.createElement(XC,le({ref:e},n))}),o6=s6;function a6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,eo(t,e)}function u6(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Rl(t,e,n){return oC()?Rl=Reflect.construct.bind():Rl=function(i,s,o){var a=[null];a.push.apply(a,s);var u=Function.bind.apply(i,a),l=new u;return o&&eo(l,o.prototype),l},Rl.apply(null,arguments)}function im(t){var e=typeof Map=="function"?new Map:void 0;return im=function(r){if(r===null||!u6(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Rl(r,arguments,Ba(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),eo(i,r)},im(t)}var Jn=function(t){a6(e,t);function e(n){var r;return r=t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,aC(r)}return e}(im(Error));function gf(t){return Math.round(t*255)}function l6(t,e,n){return gf(t)+","+gf(e)+","+gf(n)}function qa(t,e,n,r){if(r===void 0&&(r=l6),e===0)return r(n,n,n);var i=(t%360+360)%360/60,s=(1-Math.abs(2*n-1))*e,o=s*(1-Math.abs(i%2-1)),a=0,u=0,l=0;i>=0&&i<1?(a=s,u=o):i>=1&&i<2?(a=o,u=s):i>=2&&i<3?(u=s,l=o):i>=3&&i<4?(u=o,l=s):i>=4&&i<5?(a=o,l=s):i>=5&&i<6&&(a=s,l=o);var c=n-s/2,d=a+c,f=u+c,m=l+c;return r(d,f,m)}var K1={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function c6(t){if(typeof t!="string")return t;var e=t.toLowerCase();return K1[e]?"#"+K1[e]:t}var d6=/^#[a-fA-F0-9]{6}$/,h6=/^#[a-fA-F0-9]{8}$/,f6=/^#[a-fA-F0-9]{3}$/,p6=/^#[a-fA-F0-9]{4}$/,vf=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,m6=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,g6=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,v6=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function YC(t){if(typeof t!="string")throw new Jn(3);var e=c6(t);if(e.match(d6))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(h6)){var n=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:n}}if(e.match(f6))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(p6)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var i=vf.exec(e);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var s=m6.exec(e.substring(0,50));if(s)return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10),alpha:parseFloat(""+s[4])>1?parseFloat(""+s[4])/100:parseFloat(""+s[4])};var o=g6.exec(e);if(o){var a=parseInt(""+o[1],10),u=parseInt(""+o[2],10)/100,l=parseInt(""+o[3],10)/100,c="rgb("+qa(a,u,l)+")",d=vf.exec(c);if(!d)throw new Jn(4,e,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10)}}var f=v6.exec(e.substring(0,50));if(f){var m=parseInt(""+f[1],10),w=parseInt(""+f[2],10)/100,y=parseInt(""+f[3],10)/100,S="rgb("+qa(m,w,y)+")",p=vf.exec(S);if(!p)throw new Jn(4,e,S);return{red:parseInt(""+p[1],10),green:parseInt(""+p[2],10),blue:parseInt(""+p[3],10),alpha:parseFloat(""+f[4])>1?parseFloat(""+f[4])/100:parseFloat(""+f[4])}}throw new Jn(5)}function y6(t){var e=t.red/255,n=t.green/255,r=t.blue/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=(i+s)/2;if(i===s)return t.alpha!==void 0?{hue:0,saturation:0,lightness:o,alpha:t.alpha}:{hue:0,saturation:0,lightness:o};var a,u=i-s,l=o>.5?u/(2-i-s):u/(i+s);switch(i){case e:a=(n-r)/u+(n<r?6:0);break;case n:a=(r-e)/u+2;break;default:a=(e-n)/u+4;break}return a*=60,t.alpha!==void 0?{hue:a,saturation:l,lightness:o,alpha:t.alpha}:{hue:a,saturation:l,lightness:o}}function w6(t){return y6(YC(t))}var _6=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},sm=_6;function bi(t){var e=t.toString(16);return e.length===1?"0"+e:e}function yf(t){return bi(Math.round(t*255))}function E6(t,e,n){return sm("#"+yf(t)+yf(e)+yf(n))}function Wc(t,e,n){return qa(t,e,n,E6)}function S6(t,e,n){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number")return Wc(t,e,n);if(typeof t=="object"&&e===void 0&&n===void 0)return Wc(t.hue,t.saturation,t.lightness);throw new Jn(1)}function T6(t,e,n,r){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?Wc(t,e,n):"rgba("+qa(t,e,n)+","+r+")";if(typeof t=="object"&&e===void 0&&n===void 0&&r===void 0)return t.alpha>=1?Wc(t.hue,t.saturation,t.lightness):"rgba("+qa(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new Jn(2)}function om(t,e,n){if(typeof t=="number"&&typeof e=="number"&&typeof n=="number")return sm("#"+bi(t)+bi(e)+bi(n));if(typeof t=="object"&&e===void 0&&n===void 0)return sm("#"+bi(t.red)+bi(t.green)+bi(t.blue));throw new Jn(6)}function I6(t,e,n,r){if(typeof t=="string"&&typeof e=="number"){var i=YC(t);return"rgba("+i.red+","+i.green+","+i.blue+","+e+")"}else{if(typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?om(t,e,n):"rgba("+t+","+e+","+n+","+r+")";if(typeof t=="object"&&e===void 0&&n===void 0&&r===void 0)return t.alpha>=1?om(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}throw new Jn(7)}var C6=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},b6=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},R6=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},A6=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function x6(t){if(typeof t!="object")throw new Jn(8);if(b6(t))return I6(t);if(C6(t))return om(t);if(A6(t))return T6(t);if(R6(t))return S6(t);throw new Jn(8)}function JC(t,e,n){return function(){var i=n.concat(Array.prototype.slice.call(arguments));return i.length>=e?t.apply(this,i):JC(t,e,i)}}function P6(t){return JC(t,t.length,[])}function k6(t,e,n){return Math.max(t,Math.min(e,n))}function D6(t,e){if(e==="transparent")return e;var n=w6(e);return x6(le({},n,{lightness:k6(0,1,n.lightness-parseFloat(t))}))}var O6=P6(D6),N6=O6;const M6=()=>{var Y;const[t,e]=C.useState([]),[n,r]=C.useState(!0),[i,s]=C.useState(!1),[o,a]=C.useState(null),[u,l]=C.useState(!1),[c,d]=C.useState([]),[f,m]=C.useState("text"),[w,y]=C.useState(""),[S,p]=C.useState("New Form"),[g,v]=C.useState(""),[_,x]=C.useState({}),[b,N]=C.useState(""),[U,Z]=C.useState(""),ee=rg(),[Ae,De]=C.useState(!1),[Me,_e]=C.useState(""),Oe=()=>I.jsxs("div",{className:"max-w-md mx-auto p-4",children:[I.jsx("input",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:border-blue-300 placeholder-gray-400",value:Me,onChange:A=>_e(A.target.value),placeholder:"Enter email to share with"}),I.jsx("button",{onClick:rt,className:"w-full mt-4 py-2 px-4 bg-gradient-to-r from-cyan-200 to-blue-200 text-black font-bold rounded focus:outline-none hover:from-cyan-300 hover:to-blue-300 hover:text-white",children:"Share Form"})]}),Ye=async()=>{try{await zP(yt),console.log("Logged out successfully")}catch(A){console.error("Error logging out:",A)}},rt=async()=>{var de;const A=(de=yt.currentUser)==null?void 0:de.uid;if(!A){console.error("User not authenticated"),v("Authentication error.");return}const L=Ur(Sn,"users"),F=await Kp(L);let K=null;if(F.forEach(D=>{D.data().email===Me&&(K=D)}),!K){v("No matching user found.");return}if(o&&o.id){let D=o.allowed||[];D.includes(Me)||D.push(Me);const G=Ht(Sn,"users",A,"forms",o.id);await uM(G,{allowed:D});const oe={...o,submitto:{form_id:o.id,parent_id:A},allowed:D};De(!1),await ia(Ht(Ur(Ht(Sn,"users",K.id),"forms"),o.id),oe)}},q=async()=>{var L;const A=(L=yt.currentUser)==null?void 0:L.uid;if(!A){console.error("User not authenticated"),v("Authentication error.");return}if(o&&o.id)try{const F=Ht(Ur(Ht(Sn,"users",A),"forms"),o.id);(await RI(F)).exists()?ee(`/answers/${o.id}`):v("You don't have permission to access this form.")}catch(F){console.error("Error accessing form: ",F),v(F.message)}else v("No form selected.")},re=[{value:"Burning",label:"Burning",color:"#F4D1E7"},{value:"Hot",label:"Hot",color:"#F8E7F2"},{value:"Cold",label:"Cold",color:"#BCD0EE"},{value:"Freezing",label:"Freezing",color:"#B6F0FA"}],E=(A,L="",F={})=>{for(let K in A){let de=L?`${L}_${K}`:K;typeof A[K]=="object"&&A[K]!==null&&!Array.isArray(A[K])?E(A[K],de,F):F[de]=A[K]}return F},h=A=>{N(A),x(L=>({...L,OcrText:A}))},T=A=>{N(A),x(L=>({...L,STT:A}))},k=A=>{const L=E(A.data);Z(A),x(F=>({...F,...L}))},O={option:(A,L)=>({...A,backgroundColor:L.isFocused?N6(.1,L.data.color):L.data.color,color:"black"}),singleValue:(A,L)=>({...A,color:"black"}),control:(A,L)=>({...A,backgroundColor:L.hasValue?L.getValue()[0].color:"#fff",borderColor:L.isFocused?"#A5ACB3":"#ccc",boxShadow:L.isFocused?"0 3px 10px rgba(0, 0, 0, 0.15)":null,"&:hover":{borderColor:L.isFocused?"#A5ACB3":"#ccc"}})},M=async A=>{var L;try{const F=(L=yt.currentUser)==null?void 0:L.uid;if(!F){console.error("User not authenticated");return}const K=Ht(Sn,"users",F,"forms",A);await lM(K),R()}catch(F){console.error("Error deleting form: ",F)}},V=async()=>{var A;if(S==="New Form"||S==="")v("Please provide a unique name for your form.");else try{const L=(A=yt.currentUser)==null?void 0:A.uid;if(!L){console.error("User not authenticated"),v("Authentication error.");return}const F=Ur(Ht(Sn,"users",L),"forms"),K=Ht(F),de={name:S,fields:c,submitto:{form_id:K.id,parent_id:L},allowed:[yt.currentUser.email]};await ia(K,de),R(),v("")}catch(L){console.error("Error saving form: ",L),v(L.message)}},R=async()=>{var A;try{const L=(A=yt.currentUser)==null?void 0:A.uid;if(!L){console.error("User not authenticated");return}const F=Ur(Ht(Sn,"users",L),"forms"),de=(await Kp(F)).docs.map(D=>({id:D.id,...D.data()}));e(de)}catch(L){console.error("Error fetching forms: ",L)}finally{r(!1)}},W=A=>{a(A),s(!0)},X=()=>{f==="custom"?(d([...c,w]),y("")):d([...c,f])};C.useEffect(()=>{R()},[]);const H=async A=>{var F;if(A.preventDefault(),!((F=yt.currentUser)==null?void 0:F.uid)){console.error("User not authenticated");return}try{const K=Ur(Ht(Sn,"users",o.submitto.parent_id),"answers");_.parent_form=o.submitto.form_id,await ia(Ht(K),_),console.log("Responses saved successfully."),s(!1)}catch(K){console.error("Error saving responses: ",K)}};return I.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-blue-200 to-pink-100 p-4 md:p-6",children:[I.jsx(gv,{}),I.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 shadow-md p-6 rounded-md bg-white",children:[I.jsxs("p",{className:"mb-6 text-gray-700 font-semibold",children:["Currently logged in: ",(Y=yt.currentUser)==null?void 0:Y.email,I.jsx("button",{onClick:Ye,className:"w-full py-2 px-4 mt-4 bg-gradient-to-r from-red-200 to-pink-200 text-black font-bold rounded focus:outline-none hover:from-red-300 hover:to-pink-300 hover:text-white",children:"Logout"})]}),I.jsx("button",{onClick:()=>l(!0),className:"w-full py-2 px-4 bg-gradient-to-r from-cyan-200 to-blue-200 text-black font-bold rounded focus:outline-none hover:from-cyan-300 hover:to-blue-300 hover:text-white",children:"+ Add New Form"}),n?I.jsx("p",{className:"text-gray-500",children:"Loading..."}):I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"My Forms"}),t.length>0?t.map(A=>I.jsx("div",{className:"p-4 rounded shadow mb-4 border bg-gray-100",children:I.jsxs("div",{className:"flex flex-wrap justify-between items-center",children:[I.jsxs("div",{className:"flex-1 mb-2 md:mb-0",children:[I.jsx("p",{className:"text-gray-800 font-medium",children:A.name}),I.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["ID: ",A.id]})]}),I.jsxs("div",{children:[I.jsx("button",{onClick:()=>W(A),className:"mr-2 bg-blue-200 text-black rounded-full py-1 px-3 hover:bg-blue-300 focus:outline-none",children:"Open"}),I.jsx("button",{onClick:()=>M(A.id),className:"bg-pink-200 text-black rounded-full py-1 px-3 hover:bg-pink-300 focus:outline-none",children:"Delete"})]})]})},A.id)):I.jsx("p",{className:"text-gray-500",children:"No forms available"})]}),i&&(o==null?void 0:o.fields)&&I.jsxs("div",{className:"mt-4 space-y-4",children:[I.jsxs("div",{children:[Ae&&Oe(),I.jsx("button",{onClick:()=>De(!0),children:I.jsx(CM,{})})]}),I.jsx("button",{onClick:q,className:"w-full py-2 px-4 bg-gradient-to-r from-blue-300 to-cyan-200 text-black font-bold rounded focus:outline-none hover:from-blue-400 hover:to-cyan-300 hover:text-white",children:"Go to Answers"}),I.jsxs("form",{className:"mt-4 space-y-4",children:[Object.keys(o.fields).map(A=>I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{className:"block text-gray-700 mb-2 capitalize",children:o.fields[A]}),o.fields[A]==="Transcript OCR"?I.jsx(AM,{onTextChange:h}):o.fields[A]==="Business Card Scanner"?I.jsx(hL,{onDataExtracted:k}):o.fields[A]==="Audio Transcription"?I.jsx(vL,{setSTTText:T}):o.fields[A]==="Lead Temperature"?I.jsx(o6,{options:re,styles:O,onChange:L=>x(F=>({...F,[o.fields[A]]:L.value}))}):I.jsx("input",{type:"text",name:A,className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",onChange:L=>x(F=>({...F,[o.fields[A]]:L.target.value}))})]},A)),I.jsx("button",{className:"w-full py-2 px-4 bg-gradient-to-r from-cyan-200 to-blue-200 text-black font-bold rounded focus:outline-none hover:from-cyan-300 hover:to-blue-300 hover:text-white",onClick:H,children:"Submit"})]}),I.jsx("button",{onClick:()=>s(!1),className:"w-full py-2 bg-gray-200 rounded hover:bg-gray-300 focus:outline-none",children:"Close"})]}),u&&I.jsxs("div",{className:"mt-4 space-y-4",children:[I.jsx("input",{type:"text",value:S,placeholder:"Enter form name",onChange:A=>p(A.target.value),className:"w-full p-2 mb-4 border rounded shadow-sm focus:outline-none focus:border-blue-400"}),g&&I.jsx("p",{className:"text-red-500",children:g})," ",I.jsxs("select",{value:f,onChange:A=>m(A.target.value),className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",children:[I.jsx("option",{value:"Business Card Scanner",children:"Business Card Reader"}),I.jsx("option",{value:"Audio Transcription",children:"Audio - Text"}),I.jsx("option",{value:"Transcript OCR",children:"Transcript OCR"}),I.jsx("option",{value:"text",children:"Base Text"}),I.jsx("option",{value:"Lead Temperature",children:"Lead Temperature"}),I.jsx("option",{value:"custom",children:"Custom"})]}),f==="custom"&&I.jsx("input",{type:"text",value:w,placeholder:"Enter custom field",onChange:A=>y(A.target.value),className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400"}),I.jsx("button",{onClick:X,className:"w-full py-2 px-4 bg-gradient-to-r from-blue-300 to-cyan-200 text-black font-bold rounded focus:outline-none hover:from-blue-400 hover:to-cyan-300 hover:text-white",children:"Add Field"}),c.map((A,L)=>I.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded shadow",children:[I.jsx("span",{className:"text-gray-700",children:A}),I.jsx("button",{onClick:()=>{const F=[...c];F.splice(L,1),d(F)},className:"text-pink-300 hover:underline",children:"Remove"})]},L)),I.jsx("button",{onClick:()=>{S!=="New Form"&&(console.log(g),l(!1),d([]),m(""),V()),v("Please choose another Name for the form")},className:"w-full py-2 px-4 bg-gradient-to-r from-cyan-200 to-blue-200 text-black font-bold rounded focus:outline-none hover:from-cyan-300 hover:to-blue-300 hover:text-white",children:"Save and Close"})]})]})]})};function L6(t){return yn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 4H6c-1.103 0-2 .897-2 2v5h2V8l6.4 4.8a1.001 1.001 0 0 0 1.2 0L20 8v9h-8v2h8c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-7 6.75L6.666 6h12.668L13 10.75z"}},{tag:"path",attr:{d:"M2 12h7v2H2zm2 3h6v2H4zm3 3h4v2H7z"}}]})(t)}const F6=()=>{const{formId:t}=rA(),[e,n]=C.useState([]),[r,i]=C.useState(!0),[s,o]=C.useState(null),a=["first_name","last_name","occupation","street","house_number","postal_code","city","phone","email"],u=["OcrText","STT","text"],l="website",c=[...a,...u,l,"parent_form","id"],d=(_,x)=>I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-600 capitalize",children:_.replace("_"," ")}),I.jsx("input",{type:"text",className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",value:x,readOnly:!0})]},_),f=(_,x,b=3)=>I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-600 capitalize",children:_.replace("_"," ")}),I.jsx("textarea",{className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",value:x,readOnly:!0,rows:b})]},_),m=(_,x)=>I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-600 capitalize",children:_.replace("_"," ")}),I.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",children:x})]},_),w=_=>{const x=encodeURIComponent("Outreach Subject Dummy"),b=encodeURIComponent("Hey, we talked today and bla bla...");window.location.href=`mailto:${_}?subject=${x}&body=${b}`},y=_=>a.some(b=>_[b])?I.jsx(I.Fragment,{children:I.jsxs("div",{className:"bg-gray-200 p-4 rounded",children:[I.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Contact Card:"}),a.map(b=>b==="email"&&_[b]?I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-600 capitalize",children:b.replace("_"," ")}),I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("input",{type:"text",className:"w-full p-2 border rounded shadow-sm focus:outline-none focus:border-blue-400",value:_[b],readOnly:!0}),I.jsx("button",{onClick:()=>w(_[b]),className:"ml-2 bg-green-500 text-white px-3 py-3 rounded focus:outline-none",children:I.jsx(L6,{})})]})]},b):_[b]?d(b,_[b]):null)]})}):null,S=_=>u.some(b=>_[b])?I.jsxs(I.Fragment,{children:[I.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Textareas:"}),u.map(b=>_[b]?f(b,_[b]):null)]}):null,p=_=>_[l]?I.jsxs(I.Fragment,{children:[I.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Website:"}),m(l,_[l])]}):null,g=_=>{const x=Object.entries(_).filter(([b])=>!c.includes(b));return x.length===0?null:I.jsxs(I.Fragment,{children:[I.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"The rest:"}),x.map(([b,N])=>f(b,N,1))]})};C.useEffect(()=>{(async()=>{try{const b=(await RI(Ht(Sn,"users",yt.currentUser.uid,"forms",t))).data();if(b&&b.allowed.includes(yt.currentUser.email)){const N=b.submitto,Z=(await Kp(Ur(Sn,"users",N.parent_id,"answers"))).docs.filter(ee=>ee.data().parent_form===N.form_id);n(Z.map(ee=>({id:ee.id,...ee.data()})))}}catch(x){console.error("Error fetching form details or answers:",x)}finally{i(!1)}})()},[t]);const v=_=>{o(s===_?null:_)};return I.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-blue-200 to-pink-100 p-4 md:p-6",children:[I.jsx(gv,{}),I.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 shadow-md p-6 rounded-md bg-white",children:[I.jsxs("p",{className:"mb-6 text-gray-700 font-semibold",children:["Form ID: ",t]}),I.jsxs("p",{className:"mb-6 text-gray-500",children:["Viewing answers as: ",yt.currentUser.email]}),r&&I.jsx("p",{className:"text-gray-500",children:"Loading answers..."}),!r&&e.map(_=>I.jsxs("div",{className:"p-4 rounded shadow mb-4 border bg-gray-100",children:[I.jsxs("div",{className:"flex flex-wrap justify-between items-center cursor-pointer",onClick:()=>v(_.id),children:[I.jsx("div",{className:"flex-1 mb-2 md:mb-0",children:I.jsxs("p",{className:"text-gray-800 font-medium",children:["Answer from Form: ",_.id||"Anonymous"]})}),I.jsx("div",{children:s===_.id?I.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded focus:outline-none",children:"Close"}):I.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded focus:outline-none",children:"View"})})]}),s===_.id&&I.jsxs("div",{className:"mt-4 space-y-4",children:[y(_),S(_),p(_),g(_)]})]},_.id))]})]})};function V6(){return I.jsx(fM,{children:I.jsx(_A,{children:I.jsxs(yA,{children:[I.jsx(No,{path:"/login",element:I.jsx(hM,{})}),I.jsx(No,{path:"/dashboard",element:I.jsx(f1,{children:I.jsx(M6,{})})}),I.jsx(No,{path:"/answers/:formId",element:I.jsx(f1,{children:I.jsx(F6,{})})}),I.jsx(No,{path:"/",element:I.jsx(IM,{})})]})})})}_f.createRoot(document.getElementById("root")).render(I.jsx(vr.StrictMode,{children:I.jsx(V6,{})}));
